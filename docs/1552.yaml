- en: Guiding an LLM’s Response to Create Structured Output
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/guiding-an-llms-response-to-create-structured-output-5dde0d3e426b?source=collection_archive---------5-----------------------#2024-06-21](https://towardsdatascience.com/guiding-an-llms-response-to-create-structured-output-5dde0d3e426b?source=collection_archive---------5-----------------------#2024-06-21)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*Learn how to structure a language model’s response to ensure that the response
    format is respected, such as JSON*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@theDrewDag?source=post_page---byline--5dde0d3e426b--------------------------------)[![Andrea
    D''Agostino](../Images/58c7c218815f25278aae59cea44d8771.png)](https://medium.com/@theDrewDag?source=post_page---byline--5dde0d3e426b--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--5dde0d3e426b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--5dde0d3e426b--------------------------------)
    [Andrea D''Agostino](https://medium.com/@theDrewDag?source=post_page---byline--5dde0d3e426b--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--5dde0d3e426b--------------------------------)
    ·9 min read·Jun 21, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/46656d56b1953f990b95d596d65622a0.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Ricardo Gomez Angel](https://unsplash.com/@rgaleriacom?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: This article will teach you how to structure an LLM response such as GPT-4 or
    Llama 3 using validation libraries in Python.
  prefs: []
  type: TYPE_NORMAL
- en: This is a very relevant topic given **the need to extract structured information
    in JSON format, for example, turns out to be fundamental for data mining tasks**,
    where precise information is extracted from the unstructured format (such as free
    text).
  prefs: []
  type: TYPE_NORMAL
- en: In addition, structured response format is not reliable even in the most commercial
    systems around, such as GPT due to the LLM’s stochastic nature in generating output
    tokens.
  prefs: []
  type: TYPE_NORMAL
- en: We will use several libraries, such as Pydantic and Instructor for validation
    and schema modeling, and OpenAI and ollama for the LLM part. The proposed content
    will be valid both for closed-source models such as GPT by OpenAI or Anthropic
    and for open source models such as Llama 3.
  prefs: []
  type: TYPE_NORMAL
- en: 'By reading this article you will learn:'
  prefs: []
  type: TYPE_NORMAL
- en: what it is and how to define a **data model**
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: how to make sure that your **LLM respects the output format through validation
    rules**
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
