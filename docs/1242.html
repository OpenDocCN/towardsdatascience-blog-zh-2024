<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>I Built a Reusable Dashboard for Read the Docs Traffic Analytics Using Vizro-AI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>I Built a Reusable Dashboard for Read the Docs Traffic Analytics Using Vizro-AI</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/i-built-a-reusable-dashboard-for-read-the-docs-traffic-analytics-using-vizro-47dc15dc04f8?source=collection_archive---------1-----------------------#2024-05-17">https://towardsdatascience.com/i-built-a-reusable-dashboard-for-read-the-docs-traffic-analytics-using-vizro-47dc15dc04f8?source=collection_archive---------1-----------------------#2024-05-17</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="3b64" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">(In less than 50 lines of code)</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://stichbury.medium.com/?source=post_page---byline--47dc15dc04f8--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Jo Stichbury" class="l ep by dd de cx" src="../Images/c72e6f969467e9dfcaa156924ebf061e.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*SiWTortxUFg5dWfSarm0ww.png"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--47dc15dc04f8--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://stichbury.medium.com/?source=post_page---byline--47dc15dc04f8--------------------------------" rel="noopener follow">Jo Stichbury</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--47dc15dc04f8--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">May 17, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">1</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk ml"><img src="../Images/540bdff879af04e5dad6ac1ae7ddefcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MiC9841PI1kzuXSAqGmKJw.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">The resulting dashboard from typical traffic data</figcaption></figure><p id="ab21" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">In this article, I’ll explain how I built a dashboard to visualize the traffic data for some documentation I maintain as a technical writer. I have few design skills and limited Python experience, so needed a simple, low-code approach to show the impact and usage of the documentation I maintain. This turned out to be an open-source solution: <a class="af ny" href="https://github.com/mckinsey/vizro" rel="noopener ugc nofollow" target="_blank">Vizro</a> as a template for a low-code dashboard, and <a class="af ny" href="https://vizro.readthedocs.io/projects/vizro-ai/en/latest/" rel="noopener ugc nofollow" target="_blank">Vizro-AI</a> to build the individual charts with generative AI.</p><h2 id="e846" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk">TL;DR?</h2><p id="2407" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">If you want to jump right in, you can find the Jupyter Notebook code for the dashboard in my <a class="af ny" href="https://github.com/stichbury/documentation_project" rel="noopener ugc nofollow" target="_blank">GitHub repo</a>.</p><h2 id="5df6" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk">A Read the Docs dashboard project</h2><p id="7bf6" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">If, like me, you manage an open-source docs project with <a class="af ny" href="https://docs.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank">Read the Docs (RTD)</a>, you have probably discovered that you can download the last 90 days’ worth of traffic data in CSV format from your project dashboard. The dashboard also displays a daily pageview totals chart, like the one below.</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk oz"><img src="../Images/a52c2996c34389553866d91c6c49758b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CpP-Q_9bOm5n70i8gXpofQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">A typical RTD pageviews chart (the only graphical traffic data provided)</figcaption></figure><p id="f372" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">For additional visual output, you could harness Google Analytics (GA). However, some projects prefer not to use GA because its compliance with the General Data Protection Regulation (GDPR) is seen as <a class="af ny" href="https://usercentrics.com/knowledge-hub/google-analytics-and-gdpr-compliance-rulings/" rel="noopener ugc nofollow" target="_blank">controversial</a>, particularly in the European Union (EU).</p><h2 id="31d7" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk"><strong class="al">Get the code and data</strong></h2><p id="0980" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk"><em class="pa">Just a note that in the example below I’ve used a set of fake CSV traffic data that I generated, with help from OpenAI, to keep the traffic to our project private. The fake data has the same fields as genuine RTD data so you can download and use the dashboard with the data downloaded from your RTD dashboard.</em></p><p id="6f4f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">To run through the example yourself, you’ll need my fake data (or your own download) and the Jupyter Notebook code, stored in my <a class="af ny" href="https://github.com/stichbury/documentation_project" rel="noopener ugc nofollow" target="_blank">GitHub repo</a>. It’s simple to step through at a basic level, but a more advanced user can extend it. Please let me know if you do create an enhanced version!</p><h1 id="475c" class="pb oa fq bf ob pc pd gq of pe pf gt oj pg ph pi pj pk pl pm pn po pp pq pr ps bk">What are Vizro and Vizro-AI?</h1><p id="c02a" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk"><a class="af ny" href="https://github.com/mckinsey/vizro" rel="noopener ugc nofollow" target="_blank">Vizro</a> is a framework built on top of <a class="af ny" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">Plotly</a> and <a class="af ny" href="https://dash.plotly.com/" rel="noopener ugc nofollow" target="_blank">Dash</a> that uses a configuration approach to specify custom dashboard layouts. A Vizro dashboard can be populated with charts built by Vizro-AI, a package separate from Vizro that simplifies the visualization process by leaning on generative AI.</p><p id="4897" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">In this example, I supplied the data and natural language instructions, and Vizro-AI generated Python code and created my requested charts. This worked well for me as a writer, since I have no front-end design skills and I’m unfamiliar with Plotly, but I’m happy to phrase a suitable generative AI prompt and coax a chart from OpenAI.</p><h2 id="5739" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk"><strong class="al">Set up Vizro-AI</strong></h2><p id="5131" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">Before running the Notebook code, you need to <a class="af ny" href="https://vizro.readthedocs.io/projects/vizro-ai/en/latest/pages/user-guides/install/" rel="noopener ugc nofollow" target="_blank">set up Vizro-AI</a> inside a virtual environment with Python 3.9 or later. Install the package with <code class="cx pt pu pv pw b">pip install vizro_ai</code>.</p><p id="561c" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Next, you need an API key to access OpenAI. If you don’t already have an account, <a class="af ny" href="https://platform.openai.com/signup" rel="noopener ugc nofollow" target="_blank">create one</a>, and buy some credits to use a model since you cannot use the free version. Generate an API key and add it to your environment so the code you write in the next step can access it to successfully call OpenAI. There are some straightforward <a class="af ny" href="https://platform.openai.com/docs/quickstart/step-2-set-up-your-api-key" rel="noopener ugc nofollow" target="_blank">instructions in the OpenAI docs</a>, and the process is also covered in the <a class="af ny" href="https://vizro.readthedocs.io/projects/vizro-ai/en/latest/pages/user-guides/install/#set-up-access-to-a-large-language-model" rel="noopener ugc nofollow" target="_blank">Vizro-AI LLM setup guide</a>.</p><h2 id="7fec" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk"><strong class="al">Build a chart</strong></h2><p id="2e00" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">At this point you can <a class="af ny" href="https://vizro.readthedocs.io/projects/vizro-ai/en/latest/pages/tutorials/quickstart/#2-open-a-jupyter-notebook" rel="noopener ugc nofollow" target="_blank">open a Jupyter Notebook to make your first chart,</a> or just open the <a class="af ny" href="https://github.com/stichbury/documentation_project/tree/main" rel="noopener ugc nofollow" target="_blank">Notebook from my repo</a> to step through the code I created, and load your RTD data (or the fake data I’ve provided) into a pandas DataFrame, named <code class="cx pt pu pv pw b">df</code> in the code below.</p><p id="4b75" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The following code shows how to submit a request to Vizro-AI to build a chart that resembles the chart in the Read the Docs project dashboard, showing views by date, but splitting the data into two traces, for the <a class="af ny" href="https://docs.readthedocs.io/en/stable/versions.html" rel="noopener ugc nofollow" target="_blank">stable and latest versions of the documentation</a>:</p><figure class="mm mn mo mp mq mr"><div class="px io l ed"><div class="py pz l"/></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">“Combine rows of Views for each Date for latest and stable Version. Draw a smoothed line graph comparing Views per Date for latest and stable.”</figcaption></figure><p id="f7ff" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Vizro-AI passes the natural language query “<strong class="ne fr">Combine rows of Views for each Date for latest and stable Version. Draw a line graph comparing Views per Date for latest and stable</strong>” and the dataframe to the model. Note that in the example above, I’ve specified a gpt-4 model. Vizro-AI will <a class="af ny" href="https://vizro.readthedocs.io/projects/vizro-ai/en/latest/pages/user-guides/customize-vizro-ai/" rel="noopener ugc nofollow" target="_blank">default to use gpt-3.5-turbo</a> because it offers a lower price point and higher speed for providing answers, but it does not offer the most sophisticated charting, so I opted to make an explicit request to use a gpt-4 model.</p><p id="570d" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The chart output will depend on your data, and on the output received from OpenAI at the time the query was submitted. The parameter <code class="cx pt pu pv pw b">explain=True</code> requests that Vizro-AI explains how the resulting chart was obtained, and the explanation is shown as output in the Jupyter Notebook, along with the chart which is displayed by the <code class="cx pt pu pv pw b">show()</code> command.</p><p id="d958" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The Insights text returned by Vizro-AI explains how to manipulate the traffic data. The Code section describes the steps the code snippet follows to generate the line graph requested.</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk qa"><img src="../Images/01e9aec5fc54dae71510d4b1ca24b752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJVv-Ex_gGRH8rXbfABrAQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Insights section returned from the call to plot() with instructions “Combine rows of Views for each Date for latest and stable Version. Draw a smoothed line graph comparing Views per Date for latest and stable.”</figcaption></figure><p id="d03f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The chart returned looks as follows:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk qb"><img src="../Images/183d6d66f15d5403b42d6e4d87730231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WtSudRYSfOi3--4Ccahhag.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Chart returned from the call to plot() with instructions “Combine rows of Views for each Date for latest and stable Version. Draw a smoothed line graph comparing Views per Date for latest and stable.”</figcaption></figure><h2 id="9997" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk"><strong class="al">Build more charts</strong></h2><p id="5b2c" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">I created some additional charts to further illustrate the traffic to our documentation, as follows:</p><figure class="mm mn mo mp mq mr"><div class="px io l ed"><div class="py pz l"/></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">“<em class="qc">Collate rows of data for Path where Version==stable. Create a horizontal bar chart describing the total Views for the top 5 pages. Add the numbers to each bar and title ‘Total views for top 5 stable pages’. Decrease font size of marks</em>” and “Collate rows of data for Path where Version==stable. Create a line graph for the total Views per Date for the top 5 Paths”</figcaption></figure><p id="d38a" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Vizro-AI has done the heavy lifting for me by generating the code to manipulate the data and generate a set of charts, which are useful in themselves . More useful still would be to group them together in combination to make a complete dashboard.</p><h2 id="56aa" class="nz oa fq bf ob oc od oe of og oh oi oj nl ok ol om np on oo op nt oq or os ot bk"><strong class="al">Create a Vizro dashboard</strong></h2><p id="8f14" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">You can use Vizro in the same Jupyter Notebook as the Vizro-AI code above. Make sure to <code class="cx pt pu pv pw b">pip install vizro</code> as the <a class="af ny" href="https://vizro.readthedocs.io/en/stable/pages/user-guides/install/" rel="noopener ugc nofollow" target="_blank">Vizro documentation</a> describes. Here is some code for the skeleton of a simple dashboard without the chart generation:</p><figure class="mm mn mo mp mq mr"><div class="px io l ed"><div class="py pz l"/></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">The <code class="cx pt pu pv pw b"># TO DO</code> section is where we add in each of the charts.</figcaption></figure><p id="b003" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">There are two options at this point:</p><ul class=""><li id="1632" class="nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx qd qe qf bk">Use Vizro-AI to generate the charts each time the dashboard is generated</li><li id="8588" class="nc nd fq ne b go qg ng nh gr qh nj nk nl qi nn no np qj nr ns nt qk nv nw nx qd qe qf bk">Use the Python code that Vizro-AI returned to call directly to Plotly.</li></ul><p id="be66" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The first option requires less code but will be slower to return, and more expensive, because it uses Vizro-AI, which calls OpenAI. The second option is faster but requires more code manipulation.</p><p id="4275" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Here’s a cell containing the dashboard code that demonstrates the first option with functions that call through to Vizro-AI (<em class="pa">if you plan to run this for yourself, make sure you’re using the Notebook in my repo, have loaded the data and stepped through the cells that set up the calls to Vizro-AI</em>):</p><figure class="mm mn mo mp mq mr"><div class="px io l ed"><div class="py pz l"/></div></figure><p id="b73f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Here’s a slightly different version, which uses the second option to generate one of the charts. I‘ve taken the opportunity to tweak the Python code slightly to change the colors of the lines, which is about my limit for Plotly manipulation! (<em class="pa">Again, if you plan to run this for yourself, make sure you’re using the Notebook in my repo, have loaded the data and stepped through the cells that set up the chart creation functions</em>).</p><figure class="mm mn mo mp mq mr"><div class="px io l ed"><div class="py pz l"/></div></figure><p id="ece1" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">You can download the Jupyter Notebook to try out the dashboard with your own Read the Docs data. It looks as follows with the fake data I supplied.</p></div></div><div class="mr"><div class="ab cb"><div class="lm ql ln qm lo qn cf qo cg qp ci bh"><figure class="mm mn mo mp mq mr qq qr paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk ml"><img src="../Images/21aad4bf348f8e913cfff9c1d0d9666e.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*MiC9841PI1kzuXSAqGmKJw.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">The final output built using method 2 which enabled me to tweak the colours in the first chart.</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="0c0f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">One of my colleagues (thanks Nadija!) gave me a tip that you can run the dashboard in the Notebook and then view it in a separate browser window by viewing the port you choose as follows:</p><pre class="mm mn mo mp mq qs pw qt bp qu bb bk"><span id="ac3a" class="qv oa fq pw b bg qw qx l qy qz">Vizro().build(dashboard).run(port=8006) # localhost8006 in the browser</span></pre><p id="1935" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Alternatively (thanks Antony!), as I’ve shown in the second dashboard example above, you can generate a clickable link to view the dashboard as follows:</p><pre class="mm mn mo mp mq qs pw qt bp qu bb bk"><span id="ab15" class="qv oa fq pw b bg qw qx l qy qz">Vizro().build(dashboard).run(jupyter_mode="external")</span></pre><h1 id="3dcc" class="pb oa fq bf ob pc pd gq of pe pf gt oj pg ph pi pj pk pl pm pn po pp pq pr ps bk"><strong class="al">Wrapping up</strong></h1><p id="d463" class="pw-post-body-paragraph nc nd fq ne b go ou ng nh gr ov nj nk nl ow nn no np ox nr ns nt oy nv nw nx fj bk">In this example, I showed how to use Vizro-AI to generate Plotly charts to visualize documentation traffic, and then built those charts into a Vizro dashboard.</p><p id="125d" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">If you have data science and Python skills, and a talent for design, you’ll <em class="pa">maybe</em> want the challenge of building a dashboard with Plotly and Dash. But, to someone like me without those skills, it’s a game changer to be able to use OpenAI and achieve the output above. I now have a useful visualization for Read the Docs traffic data in about 50 lines of code. It looks professional and is easily extensible and relatively easy to share. With more effort, I could improve it further to add customizations such as <a class="af ny" href="https://vizro.readthedocs.io/en/stable/pages/user-guides/filters/" rel="noopener ugc nofollow" target="_blank">filters, parameters</a> or separate <a class="af ny" href="https://vizro.readthedocs.io/en/stable/pages/user-guides/navigation/" rel="noopener ugc nofollow" target="_blank">navigable pages</a>.</p><p id="32ba" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">What’s more, I can collaborate on the dashboard code with my colleagues to adapt for other Read the Docs projects. I’ve used a Jupyter Notebook to make it easy to demonstrate the project, but this approach works equally well in a Python script, making it easily sharable and maintainable in version control. I can also <a class="af ny" href="https://vizro.readthedocs.io/en/stable/pages/user-guides/run/#deployment" rel="noopener ugc nofollow" target="_blank">deploy the dashboard</a> so my colleagues can access it directly without running the code.</p><p id="7a5f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Our team now has a useful and usable dashboard for tracking documentation impact, put together by a technical writer in an afternoon. Who can ask for more?</p></div></div></div><div class="ab cb ra rb rc rd" role="separator"><span class="re by bm rf rg rh"/><span class="re by bm rf rg rh"/><span class="re by bm rf rg"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="d34a" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">I’d like to thank my colleagues, particularly <a class="af ny" href="https://www.linkedin.com/in/nadija-ratkusic-graca-b044a143" rel="noopener ugc nofollow" target="_blank">Nadija</a> and <a class="af ny" href="https://github.com/Anna-Xiong" rel="noopener ugc nofollow" target="_blank">Anna</a>, and <a class="af ny" href="https://www.linkedin.com/in/joseph-perkins-aa278272/" rel="noopener ugc nofollow" target="_blank">Joe,</a> for several rounds of review feedback as I was putting this post together.</p></div></div></div></div>    
</body>
</html>