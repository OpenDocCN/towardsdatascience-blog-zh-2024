- en: Enhancing Marketing Mix Modelling with Causal AI
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/enhancing-marketing-mix-modelling-with-causal-ai-77f638bce3a9?source=collection_archive---------4-----------------------#2024-06-21](https://towardsdatascience.com/enhancing-marketing-mix-modelling-with-causal-ai-77f638bce3a9?source=collection_archive---------4-----------------------#2024-06-21)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Causal AI, exploring the integration of causal reasoning into machine learning
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@raz1470?source=post_page---byline--77f638bce3a9--------------------------------)[![Ryan
    O''Sullivan](../Images/7cd161d38d67d2c0b7da2d8f3e7d33fe.png)](https://medium.com/@raz1470?source=post_page---byline--77f638bce3a9--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--77f638bce3a9--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--77f638bce3a9--------------------------------)
    [Ryan O''Sullivan](https://medium.com/@raz1470?source=post_page---byline--77f638bce3a9--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--77f638bce3a9--------------------------------)
    ·8 min read·Jun 21, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ba87b7898135052179d91cc352ccb0d1.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Alexey Ruban](https://unsplash.com/@intelligenciya?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: What is this series of articles about?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Welcome to my series on Causal AI, where we will explore the integration of
    causal reasoning into machine learning models. Expect to explore a number of practical
    applications across different business contexts.
  prefs: []
  type: TYPE_NORMAL
- en: In the last article we covered *validating the causal impact of the synthetic
    control method*. In this article we will move onto *enhancing marketing mix modelling
    with Causal AI.*
  prefs: []
  type: TYPE_NORMAL
- en: 'If you missed the last article on synthetic controls, check it out here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/validating-the-causal-impact-of-the-synthetic-control-method-2f3bf185f266?source=post_page-----77f638bce3a9--------------------------------)
    [## Validating the Causal Impact of the Synthetic Control Method'
  prefs: []
  type: TYPE_NORMAL
- en: Causal AI, exploring the integration of causal reasoning into machine learning
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/validating-the-causal-impact-of-the-synthetic-control-method-2f3bf185f266?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Ongoing challenges with digital tracking has led to a recent resurgence in marketing
    mix modelling (MMM). At the recent Causal AI conference, Judea Pearl suggested
    that marketing may be the first industry to adopt Causal AI. So I decided it was
    time start writing about my learnings from the last 7 years in terms of how MMM,
    Causal AI and experimentation intersect.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ea63f8de5bb6afdf127ae21ac6377379.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: '**The following areas will be explored:**'
  prefs: []
  type: TYPE_NORMAL
- en: What is MMM?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How can Causal AI enhance MMM?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What experiments can we run to complete the triangulation?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Outstanding challenges within marketing measurement.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The full notebook can be found here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://github.com/raz1470/causal_ai/blob/main/notebooks/enhancing%20marketing%20mix%20modelling%20with%20causal%20ai.ipynb?source=post_page-----77f638bce3a9--------------------------------)
    [## causal_ai/notebooks/enhancing marketing mix modelling with causal ai.ipynb
    at main ·…'
  prefs: []
  type: TYPE_NORMAL
- en: This project introduces Causal AI and how it can drive business value. - causal_ai/notebooks/enhancing
    marketing mix…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: github.com](https://github.com/raz1470/causal_ai/blob/main/notebooks/enhancing%20marketing%20mix%20modelling%20with%20causal%20ai.ipynb?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: What is MMM?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: MMM is a statistical framework used to estimate how much each marketing channel
    contributes to sales. It’s heavily influenced by econometrics and in its simplest
    form is a regression model. Let’s cover the basics of the key components!
  prefs: []
  type: TYPE_NORMAL
- en: Regression
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A regression model is constructed where the dependent variable/target (usually
    sales) is predicted based on several independent variables/features — These usually
    include the spend on different marketing channels and external factors that may
    effect demand.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/919e8bfda9b3518d2649e67e58379f6b.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: The coefficients of the spend variables indicate how much they contribute to
    sales.
  prefs: []
  type: TYPE_NORMAL
- en: 'The PyMC marketing package in python is a great place to start exploring MMM:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.pymc-marketing.io/en/stable/notebooks/mmm/mmm_example.html?source=post_page-----77f638bce3a9--------------------------------)
    [## MMM Example Notebook - pymc-marketing 0.6.0 documentation'
  prefs: []
  type: TYPE_NORMAL
- en: In this notebook we work out a simulated example to showcase the media mix Model
    (MMM) API from pymc-marketing . This…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.pymc-marketing.io](https://www.pymc-marketing.io/en/stable/notebooks/mmm/mmm_example.html?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Ad stock
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Ad stock refers to the lingering effect of marketing spend (or adverting spend)
    on consumer behaviour. It helps model the long-term effects of marketing. It’s
    not common behaviour to rush to purchase a product the first time you hear about
    a brand — the idea of ad stock is that the effect of marketing is cumulative.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a0ee219560d16686c9f7cfdc78d4cea9.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: 'The most common ad stock method is geometric decay, which assumes that the
    impact of advertising decays at a constant rate over time. Although this is relatively
    easy to implement, it is not very flexible. It’s worth checking out the Weibull
    method which is much more flexible — The PyMC marketing package has implemented
    it so be sure to check it out:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.pymc-marketing.io/en/0.6.0/api/generated/pymc_marketing.mmm.transformers.weibull_adstock.html?source=post_page-----77f638bce3a9--------------------------------)
    [## weibull_adstock - pymc-marketing 0.6.0 documentation'
  prefs: []
  type: TYPE_NORMAL
- en: pymc_marketing.mmm.transformers. weibull_adstock ( x , , , , , , ) [source]
    Weibull Adstocking Transformation. This…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.pymc-marketing.io](https://www.pymc-marketing.io/en/0.6.0/api/generated/pymc_marketing.mmm.transformers.weibull_adstock.html?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Saturation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Saturation in the context of marketing refers to the idea of diminishing returns.
    Increasing marketing spend can increase customer acquisition, but as time goes
    on it becomes more difficult to influence new audiences.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e5564cac2316d5b85b67bdc6fdd2318c.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: 'There are several saturation methods we could use. The Michaelis-Menton function
    is a common one — You can also check this out in the PyMC marketing package:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.pymc-marketing.io/en/0.6.0/api/generated/pymc_marketing.mmm.transformers.michaelis_menten.html?source=post_page-----77f638bce3a9--------------------------------)
    [## michaelis_menten - pymc-marketing 0.6.0 documentation'
  prefs: []
  type: TYPE_NORMAL
- en: pymc_marketing.mmm.transformers. michaelis_menten ( x , alpha , lam ) [source]
    Evaluate the Michaelis-Menten function…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.pymc-marketing.io](https://www.pymc-marketing.io/en/0.6.0/api/generated/pymc_marketing.mmm.transformers.michaelis_menten.html?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: How can Causal AI enhance MMM?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: MMM frameworks usually use a flat regression model. However, there are some
    complexities to how marketing channels interact with each other. Is there a tool
    from our Causal AI toolbox which can help with this?
  prefs: []
  type: TYPE_NORMAL
- en: Causal graphs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Causal graphs are great at disentangling causes from correlations which make
    them a great tool for dealing with the complexities of how marketing channels
    interact with each other.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you are unfamiliar with causal graphs, use my previous article to get up
    to speed:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/using-causal-graphs-to-answer-causal-questions-5fd1dd82fa90?source=post_page-----77f638bce3a9--------------------------------)
    [## Using Causal Graphs to answer causal questions'
  prefs: []
  type: TYPE_NORMAL
- en: Causal AI, exploring the integration of causal reasoning into machine learning
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/using-causal-graphs-to-answer-causal-questions-5fd1dd82fa90?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the marketing graph
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Estimating the causal graph in situations where you have poor domain knowledge
    available is challenging. But we can use causal discovery to help get us started
    – Check out my previous article on causal discovery to find out more:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/making-causal-discovery-work-in-real-world-business-settings-80e80c5f66b8?source=post_page-----77f638bce3a9--------------------------------)
    [## Making Causal Discovery work in real-world business settings'
  prefs: []
  type: TYPE_NORMAL
- en: Causal AI, exploring the integration of causal reasoning into machine learning
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/making-causal-discovery-work-in-real-world-business-settings-80e80c5f66b8?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Causal discovery has its limitations and should just be used to create a starting
    hypothesis for the graph. Luckily, there is a vast amount of domain knowledge
    around how marketing channels interact with each other that we can build in!
  prefs: []
  type: TYPE_NORMAL
- en: Below I share the knowledge I have picked up from working with marketing experts
    over the years…
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5db89e3e17d839acfaba055af0159779.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: '**PPC** (paid search) has a negative effect on SEO (organic search). The more
    we spend on PPC the less SEO clicks we get. However, we have an important confounder….demand!
    A flat regression model will not pick up this intricacy often leading to an overestimation
    of PPC.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Social spend** has a strong effect on social clicks, the more we spend the
    more prospects click on social ads. However, some prospects may view an social
    ad and the next day visit your site via PPC, SEO or Direct. A flat regression
    model will not pick up this halo effect.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A similar case can be made for **brand spend**, where you target prospects with
    longer term branding messages but no direct call to action to click. These prospects
    may visit your site via PPC, SEO or Direct at a later stage after becoming aware
    of your brand.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The **clicks** are mediators. If we run a flat regression and include mediators,
    this can cause issues when estimating causal effects. I won’t cover this topic
    in too much detail here, but using causal graphs enables us to carefully control
    for the right variables when estimating causal effects.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hopefully you can see from the examples above that using a causal graph instead
    of a flat regression will seriously enhance your solution. The ability to calculate
    counterfactuals and perform interventions also make it very attractive!
  prefs: []
  type: TYPE_NORMAL
- en: It’s worth noting that it is still worth incorporating the ad stock and saturation
    transformations into your framework.
  prefs: []
  type: TYPE_NORMAL
- en: What experiments can we run to complete the triangulation?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When working with observational data, we should also be striving to run experiments
    to help validate assumptions and complement our causal estimates. There are three
    main tests available to use in acquisition marketing. Let’s dive into them!
  prefs: []
  type: TYPE_NORMAL
- en: Conversion lift tests
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Social platforms like Facebook and Snapchat allow you to run conversion lift
    tests. This is an AB test where we measure the uplift in conversion using a treatment
    vs control group. These can be very useful when it comes to evaluating the counterfactual
    from your causal graph for social spend.
  prefs: []
  type: TYPE_NORMAL
- en: Geo lift tests
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Geo lift tests can be used to estimate the effect of marketing blackouts or
    when you start using a new channel. This can be particularly useful for brand
    digital and TV where there is no direct call to action to measure. I cover this
    in much more detail in the last article:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/validating-the-causal-impact-of-the-synthetic-control-method-2f3bf185f266?source=post_page-----77f638bce3a9--------------------------------)
    [## Validating the Causal Impact of the Synthetic Control Method'
  prefs: []
  type: TYPE_NORMAL
- en: Causal AI, exploring the integration of causal reasoning into machine learning
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/validating-the-causal-impact-of-the-synthetic-control-method-2f3bf185f266?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Switch back testing
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: PPC campaigns can be scheduled to be turned off and on hourly. This creates
    a great opportunity for switchback testing. Schedule PPC campaigns to be turned
    off and on each hour for a few weeks, and then calculate the difference between
    the number of PPC + SEO clicks in the off vs on period. This will help you understand
    how much of PPC can be captured by SEO, and therefore evaluate the counterfactual
    from your causal graphs for PPC spend.
  prefs: []
  type: TYPE_NORMAL
- en: 'I think running experiments is a great way to tweak and then gain confidence
    in your causal graph. But results could also be used to calibrate your model.
    Take a look at how the PyMC team have approached this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.pymc-marketing.io/en/stable/notebooks/mmm/mmm_lift_test.html?source=post_page-----77f638bce3a9--------------------------------)
    [## Lift Test Calibration - pymc-marketing 0.6.0 documentation'
  prefs: []
  type: TYPE_NORMAL
- en: You may have heard of the phrase "all models are wrong; some models are useful."
    This is true in many areas, and it's…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.pymc-marketing.io](https://www.pymc-marketing.io/en/stable/notebooks/mmm/mmm_lift_test.html?source=post_page-----77f638bce3a9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Outstanding challenges within marketing measurement
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Today I went into how you can enhance MMM with Causal AI. However, Causal AI
    can’t solve all of the challenges within acquisition marketing— And there are
    lots of them unfortunately!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9d36431f028cc976e4f7cb30399c0326.png)'
  prefs: []
  type: TYPE_IMG
- en: User generated image
  prefs: []
  type: TYPE_NORMAL
- en: '**Spend following the demand forecast** — One reason for marketing spend being
    highly correlated with sales volume can be down to the marketing team spending
    in-line with a demand forecast. One solution here is to randomly shift spend by
    -10% to +10% each week to add some variation. As you can imagine, the marketing
    team usually aren’t too keen on this approach!'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Estimating demand** — Demand is an essential variable in our model. However,
    it can be very difficult to collect data on. A reasonable option is extracting
    google trend data on a search term which aligns to the product you are selling.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Long term effects of brand** — Long term effects of brand are hard to capture
    as there usually isn’t much signal around this. Long term geo lift tests can help
    here.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Multi-collinearity** — This is actually one of the biggest problems. All
    of the variables we have are highly correlated. Using ridge regression can alleviate
    this a little, but it can still be a problem. A causal graph can help a little
    too as it essential breaks the problem down into smaller models.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Buy-in from the marketing team** — In my experience this will be your biggest
    challenge. Causal graphs offer a nice visual way of engaging the marketing team.
    It also creates an opportunity for you to build up a relationship whilst working
    with them to agree the intricacies of the graph.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: I’ll close things off there — It would be great to hear what you think in the
    comments!
  prefs: []
  type: TYPE_NORMAL
- en: Follow me if you want to continue this journey into Causal AI —In the next article
    we will investigate whether Causal AI can improve our forecasting.
  prefs: []
  type: TYPE_NORMAL
