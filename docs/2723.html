<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MIT Battlecode Reflections: A First-Time Finalist’s Takeaways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>MIT Battlecode Reflections: A First-Time Finalist’s Takeaways</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07">https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="f30a" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Key Takeaways from a First-Time Contestant</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="David Teather" class="l ep by dd de cx" src="../Images/16e6bce5266bfdc658bc55ed96e7f0ef.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*VQvfsfJPA3hnV794zJj9sA.png"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------" rel="noopener follow">David Teather</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">14 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Nov 7, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><figure class="ml mm mn mo mp mq mi mj paragraph-image"><div role="button" tabindex="0" class="mr ms ed mt bh mu"><div class="mi mj mk"><img src="../Images/3b9036f444ead6e898e6e70e15fd3726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zN7a703ATBaUxyzeIkKEwA.gif"/></div></div><figcaption class="mw mx my mi mj mz na bf b bg z dx">Image created by the author, using <a class="af nb" href="https://github.com/battlecode/battlecode24" rel="noopener ugc nofollow" target="_blank">Battlecode’s Engine</a></figcaption></figure><p id="d9f6" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">I was dragged into Battlecode 2024 by one of our teammates. I had never heard of Battlecode before, but I was excited to try it out. I had a lot of fun and I’m glad I did it, and we ended up qualifying for the finals and placing 13th overall. So I figured I’d write a blog post about the experience from the perspective of a first time participant.</p><blockquote class="ny nz oa"><p id="c7c4" class="nc nd ob ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">This was cross-posted from my <a class="af nb" href="https://dteather.com/blogs/battlecode24/" rel="noopener ugc nofollow" target="_blank">blog</a>, so if you’re interested check more out there.</p></blockquote><h1 id="c254" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">What is Battlecode?</h1><p id="17f8" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Battlecode is a contest where you write code to control a team of robots that have to accomplish some task. You can read more about it <a class="af nb" href="https://www.battlecode.org/" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="ac2d" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">This year the game was a duck based capture the flag game where our goal was to capture all 3 of the flags from the opponent. The game is played on a grid and each team has a base where they spawn ducks. Ducks can move around the map, build traps, and attack other ducks. The game is played in rounds, and each round the ducks are given a set amount of bytecode to execute their actions.</p><p id="e7b9" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Here’s a quick snippet of what the game looks like</p><figure class="ml mm mn mo mp mq mi mj paragraph-image"><div role="button" tabindex="0" class="mr ms ed mt bh mu"><div class="mi mj mk"><img src="../Images/3b9036f444ead6e898e6e70e15fd3726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zN7a703ATBaUxyzeIkKEwA.gif"/></div></div><figcaption class="mw mx my mi mj mz na bf b bg z dx">Example match inside of the <a class="af nb" href="https://github.com/battlecode/battlecode24" rel="noopener ugc nofollow" target="_blank">Battlecode’s Engine</a>, created by the author</figcaption></figure><p id="e63e" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">There’s a lot going on in that gif so let’s break it down a little bit.</p><h1 id="fc8f" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Duck Actions</h1><p id="f244" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Each duck has a few actions to help attack or defend flags that it can perform each turn/round (shown at the bottom of the gif above). Each action has a specific cooldown so you can’t just spam the same action over and over again.</p><ul class=""><li id="70e4" class="nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx pd pe pf bk">Move to a new tile</li><li id="1eef" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Build traps: water, bombs, stuns, dig a water pit, and fill a water pit</li><li id="f3de" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Pick up flag</li><li id="2d3e" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Attack an enemy duck</li><li id="b863" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Heal</li><li id="3c48" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Respawn<br/>- When a duck dies, it can respawn at one of the team’s spawn points after ~20 rounds</li></ul><h1 id="2b5f" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Crumbs</h1><p id="ec76" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">There’s also a currency called crumbs that you can get from two ways: a few spawn on the map each round which you can pick up, and you also get some for killing enemy ducks in their territory.</p><p id="3493" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Actions that build traps require crumbs, which requires you to be strategic about how you use your crumbs.</p><h1 id="9e47" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Why It’s Difficult</h1><p id="c8b4" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Since the same code gets deployed to all the ducks, you have to write code that can handle a lot of different situations. Maybe you want some ducks to focus on defending and building around base, maybe you want some designated to go out and capture flags, and maybe you want some to be aggressive and attack the enemy ducks.</p><p id="9c0f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">A few things that make it difficult:</p><ul class=""><li id="b98c" class="nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx pd pe pf bk">There’s a limited size shared array that each duck can read and write<br/>- This is the only way to communicate information between your ducks about the state of the game<br/>- This means you have to be strategic about what information you store in the array and how you use it, and if you have all your ducks performing the same action based on the same information you have to be careful because otherwise they’ll cluster up doing the same thing so you have to be careful about how you distribute the work</li><li id="401f" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Each duck is given 25K bytecode to execute per turn<br/>- This means that each turn each duck gets to execute a certain number of actions, calculations, and memory reads and writes.<br/>- If you want super good pathfinding (which we didn’t have) you have to be careful about how you use your bytecode in intensive calculations like this otherwise you’ll run out of bytecode and your ducks will just sit there and do nothing<br/>- Luckily we didn’t have to worry about this too much since 25K is quite large and apparently in previous years its been much smaller</li></ul><p id="e595" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">I also feel like it’s really hard to tell if your new bot is better than the previous version, like usually it’s better in some situations and worse in others. Unlike most software I’m used to working on it’s easy to tell if what you’ve made is better than before since if you added a new feature it’s better than before.</p><p id="45f6" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">For this I’d say like at least half of the features I tried to develop didn’t work super well and just ended up scrapping the changes. There’s so many branches for dead features that just didn’t work out.</p><h1 id="8d4e" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">The Contest Structure</h1><p id="51ef" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Ok so now that we have a basic understanding of the game, let’s talk about the actual competition.</p><h2 id="9366" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">Leaderboard</h2><p id="67b5" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">The leaderboard is one of the most important parts of the contest. It’s a semi-live leaderboard that shows the rankings of all the teams in the contest. Every 4 hours there would be ranked games played against your relative neighbors on the leaderboard and if you win you gain more points and if you lose you lose points.</p><p id="3212" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Furthermore, you can manually queue your own ranked games against other teams as long as they allow it. This is important because you can’t just queue games against the same team over and over again to farm points.</p><p id="ae72" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">However, you can also queue unranked games against any team which is important for testing your bot against other teams to see if the changes you made are actually better than before against real opponents.</p><h2 id="fbab" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">Sprints</h2><p id="9d99" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Sprints are a separate part of the contest where the organizers run a bracket of games and livestream the results. Sprints are played across all teams whether they’re in your division or not. The sprints are a fun way to see how your bot is doing against other teams and it’s also a good way to see how the other teams are doing.</p><p id="4559" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The seeding of your team in the sprints is based on your leaderboard ranking, so if you’re doing well in the leaderboard you’ll be seeded higher in the sprints.</p><h2 id="45a0" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">Tournaments</h2><p id="c1c8" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Tournaments are also livestreamed and are played across the teams in your divison in the same way as the sprints. The seeding of your team in the tournaments is based on your leaderboard ranking, so if you’re doing well in the leaderboard you’ll be seeded higher in the tournaments.</p><p id="c191" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">In our year the top 12 US college teams and the top 4 international teams qualified for the finals. In addition there’s other divisions like high school and new to battlecode teams that have their own tournament.</p><h1 id="3080" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Our Robot</h1><p id="55b3" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">Ok now that we know more about what battlecode is and how the contest is structured, let’s talk about our robot and some of the strategies we used. This section is going to be a little bit blurry because I’m writing this ~2 months after the contest and I don’t remember everything we did.</p><h2 id="10a4" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">Our Strategies</h2><p id="2f09" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">We had a few different strategies and variations of our bot across the tournament that we tried out especially as the game got tweaked for balance and we learned more about the game.</p><ul class=""><li id="ea1f" class="nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx pd pe pf bk">Setup Phase<br/> - For the first 200 out of the 250 rounds of setup we just had all of our ducks move around randomly to try to explore as much of it as we could<br/> - After that we had our ducks move to the center of the map and build traps next to the wall dividing the two sides of the map</li><li id="8288" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Base Defense<br/> - We had designated ducks that would stay at all times guarding our flags and building traps around our base and especially right on the flag itself which we placed down bombs and stun traps right on the flag so that if the enemy tried to pick it up they would get stunned and we could attack them.<br/> - We also decided to make a water moat checkboard grid pattern around our flags so that the enemy ducks would either have to spend crumbs trying to fill the water or go through on the diagonals which made sure that the enemy ducks couldnt completely swarm our base at once and it made them funnel through a few paths which made it easier for our ducks to defend.<br/> - If a duck was guarding the flag and it saw an enemy duck nearby it would set a global variable in the shared array that would call other ducks to come help defend the flag. We also made sure that if these defense points were called that we would prefer ducks to spawn nearby to help defend the flag.<br/> - But we had to be careful about this because if we called too many ducks to defend the flag then we wouldn’t have enough ducks to go out and capture the enemy flags.</li><li id="5191" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Flag Passing<br/>- We noticed that often our bots would get stuck surrounding the duck with the flag and preventing it from really moving anywhere so we implemented a flag passing strategy where it would pass the flag to another duck closer to where the flag needed to be captured<br/>- We added this pretty late in the tournament and it worked pretty well.</li><li id="34bd" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Flag Return<br/>- When a duck was returning the flag we had logic to assign nearby ducks to escort the duck returning the flag to make sure that it could get back to our base safely<br/>- It also targeted to return to the base that was closest to where the flag carrier was</li></ul><h1 id="64b6" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Things To Improve</h1><ul class=""><li id="856c" class="nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx pd pe pf bk">Pathfinding<br/>- We took code from a previous year’s bot for doing BugNav pathfinding but in their year the bytecode limit was much smaller so we had a lot more bytecode that we could’ve been using to do smarter pathfinding but didn’t move to something better.<br/>- Our pathfinding was so bad that in the sprints we would often get stuck trying to return the flag and often lost games because of it and the casters would make fun of us for it 😭 but it was funny so I didn’t mind</li><li id="25d6" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Better Distribution of Specializations<br/>- One thing I didn’t mention was that when a duck does an action enough times it’ll specialize in that action and get more efficient at it. This specialization also limits it’s peak efficiency in other actions so we should’ve probably been more careful about this since for a lot of the tournament most of our ducks were specialized in healing and we didn’t really need that many ducks specialized in healing since it made us worse at fighting.<br/>- I did make this a little bit more well balanced between healers and fighters at the end but I think this is something we should’ve done in a more calculated way to try to maximize the most out of our ducks</li><li id="f24a" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Stuck Flag Duck<br/>- We just didn’t write any code to handle the case where a duck picks up the enemy flag and gets stuck somewhere like on an island surrounded by water and were just too lazy to fix it and it didn’t happen often enough for us to care about it too much.</li><li id="188f" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Duck Standoff<br/>- Sometimes our ducks would just sit there and do nothing and not move because both groups of ducks calculated that they were at a disadvantage and that they shouldn’t be aggressive which was annoying and we didn’t really have a good way to handle this.</li><li id="5d7a" class="nc nd fq ne b go pg ng nh gr ph nj nk nl pi nn no np pj nr ns nt pk nv nw nx pd pe pf bk">Moving Flags<br/>- We tried to move the flags around the map in setup which lets you change the location where your flags are but we didn’t invest enough time into this for it to be super effective.<br/>- Other teams were able to move their flags around the map in more effective ways. Especially when they were scoring spots of the map based on things like the # of walls around the flag and the distance away from friendly spawns and enemy spawns.<br/>- This is definitely a feature that we should’ve spent more time on since it was pretty effective for other teams</li></ul><p id="1a17" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">You can find our code <a class="af nb" href="https://github.com/shrimpkin/battlecode_24" rel="noopener ugc nofollow" target="_blank">here</a></p><h1 id="c056" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Qualifying</h1><p id="2db4" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">I just thought this would be fun to include but to qualify for the finals we had to win this match and we were pretty excited when we did. Here’s a video of us <a class="af nb" href="https://www.youtube.com/watch?v=-2-E2DP2t6A" rel="noopener ugc nofollow" target="_blank">winning the match</a></p><figure class="ml mm mn mo mp mq mi mj paragraph-image"><div class="mi mj qc"><img src="../Images/94f8a8312176376021074ac793afccbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*r_rVtzg5-bO6uFdmFJ2hSg.gif"/></div><figcaption class="mw mx my mi mj mz na bf b bg z dx">Us winning the qualifying game on livestream. Video by the author</figcaption></figure><h1 id="f13c" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">The Finals</h1><p id="233c" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">This section is more dedicated to our experience in Boston for the finals, which was pretty amazing but if you want to skip this segment and go to reflection section below that’s cool too.</p><h2 id="59dc" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">The Experience</h2><p id="6296" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">The finals were held at MIT in Boston, and we all got flown out there for the event and it was my first time in memory being in Boston and the city was really pretty. We also ended up staying in the MIT dorms which was exciting because of the other people we met there through being in the dorms. Although, if I were to do it again I would’ve probably stayed in a hotel because the dorms are well ya know college dorms and could’ve been cleaner and I could’ve had a comfortable bed.</p><p id="f9ae" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">We also all were invited to a dinner before the finals where we got to meet the other teams and the organizers. It was interesting to see where everyone was from in addition we got some really nice food from them for the dinner.</p><h2 id="dc1d" class="pl od fq bf oe pm pn po oh pp pq pr ok nl ps pt pu np pv pw px nt py pz qa qb bk">The Results</h2><p id="d94a" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">The finals was hosted in their auditorium and was pretty fun to watch even if we went 0–2, but we did place 13th overall and it was already a huge accomplishment to make it this far.</p><p id="654f" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Also they ran a estimathon where we had to guess a range on some question and I ended up winning a duck from correctly estimating the number of MIT dorm residents that offered to host teams for the finals. Here’s a video of me catching the duck:</p><figure class="ml mm mn mo mp mq mi mj paragraph-image"><div role="button" tabindex="0" class="mr ms ed mt bh mu"><div class="mi mj qd"><img src="../Images/8273f9e7775dcef3ff69f981f814e6e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xgHkwqiopcxK4qJoBHWZA.gif"/></div></div><figcaption class="mw mx my mi mj mz na bf b bg z dx">Video from the <a class="af nb" href="https://www.youtube.com/watch?v=F0jzPA_6YB4" rel="noopener ugc nofollow" target="_blank">Battlecode Finalist Livestream</a></figcaption></figure><p id="6b91" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Fun fact is that I put a notebook under my jacket when I before I went walking up there so the video looks kinda silly because of how I’m walking 😭</p><h1 id="71d0" class="oc od fq bf oe of og gq oh oi oj gt ok ol om on oo op oq or os ot ou ov ow ox bk">Reflection</h1><p id="e36b" class="pw-post-body-paragraph nc nd fq ne b go oy ng nh gr oz nj nk nl pa nn no np pb nr ns nt pc nv nw nx fj bk">I’m definitely not an expert on Battlecode, but I do have a few key takeaways from the experience and things I’d improve on if I were to do it again.</p><p id="ef9d" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Invest Time in Writing Organized and Clean Code</strong></p><p id="6ed3" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Even though that it initially might seem like a fairly simple game even in a year where our game was relatively simple compared to other years it’s criticial to invest a lot of time in writing organized and clean code.</p><p id="2b12" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">We didn’t do code reviews, and didn’t refactor our code as much as we should’ve and it ended up biting us throughout the rest of the tournament as we had to fix bugs and just try to understand what our code was doing. This is something that I would suggest everyone invests more time in especially at the beginning to set up a good foundation and structure for your project so that you can build on it and make changes more easily.</p><p id="93fa" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Part of the reason we didn’t do this is because we felt we were rushed to get features out for the sprints to see how we were doing against everyone else and wanted our games to be shown on the stream.</p><p id="9eb3" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Sprints Aren’t Everything</strong></p><p id="561c" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">This brings us into the next point that sprints aren’t everything and don’t matter too much. You definitely should focus on the main event itself and not getting too caught up in making your bot perfect for the sprints.</p><p id="a53a" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">In addition, if you don’t end up making it that far in the sprints it’s not the end of the world. We never got our games shown on the sprint stream and certaintly didn’t win them. At least our year it felt like the bracket we were in (US college) was relatively small and if you don’t end up making it super far in the sprint it’s not over for your team and you can still qualify for the finals.</p><p id="32bb" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Scrimmage a Lot</strong></p><p id="4122" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">As I mentioned earlier, it’s super difficult to tell if your new bot is better than the previous version since you can only locally test your bot against other variants of code that you have and in a lot of cases it’s not super helpful to test against your previous versions of your bot because if they’re too similiar they’ll often draw a lot or you’ll see that the change you made is better in some situations and worse in others.</p><p id="2f91" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">This is why it’s important to scrimmage a lot of other teams to see if your changes are actually better than before against real opponents that you’ll likely face in ranked games and the tournaments.</p><p id="3886" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">It didn’t cross my mind until the end of the tournament when another team shared that they did this, but I think it’s a really good idea to make a script to automatically queue games against other teams and with some sort of evaluation to see if your changes are actually better than before. One script is linked <a class="af nb" href="https://github.com/chenyx512/battlecode24/blob/main/compare_bots.py" rel="noopener ugc nofollow" target="_blank">here</a></p><p id="2096" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Even if you don’t have a script to automatically do this, it’s still important to manually queue games against other teams to see if your changes are actually better than before with the changes you made. We didn’t and we still queued 818 total unranked scrimmaged which is the 8th most of any team. And 7th most total scrimmages with 1,294 in total.</p><p id="dc84" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Watch Your Games</strong></p><p id="e49c" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">One of the downsides to an automated script to queue games is that you probably wouldn’t be watching your games as often. It’s super valuable to watch the games that you’re playing to see what situations your bot is doing well in and what situations it’s doing poorly in.</p><p id="e7e6" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">This gives you a lot of information about what you can potentially do to improve your bot and your strategies.</p><p id="3c22" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Watch the Other Teams</strong></p><p id="c843" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">It’s also equally important to watch the other teams games (especially if they have auto scrimmages off) to see what strategies they’re using and how their bot is doing.</p><p id="b1c8" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">If you see a team that’s doing much better than you or you see some interesting strategies that they’re using, don’t be afraid to steal and augment their strategies to fit your bot potentially even better than how they’re using it.</p><p id="f65c" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Use Community Resources</strong></p><p id="dcb5" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">The Battlecode community is super helpful and there’s a lot of resources out there to help you get started and improve your bot. There’s a lot of teams that have shared their code and strategies from previous years and it’s a great way to get started and see what other teams are doing.</p><p id="9470" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">In addition there’s a lot of code from previous years that also works every year and is a great way to get started and see what other teams are doing. For example: shared array communication, pathfinding, etc. All of these are things that you can find in previous years code and use in your bot.</p><p id="ee39" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk"><strong class="ne fr">Advice to New Participants</strong></p><p id="523a" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">It can be overwhelming to get started with Battlecode because there’s a lot of things to learn about: the game specifications, the contest structure, strategies, limitations on the game, how to communicate between your ducks, running games locally, etc.</p><p id="aea6" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">Not to mention that it can be difficult to start writing code because you have to get used to what methods exist and what actions you can perform and what information you can and cannot access and can be difficult to work with. I definitely highly suggest that you use an IDE with lots of autocomplete so you can preview all available methods. It feels a lot like working with a library like Pandas where there’s a lot of methods and you have to get used to what’s available and sort of feels like another language entirely.</p><p id="51bd" class="pw-post-body-paragraph nc nd fq ne b go nf ng nh gr ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx fj bk">It definitely frustrated me at the start because I just wanted to add some basic features but as a combination of: our project not being super organized, me not being familiar with the game, or how to write code for it, it was quite annoying to get started. But it’s worth it to push through and get started because it’s a lot of fun and you’ll learn a lot.</p></div></div></div></div>    
</body>
</html>