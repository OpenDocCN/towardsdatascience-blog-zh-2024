<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>OMOP & DataSHIELD: A Perfect Match to Elevate Privacy-Enhancing Healthcare Analytics?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>OMOP & DataSHIELD: A Perfect Match to Elevate Privacy-Enhancing Healthcare Analytics?</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/omop-datashield-a-perfect-match-to-elevate-privacy-enhancing-healthcare-analytics-041b425d532a?source=collection_archive---------5-----------------------#2024-07-03">https://towardsdatascience.com/omop-datashield-a-perfect-match-to-elevate-privacy-enhancing-healthcare-analytics-041b425d532a?source=collection_archive---------5-----------------------#2024-07-03</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="4f29" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Exploring synergies between DataSHIELD and OHDSI/OMOP for collaborative healthcare analytics</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@eric.boernert?source=post_page---byline--041b425d532a--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Eric Boernert" class="l ep by dd de cx" src="../Images/3038e5e8f0cd468ec69794caecf32bba.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*MrsTi3Q7Zmg9jQy4159ZkQ.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--041b425d532a--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@eric.boernert?source=post_page---byline--041b425d532a--------------------------------" rel="noopener follow">Eric Boernert</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--041b425d532a--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">8 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jul 3, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="457c" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Context</h1><p id="707e" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Cross-border or multi-site data sharing can be challenging due to variations in regulations and laws, as well as concerns around data privacy, security, and ownership. However, there is a growing demand for conducting<br/>large-scale cross-country and multi-site clinical studies to generate more robust and timely evidence for better healthcare. To address this, the Federated Open Science team at Roche believes in Federated Analytics (privacy-enhancing decentralized statistical analysis) as a promising solution to facilitate more multi-site and data-driven collaborations.</p><p id="c141" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The availability and accessibility of high-quality (curated) patient-level data remains a persistent bottleneck to progress. A federated model is one of the enablers for collaborative analytics and machine learning in the medical domain without moving any sensitive patient-level data.</p><h1 id="a346" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Federated model for analytics</h1><p id="3c35" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">The idea of the federated paradigm is to bring analysis to the data, not data to the analysis.</p><p id="b72d" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">That means that data remains within the boundaries of its respective organizations and collaborative analytical effort does not mean copying the data outside local infrastructure nor giving unlimited access to queries against the data.</p><p id="ca0c" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It has many advantages including:</p><ul class=""><li id="3436" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Reduced data exposure risk</li><li id="5859" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">No data copies that are hard to track and manage leave premises</li><li id="6f03" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Avoiding the up front cost and effort of building data lakes</li><li id="6099" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Crossing regulatory boundaries</li><li id="e039" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Interactive way of trying different analytical approaches and functions</li></ul><p id="ef72" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Let’s use a simplified example of diabetes patients from three different hospitals. Let’s say the external data scientist would like to analyze the mean age of patients.</p><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/5e30176600ca047060ef46fb712f4bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0M4cia6GrcynTpDZ"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx"><em class="pg">Simplified illustration of a federated analysis </em>(Image by author)</figcaption></figure><p id="5a6a" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Remote data scientists are not fully trusted by the data owners, are not supposed to access the data, have no access to any row level data and cannot send any query they like (such as DataFrame.get) but they can call federated functions and get aggregated mean values in the network.</p><p id="8bbd" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Data owners enable remote data scientists to run federated function <strong class="ng fr">mean</strong> against the specified cohorts and variables (for example <strong class="ng fr">Age</strong>).</p><p id="8f91" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Such advanced analytical capabilities are a great added value and support when conducting observational studies to e.g. assess treatment effectiveness in diverse populations across regions.</p><p id="d00f" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This is how it looks from the data scientist perspective who uses a popular Federated Analytics solution called DataSHIELD.</p><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/5243a22870b0e232b17949683c8d8604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EQJYWwCb5enzFDLF"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx"><em class="pg">Screenshot of analysis script </em>(Image by author)</figcaption></figure><p id="59ff" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">DataSHIELD what is it?</p><p id="aa68" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><a class="af ph" href="https://wiki.datashield.org/en/comms/2023conf/workshops/exercises" rel="noopener ugc nofollow" target="_blank">DataSHIELD </a>is a system to allow you to analyze sensitive data without viewing it or deducing any revealing information about the subjects contained therein.</p><p id="d31a" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It is driven from the academic DataSHIELD project (University Liverpool) and from obiba.org (McGill University).</p><p id="5952" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It’s an open source solution available on <a class="af ph" href="https://github.com/datashield" rel="noopener ugc nofollow" target="_blank">GitHub</a>, which helps with trust and transparency, as this code is running behind firewalls inside data owner infrastructure.</p><p id="b355" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It’s more than <a class="af ph" href="https://pubmed.ncbi.nlm.nih.gov/25261970/" rel="noopener ugc nofollow" target="_blank">ten years on the market</a> and was used in multiple successful projects.</p><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/d8633140f81d9b6bf4650691d5dfde4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-hkyOdQWtlGl_48s"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx"><em class="pg">RStudio or Jupyter R notebooks are common ways to interact with federated networks. </em>(Image by author)</figcaption></figure><p id="0254" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The main advantages of DataSHIELD are:</p><ul class=""><li id="37c0" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Advanced federated analytical functions with disclosure checks and smart aggregation of the results</li><li id="bae2" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Federated authentication and authorization, empowering data owners to be in full control of who does what against their data</li><li id="1b1a" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">APIs for automation of all the parts of the architecture</li><li id="b66a" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Built-in extensibility mechanism to create custom federated functions</li><li id="0bc1" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Community packages of additional functions</li><li id="bbe0" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Full transparency, all the code available on GitHub</li></ul><p id="e792" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Data owners are responsible for:</p><ul class=""><li id="f6db" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Deploying local DataSHIELD Opal and Rock node in their infrastructure</li><li id="1a39" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Managing users, permissions (functions to variables)</li><li id="5988" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Configuration of disclosure check filters</li><li id="dab3" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Review and acceptance of custom functions and their local deployment</li></ul><p id="28f1" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Data analysts are:</p><ul class=""><li id="7a90" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Calling federated functions and aggregating the results, usually with high accuracy instead of meta-analysis, always with data disclosure protection</li><li id="4d1a" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Writing and testing their custom federated functions which then are shared with the network to be deployed in all the nodes by data owners and then used in collaborative analytical efforts</li></ul><h1 id="e0e2" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">The Observational Health Data Sciences and Informatics advantages</h1><p id="19d6" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk"><a class="af ph" href="https://www.ohdsi.org/" rel="noopener ugc nofollow" target="_blank">OHDSI </a>is best known for their data harmonization and standardization known as <a class="af ph" href="https://ohdsi.github.io/CommonDataModel/" rel="noopener ugc nofollow" target="_blank">Observational Medical Outcomes Partnership (OMOP) Common Data Model (CDM)</a>.</p><p id="e3a6" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The current version of the standard is 5.4, while it’s evolving to accommodate the feedback from real world applications and new requirements, it’s already mature and supported by tools from OHDSI ecosystem such as <a class="af ph" href="https://github.com/OHDSI/Atlas/wiki" rel="noopener ugc nofollow" target="_blank">ATLAS</a>, <a class="af ph" href="https://ohdsi.github.io/Hades/" rel="noopener ugc nofollow" target="_blank">HADES </a>and <a class="af ph" href="https://ohdsi.github.io/Strategus/index.html" rel="noopener ugc nofollow" target="_blank">Strategus</a>.</p><p id="efc2" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The OHDSI stack is more than ten years old with many successful practical implementations.</p><p id="4c7f" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">OHDSI does not require hospitals and other data sources to expose their data nor APIs to the internet so the analysis may be performed by delivering analysis specification to the data owner who executes analytical queries and algorithms, reviews outputs and sends them over secure channels to the analytical side. OHDSI provides end to end tools to support all the steps of this workflow.</p><h1 id="56f7" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Business value of integration</h1><p id="fe2f" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">DataSHIELD, while it requires connectivity to its analytical server APIs (Opal), enables interactive ways of analyzing data while preserving data privacy using a set of non-disclosive analytical functions and built-in advanced disclosure checks.</p><p id="4762" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This makes the analysis more agile, exploratory (to an extent), and enables data analysts to try different analytical methods to learn from data.</p><p id="58a0" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In case of traditional OHDSI approach the code is fixed in defined study definition and is executed manually by data owners. This leads to longer wait times to get the results (human dependency) up to weeks and months depending on the particular organization. In the case of the described Federated Analytics approach the results are available within seconds.</p><p id="2362" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">On the other hand there’s no manual review of the results sent back to the external analysts, data owners are expected to trust built-in federated functions and disclosure checks. Also, internet connectivity is required for federated approaches.</p><p id="ed37" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Summary of benefits:</p><ul class=""><li id="f71a" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">DataSHIELD enables results available immediately and automatically</li><li id="9069" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">built-in federated aggregation leads to improved accuracy</li><li id="9e6c" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">disclosure protection protects raw data</li><li id="21c4" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">reusing investment in OMOP CDM data harmonization</li><li id="7dac" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">improved data quality through harmonization using OMOP → higher quality analysis results</li></ul><p id="4d19" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In other words, one could get the best of both worlds for improved analytical results in real-world healthcare applications.</p><h1 id="761b" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Integration scenarios</h1><p id="bc63" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">We, in collaboration with the <a class="af ph" href="https://www.linkedin.com/company/datashield-os/" rel="noopener ugc nofollow" target="_blank">DataSHIELD team</a>, identified four main integration scenarios. Our role (Federated Open Science Team) was not only to express our interest and business justification for the integration, but to define viable integration architectures and a proof of concept definition.</p><h2 id="6f44" class="pi mj fq bf mk pj pk pl mn pm pn po mq nn pp pq pr nr ps pt pu nv pv pw px py bk">Option 1. Extract, Load and Transform (ETL) data from OMOP CDM data source to DataSHIELD data store (at start of project).</h2><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/832de0d9f699bd3b92b3742b397c26f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UVtsYK3lqp_T96_A"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx">(Image by author)</figcaption></figure><p id="ddb1" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In this approach we use the classical ETL approach to extract data from OHDSI data source and transform it into data that is going to become data source, then add it as a resource or import directly to the DataSHIELD Opal server.</p><h2 id="832e" class="pi mj fq bf mk pj pk pl mn pm pn po mq nn pp pq pr nr ps pt pu nv pv pw px py bk">Option 2. OMOP CDM as a natively supported data source in DataSHIELD.</h2><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/f2edd26c41ea173eb3423d54b33a61d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*D1mCWhRSw1E0dSx6"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx">(Image by author)</figcaption></figure><p id="6e11" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">DataSHIELD supports various data sources (flat files such as CSV, structured data such as XML, JSON, relational databases, and others) but does not provide direct support for OHDSI OMOP CDM data source.</p><p id="f5e0" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The goal of dsOMOP library (under development) is to provide extension to DataSHIELD to provide first class support for OMOP CDM data sources.</p><h2 id="af9e" class="pi mj fq bf mk pj pk pl mn pm pn po mq nn pp pq pr nr ps pt pu nv pv pw px py bk">Option 3. Use REST API to retrieve subsets of data as needed.</h2><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo op"><img src="../Images/14dde9eebe5002ba84bdf1ab1887684b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*34tdh4OgHyDo1yD1"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx">(Image by author)</figcaption></figure><p id="3fa1" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This option does not bypass API layers of OHDSI stack and works as DataSHIELD API to OHDSI tools API bridge, orchestration and translation layer.</p><h2 id="4f87" class="pi mj fq bf mk pj pk pl mn pm pn po mq nn pp pq pr nr ps pt pu nv pv pw px py bk">Option 4. Embed DataSHIELD in OHDSI stack.</h2><figure class="oq or os ot ou ov on oo paragraph-image"><div role="button" tabindex="0" class="ow ox ed oy bh oz"><div class="on oo pz"><img src="../Images/bd8f59f45e2a7b9e23fe6b6a65e3995f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pXRXbzvqOR1ME2Vc"/></div></div><figcaption class="pb pc pd on oo pe pf bf b bg z dx">(Image by author)</figcaption></figure><p id="f8b2" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This means deep integration of both ecosystems to maximize the benefits, at the expense of the high effort and coordination between two teams (DataSHIELD and OHDSI technology teams).</p><h1 id="e60b" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Adoption barriers</h1><p id="2c52" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Both solutions and communities have a track record of successful analytical projects using their respective tools and approaches. There were limited attempts in the past on the DataSHIELD side to embrace OMOP CDM and query libraries (i.e. <a class="af ph" href="https://github.com/sib-swiss/dsSwissKnife" rel="noopener ugc nofollow" target="_blank">GitHub — sib-swiss/dsSwissKnife</a>, early <a class="af ph" href="https://github.com/isglobal-brge/dsomop" rel="noopener ugc nofollow" target="_blank">https://github.com/isglobal-brge/dsomop</a>).</p><p id="383c" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The main problem we try to address is the continued limited awareness of the federated model, which we gladly presented at the <a class="af ph" href="https://ohdsi-europe.org/symposium-event" rel="noopener ugc nofollow" target="_blank">OHDSI Europe 2024</a> Symposium in Rotterdam with very positive feedback, recognizing the benefits of future integration. Hands-on demonstrations of how Federated Analytics works from a data analyst perspective were very helpful to convey the message. The main question asked about the planned integration was “when” not “why”, we perceive that as a good sign and encouragement for the future.</p><p id="ee78" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Both technology ecosystems (DataSHIELD, OHDSI) are mature, however their integration is under development (as of June 2024) and not production ready yet. DataSHIELD can be and is used without OMOP CDM and while the problem of data quality and harmonization are recognized, OMOP was never a direct requirement nor guidance for federated projects.</p><p id="8bb7" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The value of federated networks also could be higher if the projects were focused more on longer term collaborations instead of one-off analysis, the initial cost of building the networks (from all the perspectives) could be reused when there would be more than a single study executed in the consortia. There are signs of progress in this area, while the majority of the federated projects are single study projects.</p><h1 id="75a2" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Future steps</h1><p id="785a" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Our views on the potential and future of the integration of OHDSI and DataSHIELD are optimistic. This is what industry expects to happen and was well received by both communities.</p><p id="89a5" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The development of <a class="af ph" href="https://github.com/isglobal-brge/dsomop" rel="noopener ugc nofollow" target="_blank">dsOMOP R libraries</a> for DataSHIELD has accelerated recently.</p><p id="e539" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The results are expected to deliver an end to end solution for the data source integration (strategy number 2) and allow further development and closer collaboration of both ecosystems. Practical applications of the expected integration are always the best way to gather invaluable feedback and detect issues.</p><p id="5afb" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The author would like to thank <a class="af ph" href="https://www.linkedin.com/in/jacekchmiel/" rel="noopener ugc nofollow" target="_blank">Jacek Chmiel</a> for significant impact on the blog post itself, as well as the people who helped shaping this effort: <a class="af ph" href="https://www.linkedin.com/in/jacekchmiel/" rel="noopener ugc nofollow" target="_blank">Jacek Chmiel</a>, <a class="af ph" href="https://www.linkedin.com/in/drbeccawilson/" rel="noopener ugc nofollow" target="_blank">Rebecca Wilson</a>, <a class="af ph" href="https://www.linkedin.com/in/ollybutters/" rel="noopener ugc nofollow" target="_blank">Olly Butters</a> and <a class="af ph" href="https://www.linkedin.com/in/frank-j-defalco/" rel="noopener ugc nofollow" target="_blank">Frank DeFalco</a> and the Federated Open Science team at Roche.</p></div></div></div></div>    
</body>
</html>