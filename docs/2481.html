<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Low-Code Data Connectors and Destinations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Low-Code Data Connectors and Destinations</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/low-code-data-connectors-and-destinations-b044128c72ca?source=collection_archive---------11-----------------------#2024-10-10">https://towardsdatascience.com/low-code-data-connectors-and-destinations-b044128c72ca?source=collection_archive---------11-----------------------#2024-10-10</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="af5a" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Get started with Airbyte and Cloud Storage</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://hectormrejia.medium.com/?source=post_page---byline--b044128c72ca--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Hector Andres Mejia Vallejo" class="l ep by dd de cx" src="../Images/e794e545531eeea552986ce7ceb6162f.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*MYSlL4J6lnoVEh5J2gqMIw.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--b044128c72ca--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://hectormrejia.medium.com/?source=post_page---byline--b044128c72ca--------------------------------" rel="noopener follow">Hector Andres Mejia Vallejo</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--b044128c72ca--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">11 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Oct 10, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="e2df" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Coding the connectors yourself? Think very carefully</h1><p id="4a58" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Creating and maintaining a data platform is a hard challenge. Not only do you have to make it scalable and useful, but every architectural decision builds up over time. Data connectors are an essential part of such a platform. Of course, how else are we going to get the data? And building them yourself from scratch gives you <strong class="ng fr">full control of how you want them to behave</strong>. But beware, with ever-increasing data sources in your platform, that can only mean the following:</p><ul class=""><li id="7c72" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Creating large volumes of code for every new connector.</li><li id="f3f0" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Maintaining complex code for every single data connector.</li><li id="ff05" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Functions and definitions between classes may diverge over time, resulting in even more complex maintenance.</li></ul><p id="a719" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Of course, all three <strong class="ng fr">can be mitigated</strong> with well-defined practices in object-oriented programming. But even still, <strong class="ng fr">it will take many hours of coding </strong>that could be used in later stages to serve your data consumers faster.</p></div></div><div class="on"><div class="ab cb"><div class="ll oo lm op ln oq cf or cg os ci bh"><figure class="ow ox oy oz pa on pb pc paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou ov"><img src="../Images/3a353f00b105a05e5bc1d3df787f9e00.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/0*hFpQzUsqbzcj-QkY"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Data flowing like cars in a highway. Photo by <a class="af pn" href="https://unsplash.com/@stywo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stephan Seeber</a> on <a class="af pn" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="47a3" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">What if you try low-code connectors?</h1><p id="b494" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Other options still give you the flexibility to define what data you want to ingest and how with no to very little code involved. With this option, you get:</p><ul class=""><li id="17ce" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk">Connectors with standardized behavior given the extraction methodology: No divergent classes for two connectors that use REST APIs at their core, for instance.</li><li id="8cfa" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Simple, but powerful user interfaces to build connections between sources and destinations.</li><li id="d420" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk">Connectors that are maintained by the teams building the tools and the community.</li></ul><p id="83fa" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">These benefits allow you to <strong class="ng fr">build data connections in minutes, instead of hours.</strong></p><p id="b67f" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Nevertheless, I am not trying to sell you these tools; if and when you need highly customizable logic for data ingestion, you are going to need to implement it. So, do what is best for your application.</p><h1 id="1fb4" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">The exercise: Airbyte with ADLS Gen2</h1><p id="081e" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Let’s jump right into it. I am using Azure for this tutorial. You can sign up and get $200 worth of services for free to try the platform.</p><p id="81fb" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">We are going to deploy Airbyte Open Source using an Azure Kubernetes cluster and use Azure Storage (ADLS) Gen 2 for cloud storage.</p><h2 id="a2d3" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk">Creating the infrastructure</h2><p id="968a" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">First, create the following resources:</p><ul class=""><li id="9397" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><strong class="ng fr">Resource group</strong> with the name of your choosing.</li><li id="8d8a" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">Azure Kubernetes Services</strong>. To avoid significant costs, set a single node pool with one node. However, that node needs enough resources. Otherwise, the Airbyte syncs won’t start. An appropriate node size is <strong class="ng fr"><em class="qf">Standard_D4s_v3.</em></strong></li><li id="35af" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">Azure Storage Account</strong>. While creating git, turn on the hierarchical namespace feature so the storage account becomes ADLS Gen2. Now create a storage container with any name you like.</li></ul><blockquote class="qg qh qi"><p id="be19" class="ne nf qf ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr"><em class="fq">Production Tip: Why the hierarchical namespace? </em></strong><em class="fq">Object stores by default have a flat storage environment. This has the benefit of infinite scalability, with an important downside. For analytics workloads, this results in additional overhead when reading, modifying, or moving files as the whole container has to be scanned. Enabling this features brings hierarchical directories from filesystems to scalable object storage.</em></p></blockquote><h2 id="2dcf" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk">Deploying Airbyte to Kubernetes</h2><p id="6b00" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">You need to install a few things on your shell first:</p><ul class=""><li id="96a5" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><a class="af pn" href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli" rel="noopener ugc nofollow" target="_blank">Azure-CLI</a></li><li id="0ec4" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><a class="af pn" href="https://helm.sh/docs/intro/install/" rel="noopener ugc nofollow" target="_blank">Helm</a></li><li id="682b" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><a class="af pn" href="https://kubernetes.io/docs/tasks/tools/" rel="noopener ugc nofollow" target="_blank">Kubernetes command line tools (kubectl)</a></li></ul><p id="44b7" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Now, follow these steps:</p><p id="f43e" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Log into your Azure account using the shell.</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="de31" class="qn mj fq qk b bg qo qp l qq qr">az login</span></pre><p id="886d" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Set the cluster credentials.</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="04f6" class="qn mj fq qk b bg qo qp l qq qr">az aks get-credentials --resource-group &lt;your-resource-group&gt;\<br/>                       --name &lt;cluster-name&gt;\<br/>                       --overwrite-existing</span></pre><p id="f1ee" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Add remote helm repository and search for the Airbyte chart.</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="d91f" class="qn mj fq qk b bg qo qp l qq qr">helm repo add airbyte https://airbytehq.github.io/helm-charts<br/>helm repo update<br/>helm search repo airbyte</span></pre><p id="ac29" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Create a unique Kubernetes namespace for the Airbyte deployments. I called it <strong class="ng fr"><em class="qf">dev-airbyte</em></strong><em class="qf">.</em></p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="c22b" class="qn mj fq qk b bg qo qp l qq qr">kubectl create namespace dev-airbyte</span></pre><p id="31db" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Deploy Airbyte.</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="8df8" class="qn mj fq qk b bg qo qp l qq qr">helm install airbyte airbyte/airbyte - namespace dev-airbyte</span></pre><p id="7892" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Wait a few minutes until the deployment is completed. Run the following command to check if the pods are running:</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="7dd0" class="qn mj fq qk b bg qo qp l qq qr">kubectl get pods --namespace dev-airbyte</span></pre><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qs"><img src="../Images/d52e441afa2593ab414f0da47a0cf780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrJTbcyrSKXwIR2mqYbSTQ.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Airbyte pods ready! Screen capture taken by me.</figcaption></figure><h2 id="3521" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk"><strong class="al">Accessing the Airbyte web app locally</strong></h2><p id="37d4" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">After Airbyte is deployed you can get the container and port, and then run a port forwarding command to map a port in your local machine to the port in the Kubernetes web app pod. This will allow us to access the application using localhost.</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="4c0f" class="qn mj fq qk b bg qo qp l qq qr">export POD_NAME=$(kubectl get pods - namespace dev-airbyte -l "app.kubernetes.io/name=webapp" -o jsonpath="{.items[0].metadata.name}")<br/>export CONTAINER_PORT=$(kubectl get pod - namespace dev-airbyte $POD_NAME -o jsonpath="{.spec.containers[0].ports[0].containerPort}")<br/>kubectl - namespace dev-airbyte port-forward $POD_NAME 8080:$CONTAINER_PORT<br/>echo "Visit http://127.0.0.1:8080 to use your application"</span></pre><p id="77b2" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">If you go to <strong class="ng fr"><em class="qf">127.0.0.1:8080</em></strong> on your machine, you should see the application. Now, we can start adding data connectors!</p><blockquote class="qg qh qi"><p id="11cc" class="ne nf qf ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr"><em class="fq">Production Tip:</em></strong><em class="fq"> Port forwarding works only for your local machine and must be done every time the shell is started. However, for data teams in real scenarios, Kubernetes allows you to expose your application throughout a </em><a class="af pn" href="https://learn.microsoft.com/en-us/azure/aks/internal-lb?tabs=set-service-annotations" rel="noopener ugc nofollow" target="_blank"><em class="fq">virtual private network</em></a><em class="fq">. For that, you will need to switch to </em><a class="af pn" href="https://docs.airbyte.com/enterprise-setup/" rel="noopener ugc nofollow" target="_blank"><em class="fq">Airbyte Self-managed enterprise</em></a><em class="fq"> which provides </em><a class="af pn" href="https://docs.airbyte.com/access-management/sso-providers/azure-entra-id" rel="noopener ugc nofollow" target="_blank"><em class="fq">Single Sign-On</em></a><em class="fq"> with Cloud identity providers like Azure Active Directory to secure your workspace.</em></p></blockquote><h2 id="99ea" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk">Setting up the data source</h2><p id="e875" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">The provider for the data in this exercise is called <a class="af pn" href="https://www.tiingo.com/documentation/general/overview" rel="noopener ugc nofollow" target="_blank">Tiingo</a>, which serves very valuable information from the companies in the stock market. They offer <a class="af pn" href="https://www.tiingo.com/documentation/general/overview" rel="noopener ugc nofollow" target="_blank">a free license</a> that will give you access to the end-of-day prices endpoint for any asset and fundamental analysis for companies in the DOW 30. Be mindful that <strong class="ng fr">with the free license, their data are for your eyes only</strong>. If you want to share your creations based on Tiingo, you must pay for a commercial license. For now, I will use the free version and guide you through the tutorial without showing their actual stock data to remain compliant with their rules.</p><p id="7847" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><a class="af pn" href="https://www.tiingo.com/documentation/general/overview" rel="noopener ugc nofollow" target="_blank">Create the account</a>. Then, copy the API key provided to you. We are now ready to set up the source in Airbyte.</p><h2 id="f171" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk"><strong class="al">Creating a data source in Airbyte</strong></h2><p id="3d2f" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">In the Airbyte app, go to <strong class="ng fr"><em class="qf">Builder &gt; Start from Scratch</em></strong>.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qt"><img src="../Images/812b3c82e58da3bdf5f9e49a7b75fe01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6C-YviFE1R-NStgoWaFFbw.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Airbyte connector builder screen. Image captured by me.</figcaption></figure><p id="f308" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In the API Base URL write <a class="af pn" href="https://api.tiingo.com/tiingo/" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/</em></strong></a><strong class="ng fr"><em class="qf"> </em></strong>and for the configuration click on the YAML button. Enter the following:</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="67e9" class="qn mj fq qk b bg qo qp l qq qr">type: ApiKeyAuthenticator<br/>inject_into:<br/>  type: RequestOption<br/>  inject_into: header<br/>  field_name: Authorization<br/>  api_token: 'Token {{ config["api_key"] }}'</span></pre><p id="ee4c" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This will allow the API token to be inserted in the header of every request. Now, let’s add your first stream by clicking on the plus icon (+) on the left. See the image below for guidance.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qu"><img src="../Images/bf9e5f12c1dc47849a790faba83a3d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VkBbiNOI2vu3KEWbovLoPg.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Building the data source. Global Configuration. Image captured by me.</figcaption></figure><p id="dd61" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">URL and stream partitioning</strong></p><p id="83e9" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">At the top write <strong class="ng fr"><em class="qf">End of Day Prices</em></strong>. This will be our stream name and the URL path will be:</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="6fdc" class="qn mj fq qk b bg qo qp l qq qr">daily/{{ stream_partition['ticker'] }}/prices</span></pre><p id="0afd" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">What is this placeholder between <strong class="ng fr"><em class="qf">{{}}</em></strong>? These are variables filled by Airbyte at runtime. In this case, Airbyte supports what they call stream partitioning, which allows the connector to <strong class="ng fr">make as many requests as the number of values you have on your partition array</strong>.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qv"><img src="../Images/68fe3ef2cb53068555465ea2fc4323ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GINQDmLRsNCsyGMUTUJ2zg.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Defining URL path and primary key. Image captured by me.</figcaption></figure><p id="57b2" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Scroll down to parameterized requests, and check the box. In the parameter values dropdown, click User Input, and on the value textbox enter:</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="dadc" class="qn mj fq qk b bg qo qp l qq qr">{{ config['tickers_arr'] }}</span></pre><p id="9ffe" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Notice that the <strong class="ng fr"><em class="qf">config</em></strong> variable used here is also referenced in the API Key in the global configuration. This variable holds the user inputs. Moreover, the user input <strong class="ng fr"><em class="qf">tickers_arr </em></strong>will hold an array of stock IDs.</p><p id="9765" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Next, on the <strong class="ng fr"><em class="qf">Current Parameter Value Identifier</em></strong> textbox enter <strong class="ng fr"><em class="qf">ticker</em></strong>. This is the key that is added to the <strong class="ng fr">stream_partition</strong> variable and references a single stock ID from the array <strong class="ng fr"><em class="qf">tickers_arr </em></strong>for a single HTTP request. Below you can find screenshots of this process.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qw"><img src="../Images/7344e59366784a9b8e46e92d42c22883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTZLLNJo89aYbTnmCZtn1A.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Defining the parameterized requests. Image captured by me.</figcaption></figure><p id="7be7" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">We are going to test it with 4 stock tickers:</p><ul class=""><li id="d7e4" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><strong class="ng fr">BA</strong> for Boeing Corp</li><li id="a551" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">CAT</strong> for Caterpillar</li><li id="6229" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">CVX</strong> for Chevron Corp</li><li id="59c9" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">KO</strong> for Coca-Cola</li></ul><p id="732a" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">With the stream partitioning set up, the connector will make 4 requests to the Tiingo server as follows:</p><ul class=""><li id="d96e" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><a class="af pn" href="https://api.tiingo.com/tiingo/" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/</em></strong></a><strong class="ng fr"><em class="qf">daily/BA/prices</em></strong></li><li id="d828" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><a class="af pn" href="https://api.tiingo.com/tiingo/" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/</em></strong></a><strong class="ng fr"><em class="qf">daily/CAT/prices</em></strong></li><li id="57ab" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><a class="af pn" href="https://api.tiingo.com/tiingo/" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/</em></strong></a><strong class="ng fr"><em class="qf">daily/CVX/prices</em></strong></li><li id="2fb7" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><a class="af pn" href="https://api.tiingo.com/tiingo/daily/KO/prices" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/daily/KO/prices</em></strong></a></li></ul><p id="b491" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Pretty cool, huh?</p><blockquote class="qg qh qi"><p id="0ee5" class="ne nf qf ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr"><em class="fq">Production Tip: </em></strong><em class="fq">Airbyte supports a parent stream, which allows us to get the list for the partitioning using a request to some other endpoint, instead of issuing the array elements ourselves. We are not doing that in this exercise, but you can check it out </em><a class="af pn" href="https://docs.airbyte.com/connector-development/connector-builder-ui/partitioning#parent-stream" rel="noopener ugc nofollow" target="_blank"><em class="fq">here</em></a><em class="fq">.</em></p></blockquote><p id="dcac" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Incremental Sync</strong></p><p id="7dde" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Airbyte supports syncing data in Incremental Append mode i.e.: syncing only <em class="qf">new</em> or <em class="qf">modified</em> data. This prevents re-fetching data that you have already replicated from a source. If the sync is running for the first time, it is equivalent to a <a class="af pn" href="https://docs.airbyte.com/using-airbyte/core-concepts/sync-modes/full-refresh-append" rel="noopener ugc nofollow" target="_blank">Full Refresh</a> since all data will be considered as <em class="qf">new</em>.</p><p id="a87a" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">To implement this in our connector, scroll to <strong class="ng fr">Incremental Sync</strong> and check the box. In the <strong class="ng fr">cursor</strong> field textbox write date since, according to the documentation, that is the name of the date field indicating when the asset was updated. For the cursor DateTime Formats, enter</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="4efc" class="qn mj fq qk b bg qo qp l qq qr">%Y-%m-%dT%H:%M:%S.%fZ</span></pre><p id="f605" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">This is the output format suggested by the API docs.</p><p id="b0a6" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In the <strong class="ng fr">Start DateTime dropdown</strong> click Custom and on the textbox enter the following:</p><pre class="ow ox oy oz pa qj qk ql bp qm bb bk"><span id="99ba" class="qn mj fq qk b bg qo qp l qq qr">{{ day_delta(-1, format='%Y-%m-%dT%H:%M:%SZ') }}</span></pre><p id="a8c8" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It will tell Airbyte to insert the date corresponding to yesterday. For the <strong class="ng fr">End Datetime</strong> leave the dropdown in <strong class="ng fr">Now</strong> to get data from the start date, up until today. The screenshot below depicts these steps.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qx"><img src="../Images/5cd1f3a8416f313df9514724e7611cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCrIVuOBhX4zsqNiWK2nUA.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Adding Incremental Start Datetime and End Datetime. Image captured by me.</figcaption></figure><p id="476a" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Finally, check the boxes to inject the start and end time into the outgoing HTTP request. The parameter names should be startDate and endDate, respectively. These parameter names come from Tiingo documentation as well. An example request will now look like:</p><ul class=""><li id="2a10" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><a class="af pn" href="https://api.tiingo.com/tiingo/daily/BA/prices?startDate=2024-09-20T13%3A54%3A20.000000Z&amp;endDate=2024-09-23T13%3A54%3A20.000000Z" rel="noopener ugc nofollow" target="_blank"><strong class="ng fr"><em class="qf">https://api.tiingo.com/tiingo/daily/BA/prices?startDate=2024-09-20T13%3A54%3A20.000000Z&amp;endDate=2024-09-23T13%3A54%3A20.000000Z</em></strong></a></li></ul><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qx"><img src="../Images/7ce827f23bcbac38adc32536fd8e1fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b2aclhyHFX2m_ZHhCrf5fw.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Start and End Time parameters for our incremental loads. Image captured by me.</figcaption></figure><p id="9eda" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Control Fields</strong></p><p id="e4dd" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">We are going to insert some information to enrich the data. For this, scroll to the transformations section and check the box. Inside the transformation dropdown, click on Add Field. The path is just the column name to be added, write process_date with the value {{ today_utc() }}. This will just indicate the timestamp for which the records were ingested into our system.</p><p id="7163" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Now, according to the documentation, the ticker of the asset is not returned in the response, but we can easily add it using an additional transformation. So, for path, write ticker and the value should be {{ stream_partition[‘ticker’] }}. This will add the ticker value of the current stream partition as a column.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qy"><img src="../Images/5dd6fdc264b64ad6b7c3c34da2125965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zZ8Gb_A6Ylv5NEbqi_9rg.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Adding our control fields to the API response. Image captured by me.</figcaption></figure><p id="b4d3" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Testing</strong></p><p id="f62e" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">On the Testing values button, enter the list of tickers. A comma separates each ticker: BA, CAT, CVX, KO.</p><p id="6578" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">You should see something similar to the following image.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou qz"><img src="../Images/c84d4c77e7b89e4b42052eccee1835d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOg1iF3uSD1cyU1FWCmBEQ.png"/></div></div></figure><p id="d79c" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Notice the two example partitions. These are two separate, parameterized requests that Airbyte performed. You can also get information about the actual content in your request, the generated schema of the data, and state information.</p><p id="434b" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Go to the top right corner and click <strong class="ng fr">publish</strong> to save this connector. Give it any name you want, I just called it Tiingo Connector.</p><h2 id="b581" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk"><strong class="al">Connecting Airbyte to the object store</strong></h2><p id="9bbd" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">Let’s return to our storage service, go to <strong class="ng fr"><em class="qf">Security + Networking &gt; Access keys</em></strong>. Copy the account name and one of the access keys. Note: we need the access key, not the connection string.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou ra"><img src="../Images/a0a893eec48cc4699adfa60c0e0ce34f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_u_Aqk1BWQFdknmr7ELVSw.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Getting the access keys for the azure storage account. Image captured by me.</figcaption></figure><p id="2de5" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Next, go to your Airbyte app, select <strong class="ng fr"><em class="qf">Destinations&gt; Marketplace,</em></strong> and click <strong class="ng fr"><em class="qf">Azure Blob Storage</em></strong>. Enter the account name, account key, and leave the other configurations as in the image. Additionally, in the Optional fields, enter the name of the container you created. Next, click on <strong class="ng fr">Set up destination.</strong></p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rb"><img src="../Images/905e407aa641d36903b82425992f7582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQlVohmw4ENIcb8LLO9fFA.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Setting up the destination in Airbyte. Image captured by me.</figcaption></figure><blockquote class="qg qh qi"><p id="a896" class="ne nf qf ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr"><em class="fq">Production Tip: </em></strong><em class="fq">Data assets from your organization need to be secured so that the individuals or teams have access to only the files they need. You can set up role-based access control at the storage account level with the Access Control (IAM) button, and also set Access Control Lists (ACLs) when right clicking folders, containers, or files.</em></p></blockquote><h2 id="432b" class="po mj fq bf mk pp pq pr mn ps pt pu mq nn pv pw px nr py pz qa nv qb qc qd qe bk"><strong class="al">Creating a connection from source to destination</strong></h2><p id="a816" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">There are four steps to build a connection in Airbyte and it will use the Tiingo Connector and the Azure Storage.</p><p id="91c6" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Defining the source</strong></p><p id="786b" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">In the Airbyte app, go to connections and create one. The first step is to set up the source. Click <strong class="ng fr"><em class="qf">Set up a new source. </em></strong>Then, on the <strong class="ng fr"><em class="qf">Custom</em></strong> tab, select the Tiingo connector we just created.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rc"><img src="../Images/3e8af663b6df1908980692dfe2bfae4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-MVdSG83MhSy6p8l2iZzQ.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Creating a source for the connection. Image captured by me.</figcaption></figure><p id="4853" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">It will prompt you to enter the API Keys and stock tickers. Just copy the ones you used while testing the source. Now click on <strong class="ng fr"><em class="qf">Set up source</em></strong>. It will test the connector with your configuration.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rd"><img src="../Images/67cf7b9b74f85e75cfd47462c052a461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QpbqYdqW7ul0mIaZESh1ew.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Adding user inputs for the source. Image captured by me.</figcaption></figure><p id="c0be" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Defining the destination</strong></p><p id="ee92" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Once it has passed, we will set up the destination, which is the one created in the above section. At this time, Airbyte will also test the destination.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou re"><img src="../Images/90840b72922681efa4ccac4eb4e1ef68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SM9HnctCTIWac4o2HXukrQ.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Adding the destination for the connection. Image captured by me.</figcaption></figure><p id="f8d0" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Defining streams</strong></p><p id="91b2" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">The third step is to select the streams and the sync mode. As we only defined one stream called <strong class="ng fr"><em class="qf">End of Day Prices</em></strong>, this is the only one available. As for the sync modes, these are the options available for this exercise:</p><ul class=""><li id="e6ca" class="ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz of og oh bk"><strong class="ng fr">Full Refresh | Overwrite:</strong> This mode will retrieve all the data and replace any existing data in the destination.</li><li id="3a72" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">Full Refresh | Append</strong>: This mode will also retrieve all of the data, but it will append the new data to the destination. You must deduplicate or transform your data properly to suit your needs afterward.</li><li id="5ae5" class="ne nf fq ng b go oi ni nj gr oj nl nm nn ok np nq nr ol nt nu nv om nx ny nz of og oh bk"><strong class="ng fr">Incremental | Append:</strong> This mode requests data given the incremental conditions we defined while building the connector. Then, it will append the data to the destination.</li></ul><p id="a997" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">You can read more about synch modes <a class="af pn" href="https://docs.airbyte.com/using-airbyte/core-concepts/sync-modes/" rel="noopener ugc nofollow" target="_blank">here</a>. For now, choose <strong class="ng fr"><em class="qf">Incremental | Append.</em></strong></p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rf"><img src="../Images/2a3c9165f9bb4530b65b269f360fc0ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fhye7Xp7nQqY5J-P5c4gQ.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Selecting the streams to ingest. Image captured by me.</figcaption></figure><p id="c114" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk"><strong class="ng fr">Final connection configurations</strong></p><p id="33e1" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Here you can define the schedule you want, plus other additional settings. Click <strong class="ng fr"><em class="qf">finish and sync</em></strong> to prompt your first data extraction and ingestion.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rg"><img src="../Images/0a7793c13f18d5914054a5f9d456a619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hTO_-8aXTfX3hXYZsnb1Wg.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Running the first synching process. Image captured by me.</figcaption></figure><p id="93de" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">And that’s it! The data is now ingested. Head back to the storage container and you will see a new folder with one CSV file. With the append mode chosen, whenever a sync is triggered, a new file appears in the folder.</p><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou rh"><img src="../Images/3377672c7a3c6cf036baef6f8e84e9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6V8fnMnTDE__KaLABYoSgw.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">A new folder with the name of the stream is created. Image captured by me.</figcaption></figure><figure class="ow ox oy oz pa on ot ou paragraph-image"><div role="button" tabindex="0" class="pd pe ed pf bh pg"><div class="ot ou ri"><img src="../Images/26caccaa6abe9cc899f7da740c84fbc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wTKvgqwZlzUESXayEr00tA.png"/></div></div><figcaption class="pi pj pk ot ou pl pm bf b bg z dx">Data files as a result of multiple syncs in Airbyte. Image captured by me.</figcaption></figure><h1 id="42d1" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Conclusion</h1><p id="adc7" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">You can clearly see the power of these kinds of tools. In this case, Airbyte allows you to get started with ingesting critical data in a matter of minutes with production-grade connectors, without the need to maintain large amounts of code. In addition, it allows incremental and full refresh modes with append or overwrite capabilities. In this exercise, only the Rest API sources were demonstrated, but there are many other source types, such as traditional databases, data warehouses, object stores, and many other platforms. Finally, it also offers a variety of destinations where your data can land and be analyzed further, greatly speeding up the development process and allowing you to take your products to market faster!</p></div></div></div><div class="ab cb rj rk rl rm" role="separator"><span class="rn by bm ro rp rq"/><span class="rn by bm ro rp rq"/><span class="rn by bm ro rp"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="3bbc" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Thank you for reading this article! If you enjoyed it, please give it a clap and share. I do my best to write about the things I learn in the data world as an appreciation for this community that has taught me so much.</p><p id="40a8" class="pw-post-body-paragraph ne nf fq ng b go oa ni nj gr ob nl nm nn oc np nq nr od nt nu nv oe nx ny nz fj bk">Till the next time!</p></div></div></div></div>    
</body>
</html>