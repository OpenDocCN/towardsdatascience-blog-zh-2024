<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>The Math Behind Risk — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>The Math Behind Risk — Part 2</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-math-behind-risk-part-2-4a3ac74eedec?source=collection_archive---------4-----------------------#2024-07-03">https://towardsdatascience.com/the-math-behind-risk-part-2-4a3ac74eedec?source=collection_archive---------4-----------------------#2024-07-03</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="af57" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Does the attack really have an advantage in the game of world conquest?</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@menachemrose1?source=post_page---byline--4a3ac74eedec--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Menachem Rose" class="l ep by dd de cx" src="../Images/9707b9a56d7bec55d4ac228f18e378c6.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*nCMFT1bR8XZ06pN5AblSoA.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--4a3ac74eedec--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@menachemrose1?source=post_page---byline--4a3ac74eedec--------------------------------" rel="noopener follow">Menachem Rose</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--4a3ac74eedec--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">10 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jul 3, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="9d50" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><a class="af ne" rel="noopener" target="_blank" href="/the-math-behind-risk-part-1-35ed4e1f542d">In Part 1</a>, we discussed the relative chances for attack and defense in Risk, the game of world conquest. At the end of Part 1, we concluded that the attack has a 47.15% chance of winning the battle for the first soldier and we wondered how the famous conquerors were able to achieve their feats under these conditions. We saved the discussion of the second soldier for Part 2.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng nh"><img src="../Images/a0f2e2c84a20e5cb5837b7a07e9d1604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-fhU1f55nQtv-Jib"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Photo by <a class="af ne" href="https://unsplash.com/@vlisidis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Terry Vlisidis</a> on <a class="af ne" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2547" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">To refresh our memories, in Risk, the attack rolls up to 3 dice, while the defense rolls up to 2 dice. The highest rolls of each are compared and the loser loses a soldier, with the defense winning in the case of a tie. Next, the second highest rolls of each are compared, and once again, the loser loses a soldier, with the defense winning in the case of a tie once again.</p><p id="c2ae" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Well, here we are. Let’s dive into it.</p><p id="62a7" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="ny">(</em><a class="af ne" href="https://github.com/Menachem631/Risk" rel="noopener ugc nofollow" target="_blank"><em class="ny">Here</em></a> y<em class="ny">ou can find code in which I confirm the below probabilities.)</em></p><p id="d1c0" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Of course, regarding the defender’s probabilities, we are merely calculating the lowest roll, since he has only two dice. Therefore, the probabilities are a mirror image of the probabilities we saw regarding the highest roll. This time, there are 11 possibilities yielding a 2nd highest roll of 1, 9 for 2, 7 for 3 etc. The probability can be calculated by dividing by 36, the total number of permutations possible for the two dice of the defense.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div class="nf ng nz"><img src="../Images/e12772163833c7bfa897c47075412272.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*2vPMZkuMTjQEqHAF6CwL8Q.png"/></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 1 — Probability of 2nd Highest Defense Roll (Image by author)</figcaption></figure><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng oa"><img src="../Images/9653ee1b0285cef0acbe4d7526f3cd16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqE_Mfi_AQnUmaT82gC9ng.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 1 — Probability of 2nd Highest Defense Roll (Image by author)</figcaption></figure><p id="b0b7" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Calculating the second highest roll among the three dice of the attacker differs significantly from the calculations of Part 1. I’ll be honest. I struggled with this a little. In the calculations that follow, two things must be borne in mind.</p><ol class=""><li id="7be6" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ob oc od bk">We must consider both how many outcomes are possible <strong class="mk fr">and</strong> how many ways in which each outcome can occur. For example, an outcome of (6, 2, 3) is of course a single outcome, but it can occur in 6 ways, corresponding to which die each value occurs on. It can be any of {(2, 3, 6), (2, 6, 3), (3, 2, 6), (3, 6, 2), (6, 2, 3), (6, 3, 2)}. This outcome therefore corresponds to 1*6 = 6 permutations. For another example, an outcome with <strong class="mk fr">exactly</strong> two ones is actually a collection of 5 outcomes, since the remaining die can take any value between 2 and 6. <strong class="mk fr">And</strong> it can occur in any of 3 ways, {(1, 1, x), (1, x, 1), (x, 1, 1)}, corresponding to the 3 possible locations for the remaining die, so this outcome actually corresponds to 5*3 = 15 permutations.</li><li id="2fad" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">We must be careful with doubles and triples. These must be considered separately since, while there are 6 ways to obtain an outcome of (1, 2, 3), there are only 3 ways to obtain a (1, 2, 2) and only 1 way to obtain a (2, 2, 2).</li></ol><p id="d758" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">With the above considerations in mind, we are ready to proceed.</p><p id="ff88" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Consider the probability of getting a 2nd highest roll of 1. This is relatively straight-forward. Clearly the lowest roll is a 1 as well. For now, we will disregard the case where all 3 dice are 1. The highest die can then take any value between 2and 6, and it can appear upon any of the 3 dice, since we have not specified which of the 3 dice contains the highest roll. This yields a total of 3*5=15 permutations. Adding the case of a triple 1 yields a total of 16 permutations. By a symmetrical argument, we can calculate that the same number of permutations yield a 2nd highest roll of 6.</p><p id="910e" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Next, what about getting a 2 as the second highest roll? For now, we will disregard the possibility of multiple twos and assume that the highest roll was higher than 2 and that the lowest roll was lower than 2. The highest roll can take 4 values (3–6) and the lowest toll must be 1, for a total of 4 outcomes, and these can occur at any of 6 permutations of dice locations(3 possibilities for the location of the highest roll (die 1, die 2 or die 3) and the two remaining possibilities for the location of the lowest roll), for a total of 4*6=24 permutations. We will now consider double twos, but not triple twos. If there are exactly 2 twos, then the remaining die can take any of 5 values (excluding 2), and this remaining die could be any of the 3 dice, for an additional 5*3=15 permutations. Adding the final case of triple 2’s, we obtain a total of 24+15+1 = 40 permutations. A parallel argument yields the same result for a second highest roll of 5.</p><p id="111c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Finally, what about getting a 3 or a 4? Let’s start with 3. Once again disregarding the possibility of multiple threes, the highest roll can take any of 3 values (4, 5 or 6) and the lower roll can take any of 2 values (1 or 2), for a total of 6 outcomes. This can once again occur at any of 6 permutations of two dice, for a total of 6*6 = 36 permutations. In the case of exactly 2 threes, the other die could take any of 5 values (any besides 3) and could occur at any of the three dice, for an additional 5*3 = 15 permutations. Adding the last possibility of 3 threes yields a total of 36+15+1=52 permutations. A parallel calculation yields 52 permutations for a second highest roll of 4 as well. These results are summarized in the below visuals.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div class="nf ng oj"><img src="../Images/156798211ab6f4a08283075364d3ee61.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*vpjL_vYI-ogZeV7IPUBFaw.png"/></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 2 — Probability of 2nd Highest Attack Roll (Image by author)</figcaption></figure><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ok"><img src="../Images/dd713a346d3b9d7c4926282430d72a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4XlX4JBmXcNUXF6a3pQfbA.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 2 — Probability of 2nd Highest Attack Roll (Image by author)</figcaption></figure><p id="479c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Note that the probabilities of attack results are exactly symmetrical. To be mathematically precise, P(x) = P(6-x). We will come back to this point.</p><p id="d6a2" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We next compare the probabilities of attack and defense directly.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ol"><img src="../Images/b629afec8b4de5c8c413c87a36ae643b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zywG3G35n35DasbijAWsFQ.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 3 — Probability of 2nd Highest Rolls (Image by author)</figcaption></figure><p id="640c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We can see that the attack has a significant advantage here. It is much more likely to obtain values of 4, 5 or 6, than defense is.</p></div></div></div><div class="ab cb om on oo op" role="separator"><span class="oq by bm or os ot"/><span class="oq by bm or os ot"/><span class="oq by bm or os"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="235c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We are now ready to calculate the relative probabilities of victory for the second soldier. This segment is largely unchanged from the parallel calculations we did in Part 1. We need to count the permutations in which the defense achieves a 2nd highest roll of x, and then determine how many of those permutations yield an outright victory for the defense, a tie, or a win for the attack.</p><p id="754e" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">For example, since, as calculated above, there is a 3/36 chance of the defense’s second highest roll being 5, and there are a total of 6⁵= 7776 permutations, clearly (3/36) * 7776 = 648 of those permutations will yield a second highest defense roll of 5. To win, the attack then needs to get a second highest roll of 6, the probability of which is 16/216, as calculated above, so (16/216) * 648 = 48 of the 648 permutations which yielded a second highest defense roll of 5 will result in a victory for attack. To achieve a tie, attack must roll a 2nd highest roll of 5, the probability of which is 40/216, so (40/216) * 648 = 120 of those permutations will result in ties, and the remainder (648–120–48 = 480) will result in outright defense wins.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div class="nf ng ou"><img src="../Images/cbf6da26d52f5b114d016aff26a05810.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*D4HkRy5l8sJeyNvBDdyILg.png"/></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 3 — Permutation Counts (Image by author)</figcaption></figure><p id="3f34" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We can also calculate the respective conditional probabilities, in which we calculate the probabilities of victory for each team, <strong class="mk fr">given</strong> a particular defense roll.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div class="nf ng ov"><img src="../Images/f13db240a0f1d3855d72dc8a57548f21.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*XAKJuUnxC97_DV5SW2Uolw.png"/></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 4 — Conditional Probability (Image by author)</figcaption></figure><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ow"><img src="../Images/d2bd94ace718f4134139a4b7a6f3ac9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNcI2VEhHI20uL0Ez3ApXA.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 4 — Conditional Probability (Image by author)</figcaption></figure><p id="60dc" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Note the exact symmetry of the above table and charts. Thus, the probabilities of an attack victory given a defense roll of x is identical to the probability of a defense victory given a defense roll of 6-x. Furthermore, the probability of a tie given a defense roll of x is identical to the probability of a tie given a defense roll of 6-x. This is of course because of the symmetry of the second highest roll of attack which was noted above.</p><p id="727c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">As in Part 1, Table 4 and Chart 4 give a misleading impression. They imply that attack and defense are on an equal footing, but these are conditional probabilities and therefore they ignore how much more likely low rolls for defense are.</p><p id="4f1e" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Total probabilities, on the other hand, will allow for this. In the table below, we see clearly that the attack will win from a defense roll of 1 significantly more often, in absolute terms, than defense will win from a defense roll of 6, despite the conditional symmetry noted above.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ov"><img src="../Images/b522b204efc2d4498bfa6e07a6ee5806.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*-X1tbGl7w3bEdKrlMtEhjA.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 5 — Win Total Probability (Image by author)</figcaption></figure><p id="c3e7" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Below is a chart of total win probabilities by 2nd highest defensive roll.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ox"><img src="../Images/f91cbdaf186862bd150cad5207bb593f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ocrh76MvysDzwEKEixrfbQ.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 5 — Total Win Probability (Image by author)</figcaption></figure><p id="1237" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The above chart finally captures what most of us felt instinctively, whether from experience of playing Risk or from mathematical instinct, that the attack has a big advantage. That advantage plays out specifically in the 2nd battle.</p><p id="6b3d" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Finally, we can calculate the joint probability of each possible 2nd highest result for both attack and defense. A joint probability is simply the probability of two or more events co-occurring. Since the dice rolls of attack and defense are independent, the joint probability is simply the product of the individual probabilities of the respective rolls of attack and defense.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng oy"><img src="../Images/ffb22ead578206d0fedf4eeebaf2e2a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NNeo7OgIIylHbVTuahb3gA.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 6 — Joint Probability (Image by author)</figcaption></figure><p id="8a06" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">See the following graph for a cool visualization of the above chart. Note the configuration of the axes, which has been chosen to allow for best viewing.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng oz"><img src="../Images/a4628780788c46203d06ca08743e8a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*igbFSnn9MD8pGjAmJqKnkQ.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 6— Joint Probability (Image by author)</figcaption></figure></div></div></div><div class="ab cb om on oo op" role="separator"><span class="oq by bm or os ot"/><span class="oq by bm or os ot"/><span class="oq by bm or os"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="273f" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">There is one final factor we should consider, before we wrap up, and that is how likely it is for the attack to win <strong class="mk fr">both </strong>soldiers. However, compared to calculating the 3667 permutations and 4724 permutations which resulted in the attack winning the first and second soldiers respectively, which I calculated in my head (I had no choice, since I was asked the question on a religious holiday, on which I am forbidden to write, although admittedly I did have a choice about whether to brag about it), this calculation requires calculating and summing 36 separate permutation counts. This is because this calculation varies depending on <strong class="mk fr">both </strong>defense rolls simultaneously, while the previous calculations required considering the higher or lower roll of the defense independently. I will therefore not bore myself or you with calculating and summing all 36 permutation counts, and will rely on python to count the permutations. I will suffice with providing the code.</p><pre class="ni nj nk nl nm pa pb pc bp pd bb bk"><span id="8ca1" class="pe pf fq pb b bg pg ph l pi pj">from itertools import product<br/>import numpy as np<br/>import pandas as pd<br/><br/><br/>def check_both(result, attack_dice=3):<br/>    """<br/>    Given a result of multiple dice, and a number of attack dice, determine whether the attack will win both soldiers,<br/>    the defense will both soldiers, or each will win a soldier.<br/><br/>    :param result: array of dice results, where the attack dice are declared first<br/>    :param attack_dice: number of dice which represent the attack dice<br/>    :return:<br/>    """<br/>    if np.partition(result[:attack_dice], -1)[-1] &gt; np.partition(result[attack_dice:], -1)[-1] and \<br/>            np.partition(result[:attack_dice], -2)[-2] &gt; np.partition(result[attack_dice:], -2)[-2]:<br/>        return 'attack_both'<br/>    elif np.partition(result[:attack_dice], -1)[-1] &gt; np.partition(result[attack_dice:], -1)[-1] or \<br/>            np.partition(result[:attack_dice], -2)[-2] &gt; np.partition(result[attack_dice:], -2)[-2]:<br/>        return 'one_one'<br/>    else:<br/>        return 'defense_both'<br/><br/><br/># produce array of all possible permutations of 5 dice<br/>arr = np.array(list(product([1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6],<br/>                            [1, 2, 3, 4, 5, 6]))).transpose()<br/><br/># calculate and print counts of various result types<br/>print(pd.Series(np.apply_along_axis(check_both, axis=0, arr=arr)).value_counts())</span></pre><p id="b6d2" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In the below graphics, a truce refers to a result where both attack and defense lose one soldier, while attack refers to the attack winning both soldiers and likewise for defense.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div class="nf ng pk"><img src="../Images/c6eb05eecb8a64f96351f3a66610e9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*HlkGni67QfXnWGw5sx-SnA.png"/></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Table 7 — Overall Outcome Probabilities (Image by author)</figcaption></figure><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ow"><img src="../Images/7faf424d3767c2773249aa604ea63213.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jllceHKZpmZeI-JqQVpxzQ.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Chart 6 — Overall Outcome Probabilities Chart (Image by author)</figcaption></figure><blockquote class="pl pm pn"><p id="0c2a" class="mi mj ny mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">I thought for a second that I could finally use a pie chart for the above graphic without fear of criticism, but alas, the probabilities are too similar. The wait continues.</p></blockquote><p id="2265" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We can see that although the defense has a small advantage in the first battle, as we calculated in Part 1, the attack nevertheless has the upper hand overall, thanks to its significant advantage in the second battle.</p></div></div></div><div class="ab cb om on oo op" role="separator"><span class="oq by bm or os ot"/><span class="oq by bm or os ot"/><span class="oq by bm or os"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h2 id="5d7b" class="po pf fq bf pp pq pr ps pt pu pv pw px mr py pz qa mv qb qc qd mz qe qf qg qh bk">Conclusions</h2><ol class=""><li id="e32a" class="mi mj fq mk b go qi mm mn gr qj mp mq mr qk mt mu mv ql mx my mz qm nb nc nd ob oc od bk">The probability of a victory for the attack is 60.75%. <em class="ny">This can be seen clearly in Table 5.</em></li><li id="6e42" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probability of an outright victory for the defense is 22.58%. <em class="ny">This can be seen clearly in Table 5.</em></li><li id="bc31" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probability of a tie is, perhaps a touch surprisingly, exactly 1/6, or 16.67%. <em class="ny">This can be seen clearly in Table 5.</em></li><li id="38b2" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">If the defense’s second highest roll is 3, his probability of winning, including the probability of a tie, is exactly 50/50. <em class="ny">This can be seen in Table 4.</em></li><li id="5836" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probabilities of attack’s 2nd highest roll are exactly symmetrical. <em class="ny">This can be seen in Table 2.</em></li><li id="bc86" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The conditional probabilities are exactly symmetrical. <em class="ny">This can be seen in Table 4.</em></li><li id="21dd" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The most likely overall outcomes, at 7.36% each, are for the defense to roll a 1 and for the attack to roll either a 3 or a 4. <em class="ny">This can be seen in Table 6.</em></li><li id="6d47" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probability of the attack winning both battles is 37.17%. <em class="ny">This can be seen in Table 7.</em></li><li id="59f6" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probability of the defense winning both battles is 33.58%. <em class="ny">This can be seen in Table 7.</em></li><li id="fef8" class="mi mj fq mk b go oe mm mn gr of mp mq mr og mt mu mv oh mx my mz oi nb nc nd ob oc od bk">The probability of both the attack and defense winning a battle is 29.26%. <em class="ny">This can be seen in Table 7.</em></li></ol><p id="f5b1" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We are now in a position to provide a definitive answer to our original question. The attack <strong class="mk fr">does</strong> have an overall advantage in a 3 to 2 dice battle.</p><p id="9ff0" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">I have to say I’ve enjoyed this foray into the mathematics and probability of Risk, and if you have too, well, that’s a bonus.</p><p id="70b7" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Until next time.</p></div></div></div></div>    
</body>
</html>