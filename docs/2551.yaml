- en: All You Need to Know About the Non-Inferiority Hypothesis Test
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/all-you-need-to-know-about-non-inferiority-test-c58a74ec4cc5?source=collection_archive---------8-----------------------#2024-10-18](https://towardsdatascience.com/all-you-need-to-know-about-non-inferiority-test-c58a74ec4cc5?source=collection_archive---------8-----------------------#2024-10-18)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A non-inferiority test statistically proves that a new treatment is not worse
    than the standard by more than a clinically acceptable margin
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://prateekkrjain.medium.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)[![Prateek
    Jain](../Images/aca13a91c244dcffc6a4971649af0ce8.png)](https://prateekkrjain.medium.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)
    [Prateek Jain](https://prateekkrjain.medium.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--c58a74ec4cc5--------------------------------)
    ·6 min read·Oct 18, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/59b1f94df176dbf50e72c65b6838f2d3.png)'
  prefs: []
  type: TYPE_IMG
- en: Generated using Midjourney by [prateekkrjain.com](http://prateekkrjain.com)
  prefs: []
  type: TYPE_NORMAL
- en: While working on a recent problem, I encountered a familiar challenge — **“How
    can we determine if a new treatment or intervention is at least as effective as
    a standard treatment?”** At first glance, the solution seemed straightforward
    — just compare their averages, right? But as I dug deeper, I realised it wasn’t
    that simple. In many cases, the goal isn’t to prove that the new treatment is
    better, but to show that it’s *not worse* by more than a predefined margin.
  prefs: []
  type: TYPE_NORMAL
- en: This is where **non-inferiority tests** come into play. These tests allow us
    to demonstrate that the new treatment or method is “not worse” than the control
    by more than a small, acceptable amount. Let’s take a deep dive into how to perform
    this test and, most importantly, how to interpret it under different scenarios.
  prefs: []
  type: TYPE_NORMAL
- en: The Concept of Non-Inferiority Testing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In non-inferiority testing, we’re not trying to prove that the new treatment
    is better than the existing one. Instead, we’re looking to show that the new treatment
    is **not unacceptably worse**. The threshold for what constitutes “unacceptably
    worse” is known as the **non-inferiority margin** (Δ). For example, if Δ=5, the
    new treatment can be up to 5 units worse than the standard treatment, and we’d
    still consider it acceptable.
  prefs: []
  type: TYPE_NORMAL
- en: This type of analysis is particularly useful when the new treatment might have
    other advantages, such as being cheaper, safer, or easier to administer.
  prefs: []
  type: TYPE_NORMAL
- en: Formulating the Hypotheses
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Every non-inferiority test starts with formulating two hypotheses:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Null Hypothesis (H0​)**: The new treatment is worse than the standard treatment
    by more than the non-inferiority margin Δ.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Alternative Hypothesis (H1​)**: The new treatment is not worse than the standard
    treatment by more than Δ.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'When Higher Values Are Better:'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'For example, when we are measuring something like drug efficacy, where **higher
    values are better**, the hypotheses would be:'
  prefs: []
  type: TYPE_NORMAL
- en: '**H0​**: The new treatment is worse than the standard treatment by at least
    Δ (i.e., μnew − μcontrol ≤ −Δ).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**H1​**: The new treatment is **not** worse than the standard treatment by
    more than Δ (i.e., μnew − μcontrol > −Δ).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'When Lower Values Are Better:'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'On the other hand, when **lower values are better**, like when we are measuring
    side effects or error rates, the hypotheses are reversed:'
  prefs: []
  type: TYPE_NORMAL
- en: '**H0**: The new treatment is worse than the standard treatment by at least
    Δ (i.e., μnew − μcontrol ≥ Δ).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**H1​**: The new treatment is **not** worse than the standard treatment by
    more than Δ (i.e., μnew − μcontrol < Δ).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Z-Statistic
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To perform a non-inferiority test, we calculate the **Z-statistic**, which measures
    how far the observed difference between treatments is from the non-inferiority
    margin. Depending on whether **higher or lower values are better**, the formula
    for the Z-statistic will differ.
  prefs: []
  type: TYPE_NORMAL
- en: 'When **higher values are better**:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/008996de27836a2699e4af582d105b44.png)'
  prefs: []
  type: TYPE_IMG
- en: 'When **lower values are better**:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/29ab6915089d2d249a21e2b115e1059c.png)'
  prefs: []
  type: TYPE_IMG
- en: where δ is the observed difference in means between the new and standard treatments,
    and SE(δ) is the standard error of that difference.
  prefs: []
  type: TYPE_NORMAL
- en: Calculating P-Values
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The **p-value** tells us whether the observed difference between the new treatment
    and the control is statistically significant in the context of the non-inferiority
    margin. Here’s how it works in different scenarios:'
  prefs: []
  type: TYPE_NORMAL
- en: '**When higher values are better**, we calculate'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: p = 1 − P(Z ≤ calculated Z)
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: as we are testing if the new treatment is not worse than the control (one-sided
    upper-tail test).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**When lower values are better**, we calculate'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: p = P(Z ≤ calculated Z)
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: since we are testing whether the new treatment has lower (better) values than
    the control (one-sided lower-tail test).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Understanding Confidence Intervals
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Along with the p-value, **confidence intervals** provide another key way to
    interpret the results of a non-inferiority test.
  prefs: []
  type: TYPE_NORMAL
- en: When **higher values are preferred**, we focus on the **lower bound** of the
    confidence interval. If it’s greater than −Δ, we conclude non-inferiority.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When **lower values are preferred**, we focus on the **upper bound** of the
    confidence interval. If it’s less than Δ, we conclude non-inferiority.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/a0ed59a09bf5c0e251322069c9f151ce.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The confidence interval is calculated using the formula:'
  prefs: []
  type: TYPE_NORMAL
- en: '**when higher values preferred**'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/1c93924d62d01194a4f9be3eb2b13342.png)'
  prefs: []
  type: TYPE_IMG
- en: '**when lower values preferred**'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/79945d242cd4f366a787b44e3779a4bf.png)'
  prefs: []
  type: TYPE_IMG
- en: Calculating the Standard Error (SE)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The **standard error (SE)** measures the variability or precision of the estimated
    difference between the means of two groups, typically the new treatment and the
    control. It is a critical component in the calculation of the Z-statistic and
    the confidence interval in non-inferiority testing.
  prefs: []
  type: TYPE_NORMAL
- en: 'To calculate the standard error for the difference in means between two independent
    groups, we use the following formula:'
  prefs: []
  type: TYPE_NORMAL
- en: '**between two means**'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/56394ccf3fcc97646693433986efed91.png)'
  prefs: []
  type: TYPE_IMG
- en: '**between two proportions**'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/d224246324d0d88892d1d921da1ef160.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Where:'
  prefs: []
  type: TYPE_NORMAL
- en: '**σ_new** and **σ_control** are the standard deviations of the new and control
    groups.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**p_new** and **p_control** are the proportion of success of the new and control
    groups.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**n_new**​ and **n_control** are the sample sizes of the new and control groups.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Role of Alpha (**α**)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In hypothesis testing, **α** (the significance level) determines the threshold
    for rejecting the null hypothesis. For most non-inferiority tests, **α=0.05**
    (5% significance level) is used.
  prefs: []
  type: TYPE_NORMAL
- en: A **one-sided test** with α=0.05 corresponds to a critical **Z-value of 1.645**.
    This value is crucial in determining whether to reject the null hypothesis.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The **confidence interval** is also based on this Z-value. For a 95% confidence
    interval, we use **1.645** as the multiplier in the confidence interval formula.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In simple terms, if your **Z-statistic** is greater than **1.645** for higher
    values, or less than **-1.645** for lower values, and the confidence interval
    bounds support non-inferiority, then you can confidently reject the null hypothesis
    and conclude that the new treatment is **non-inferior**.
  prefs: []
  type: TYPE_NORMAL
- en: Interpretation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let’s break down the interpretation of the **Z-statistic** and **confidence
    intervals** across four key scenarios, based on whether higher or lower values
    are preferred and whether the Z-statistic is positive or negative.
  prefs: []
  type: TYPE_NORMAL
- en: '**Here’s a 2x2 framework:**'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4c150c7ad20852df31caa24a7c1d93ab.png)'
  prefs: []
  type: TYPE_IMG
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Non-inferiority tests are invaluable when you want to demonstrate that a new
    treatment is not significantly worse than an existing one. Understanding the nuances
    of Z-statistics, p-values, confidence intervals, and the role of α will help you
    confidently interpret your results. Whether higher or lower values are preferred,
    the framework we’ve discussed ensures that you can make clear, evidence-based
    conclusions about the effectiveness of your new treatment.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you’re equipped with the knowledge of how to perform and interpret
    non-inferiority tests, you can apply these techniques to a wide range of real-world
    problems.
  prefs: []
  type: TYPE_NORMAL
- en: Happy testing!
  prefs: []
  type: TYPE_NORMAL
- en: '*Note: All images, unless otherwise noted, are by the author.*'
  prefs: []
  type: TYPE_NORMAL
