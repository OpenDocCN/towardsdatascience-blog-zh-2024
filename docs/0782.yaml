- en: 'Creating Synthetic User Research: Using Persona Prompting and Autonomous Agents'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/creating-synthetic-user-research-using-persona-prompting-and-autonomous-agents-b521e0a80ab6?source=collection_archive---------0-----------------------#2024-03-25](https://towardsdatascience.com/creating-synthetic-user-research-using-persona-prompting-and-autonomous-agents-b521e0a80ab6?source=collection_archive---------0-----------------------#2024-03-25)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Unlocking In-depth Analysis with Simulated Customers and Market Research Using
    Generative AI & Large Language Models
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@vincentkoc?source=post_page---byline--b521e0a80ab6--------------------------------)[![Vincent
    Koc](../Images/6cbe2dab3c452384057fbdb7a16506be.png)](https://medium.com/@vincentkoc?source=post_page---byline--b521e0a80ab6--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--b521e0a80ab6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--b521e0a80ab6--------------------------------)
    [Vincent Koc](https://medium.com/@vincentkoc?source=post_page---byline--b521e0a80ab6--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--b521e0a80ab6--------------------------------)
    ·15 min read·Mar 25, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5cc94d1b8a0053781af2f0a81236e9a3.png)'
  prefs: []
  type: TYPE_IMG
- en: User research is a critical component of validating any hypothesis against a
    group of actual users for gathering valuable market research into consumer behavior
    and preferences. Traditional user research methodologies, while invaluable, come
    with inherent limitations, including scalability, resource intensity, and the
    challenge of accessing diverse user groups. This article outlines how we can overcome
    these limitations by introducing a novel method of synthetic user research.
  prefs: []
  type: TYPE_NORMAL
- en: The power of synthetic user research, facilitated by autonomous agents, emerges
    as a game-changer. **By leveraging generative AI to create and interact with digital
    customer personas in simulated research scenarios, we can unlock unprecedented
    insights into consumer behaviors and preferences**. Fusing the power of generative
    AI prompting techniques with autonomous agents.
  prefs: []
  type: TYPE_NORMAL
- en: Persona Prompting — Emulating People
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we dive into autonomous agents, let’s understand the concept of persona
    or personality prompting which is designed to capture elements of frustrations,
    behaviors, goals, personality traits, demographics and more.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/8559d60d7973286e078bcd97ad0700a2.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Research: Adaptation of how personas are generated — Source: [Stefano De Paoli
    (arXiv Oct 2023)](https://arxiv.org/abs/2310.06391)'
  prefs: []
  type: TYPE_NORMAL
- en: We are using prompts to ask the language model to *assume* a role with as much
    deep context as possible. I use the following prompt which can be tailored to
    your needs but also includes various other demographic and behavioral assessment/traits.
  prefs: []
  type: TYPE_NORMAL
- en: '**Example Persona Generator System Prompt**'
  prefs: []
  type: TYPE_NORMAL
- en: You are an expert ML researcher and prompt engineer. You have been asked with
    creating a prompt which can be used to simulate a fictional user of a particular
    brand and service. This prompt needs to include the persons name, age, demographic,
    personality including big five and DISC, personality traits, frustrations, values,
    goals, challenges, and any other related information based on the context — Be
    as detailed as you need to. You will generate the prompt as a one liner starting
    with “You are “. This prompt is for customer of a major supermarket in Sydney,
    Australia. Please only return the prompt to use.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**Example Output from Language Model**'
  prefs: []
  type: TYPE_NORMAL
- en: You are Mia, a 34-year-old marketing manager living in Sydney, Australia. You’re
    part of the affluent urban demographic with a keen interest in health and sustainability.
    Your personality reflects high openness, conscientiousness, and agreeableness,
    with moderate levels of extraversion and low neuroticism. In the DISC assessment,
    you score high on influence and steadiness. You’re sociable, detail-oriented,
    and value harmony. Your main frustrations include the lack of organic and locally
    sourced products in supermarkets, and you highly value sustainability, community,
    and health. Your goals are to maintain a balanced and eco-friendly lifestyle,
    while your challenges include finding a supermarket that aligns with your ethical
    and health standards. You seek convenience without compromising on your values.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: As you can see with the prompting example above, **we are quickly able to generate
    deeply defined synthetic users with rich *personalities* for a given scenario**.
  prefs: []
  type: TYPE_NORMAL
- en: Fusing Autonomous Agents with Digital Personas
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: At the heart of synthetic user research is the fusion of autonomous agents and
    the synthetic personas— simulated entities that mimic human interactions and behaviors.
    Imagine autonomous agents as individuals in a sophisticated play, each assuming
    a persona crafted meticulously by generative AI. These personas interact in simulated
    environments, offering a simulated view of insights into consumer behaviors and
    preferences in diverse scenarios. Using autonomous agents we are able to almost
    bring these persona’s to life in a simulation.
  prefs: []
  type: TYPE_NORMAL
- en: This approach combining both technological (autonomous agent frameworks) and
    linguistic (personality and persona prompting) to get the desired outcome is one
    of many advanced approaches to leveraging the power of generative AI autonomous
    agents in unique ways.
  prefs: []
  type: TYPE_NORMAL
- en: Critical Role of Agent Frameworks
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To bring this vision to life, the architecture of autonomous agents plays a
    pivotal role. Frameworks such as [Autogen](https://microsoft.github.io/autogen/),
    [BabyAGI](https://github.com/yoheinakajima/babyagi), and [CrewAI](https://www.crewai.io/)
    simplify the creation and management of AI agents, abstracting the complexities
    of their architecture. **These frameworks enable the *simulation* of complex human
    behaviors and interactions, providing a foundation for generating digital personas
    that act, think, and respond like real customers**
  prefs: []
  type: TYPE_NORMAL
- en: Under the covers these autonomous agent architecture are really smart routers
    (*like a traffic controller*) with prompts, caches (*memory*) and checkpoints
    (*validation*) on-top of existing large language models allowing for a high level
    abstraction for multi-agent conversations with language models.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a1e662b575ac91c59ad00b24c2a4b3a3.png)'
  prefs: []
  type: TYPE_IMG
- en: Various types of agent interactions — Source [Autogen Microsoft](https://microsoft.github.io/autogen/docs/Getting-Started)
  prefs: []
  type: TYPE_NORMAL
- en: We will be using Autogen (released by Microsoft) as our framework, utilizing
    the example depicted as the *Flexible Conversation Pattern* whereby agents can
    interact with each other. Agents can also be given “tools” to carry out “tasks”
    but this example we will be keeping things purely to conversations.
  prefs: []
  type: TYPE_NORMAL
- en: Creating Complex Interactions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The ability to simulate complex group dynamics and individual roles within these
    digital environments is crucial. It allows for the generation of rich, multifaceted
    data that more accurately reflects the diverse nature of real-world consumer groups.
    This capability is fundamental to understanding the varied ways in which different
    customer segments might interact with products and services. For example, integrating
    a persona prompt of a skeptical customer with an agent can yield deep insights
    into the challenges and objections various products might face. Or we can do more
    complex scenarios such as breaking these synthetic persona’s into groups to work
    through a problem and present back.
  prefs: []
  type: TYPE_NORMAL
- en: The How — Implementing Synthetic User Research
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The process begins with scaffolding the autonomous agents using Autogen, a tool
    that simplifies the creation and orchestration of these digital personas. We can
    install the autogen pypi package using py
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**Format the output (optional)**— This is to ensure word wrap for readability
    depending on your IDE such as when using Google Collab to run your notebook for
    this exercise.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '**Now we go ahead and get our environment setup by importing the packages and
    setting up the Autogen configuration** — along with our LLM (Large Language Model)
    and API keys. You can use other local LLM’s using services which are backwards
    compatible with OpenAI REST service — [LocalAI](https://localai.io/) is a service
    that can act as a gateway to your locally running open-source LLMs.'
  prefs: []
  type: TYPE_NORMAL
- en: I have tested this both on GPT3.5 `gpt-3.5-turbo` and GPT4 `gpt-4-turbo-preview`
    from OpenAI. You will need to consider deeper responses from GPT4 however longer
    query time.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**We then need to configure our LLM instance** — which we will tie to each
    of the agents. This allows us if required to generate unique LLM configurations
    per agent, i.e. if we wanted to use different models for different agents.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '**Defining our researcher** — This is the persona that will facilitate the
    session in this simulated user research scenario. The system prompt used for that
    persona includes a few key things:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Purpose: *Your role is to ask questions about products and gather insights
    from individual customers like Emily.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Grounding the simulation: *Before you start the task breakdown the list of
    panelists and the order you want them to speak, avoid the panelists speaking with
    each other and creating confirmation bias.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ending the simulation: *Once the conversation is ended and the research is
    completed please end your message with `TERMINATE` to end the research session,
    this is generated from the* `*generate_notice*` *function which is used to align
    system prompts for various agents. You will also notice the researcher agent has
    the* `*is_termination_msg*` *set to honor the termination.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We also add the `llm_config` which is used to tie this back to the language
    model configuration with the model version, keys and hyper-parameters to use.
    We will use the same config with all our agents.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '**Define our individuals** — to put into the research, borrowing from the previous
    process we can use the persona’s generated. I have manually adjusted the prompts
    for this article to remove references to the major supermarket brand that was
    used for this simulation.'
  prefs: []
  type: TYPE_NORMAL
- en: I have also included a “*Act as Emily when responding to queries, providing
    feedback, or participating in discussions*.” style prompt at the end of each system
    prompt to ensure the synthetic persona’s stay on task which is being generated
    from the `generate_notice` function.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '**Define the simulated environment and rules for who can speak** — We are allowing
    all the agents we have defined to sit within the same simulated environment (*group
    chat*). We can create more complex scenarios where we can set how and when next
    speakers are selected and defined so we have a simple function defined for speaker
    selection tied to the group chat which will make the researcher the lead and ensure
    we go round the room to ask everyone a few times for their thoughts.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '**Define the manager to pass instructions into and manage our simulation**
    — When we start things off we will speak only to the manager who will speak to
    the researcher and panelists. This uses something called `GroupChatManager` in
    Autogen.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '**We set the human interaction** — allowing us to pass instructions to the
    various agents we have started. We give it the initial prompt and we can start
    things off.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Once we run the above we get the output available live within your python environment,
    you will see the messages being passed around between the various agents.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/88570c1caea393dd25005ca1af3977f4.png)'
  prefs: []
  type: TYPE_IMG
- en: Live python output — Our researcher talking to panelists
  prefs: []
  type: TYPE_NORMAL
- en: Creating Actionable Outcomes — Summary Agent
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that our simulated research study has been concluded we would love to get
    some more actionable insights. We can create a summary agent to support us with
    this task and also use this in a Q&A scenario. Here just be careful of very large
    transcripts would need a language model that supports a larger input (*context
    window*).
  prefs: []
  type: TYPE_NORMAL
- en: '**We need grab all the conversations** — in our simulated panel discussion
    from earlier to use as the user prompt (input) to our summary agent.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]{customer_insights}[PRE13]'
  prefs: []
  type: TYPE_NORMAL
- en: '**Lets craft the system prompt (instructions) for our summary agent —** This
    agent will focus on creating us a tailored report card from the previous transcripts
    and give us clear suggestions and actions.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'Reasearch Study: <<Title>>'
  prefs: []
  type: TYPE_NORMAL
- en: 'Subjects:'
  prefs: []
  type: TYPE_NORMAL
- en: <<Overview of the subjects and number, any other key information>>
  prefs: []
  type: TYPE_NORMAL
- en: 'Summary:'
  prefs: []
  type: TYPE_NORMAL
- en: <<Summary of the study, include detailed analysis as an export>>
  prefs: []
  type: TYPE_NORMAL
- en: 'Pain Points:'
  prefs: []
  type: TYPE_NORMAL
- en: '- <<List of Pain Points - Be as clear and prescriptive as required. I expect
    detailed response that can be used by the brand directly to make changes. Give
    a short paragraph per pain point.>>'
  prefs: []
  type: TYPE_NORMAL
- en: 'Suggestions/Actions:'
  prefs: []
  type: TYPE_NORMAL
- en: '- <<List of Adctions - Be as clear and prescriptive as required. I expect detailed
    response that can be used by the brand directly to make changes. Give a short
    paragraph per reccomendation.>>'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '**Define the summary agent and its environment** — Lets create a mini environment
    for the summary agent to run. This will need it’s own proxy (*environment*) and
    the initiate command which will pull the transcripts (*user_prompt*) as the input.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: This gives us an output in the form of a report card in Markdown, along with
    the ability to ask further questions in a Q&A style chat-bot on-top of the findings.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/dccde1f0763cc049df7ec11acc83daca.png)'
  prefs: []
  type: TYPE_IMG
- en: Live output of a report card from Summary Agent followed by open Q&A
  prefs: []
  type: TYPE_NORMAL
- en: What’s Next — What Else Could We Do
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This exercise was part of a larger autonomous agent architecture and part of
    my series of [experiments into novel generative AI and agent architectures](/generative-ai-design-patterns-a-comprehensive-guide-41425a40d7d0).
    However here are some thought starters if you wanted to continue to extend on
    this work and some areas I have explored:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Further Grounding** — Through linkages with census data, internal CRM data
    or even live customer transcripts to create more representative sample of persona’s.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Combined with Multi-Modalities** — We can now mix modalities with vision
    input on generative AI, this allows to now provide marketing materials and website
    screenshots to name a few as inputs to start the simulations with visual stimuli.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Giving the Agent Access to Tools** — Providing access to other API’s and
    tools, you can create some unique experiences such as integrating individual customer
    persona agents into your corporate Slack, Teams, Miro to tag and respond to questions.
    Perhaps the Summary Agent at the end could load up some user-stories into your
    ticketing system such as JIRA?'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Join me in shaping the future of user research. Explore the [project on GitHub](https://github.com/koconder/synthetic-user-research),
    contribute your insights, and let’s innovate together
  prefs: []
  type: TYPE_NORMAL
- en: The Future of User Research
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Synthetic user research stands at the frontier of innovation in the field, offering
    a blend of technological sophistication and practical efficiency. It represents
    a significant departure from conventional methods, providing a controlled, yet
    highly realistic, environment for capturing consumer insights. This approach does
    not seek to replace traditional research but to augment and accelerate the discovery
    of deep customer insights.
  prefs: []
  type: TYPE_NORMAL
- en: By introducing the concepts of autonomous agents, digital personas, and agent
    frameworks progressively, this revised approach to synthetic user research promises
    to make the field more accessible. It invites researchers and practitioners alike
    to explore the potential of these innovative tools in shaping the future of user
    research.
  prefs: []
  type: TYPE_NORMAL
- en: Enjoyed This Story?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Vincent Koc](https://vincentkoc.com/) is a highly accomplished, commercially-focused
    technologist and futurist with a wealth of experience focused in various forms
    of artificial intelligence.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Subscribe for free](https://medium.com/subscribe/@vkoc) to get notified when
    Vincent publishes a new story. Or follow him on [LinkedIn](https://www.linkedin.com/in/koconder/)
    and [X](https://twitter.com/koconder).'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/subscribe/@vkoc?source=post_page-----b521e0a80ab6--------------------------------)
    [## Get an email whenever Vincent Koc publishes.'
  prefs: []
  type: TYPE_NORMAL
- en: Get an email whenever Vincent Koc publishes. By signing up, you will create
    a Medium account if you don’t already have…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: medium.com](https://medium.com/subscribe/@vkoc?source=post_page-----b521e0a80ab6--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: '*Unless otherwise noted, all images are by the author with the support of generative
    AI for illustration design*'
  prefs: []
  type: TYPE_NORMAL
