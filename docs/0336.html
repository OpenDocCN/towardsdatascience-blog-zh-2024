<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Data Visualisation 101: Playbook for Attention-Grabbing Visuals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Data Visualisation 101: Playbook for Attention-Grabbing Visuals</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-visualisation-101-playbook-for-attention-grabbing-visuals-c5b9faa7a950?source=collection_archive---------1-----------------------#2024-02-05">https://towardsdatascience.com/data-visualisation-101-playbook-for-attention-grabbing-visuals-c5b9faa7a950?source=collection_archive---------1-----------------------#2024-02-05</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="9954" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Practical Techniques for Captivating Visual Communication with Plotly</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://miptgirl.medium.com/?source=post_page---byline--c5b9faa7a950--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Mariya Mansurova" class="l ep by dd de cx" src="../Images/b1dd377b0a1887db900cc5108bca8ea8.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*7fFHr8XBAuR_SgJknIyODA.png"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--c5b9faa7a950--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://miptgirl.medium.com/?source=post_page---byline--c5b9faa7a950--------------------------------" rel="noopener follow">Mariya Mansurova</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--c5b9faa7a950--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">15 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Feb 5, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">12</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq mr"><img src="../Images/4ae5b13ef99ae95541ef3b8986bc995b.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*JZNAv55DOK4L47LTl5KfTg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Image by DALL-E 3</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="40f2" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In <a class="af of" href="https://medium.com/towards-data-science/visualisation-101-choosing-the-best-visualisation-type-3a10838b150d" rel="noopener">the previous article</a>, we discussed choosing the most suitable visualisation type for your task. We’ve identified seven different use cases (<em class="og">Time Series, Nominal Comparison, Deviation, Ranking, Part-to-whole, Frequency Distribution and Correlation</em>) and what chart types will be the best options for them. No surprise, in most cases, you can use basic chart types such as line charts, bar charts or scatter plots.</p><p id="f91a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Selecting the optimal visualisation type is an essential foundation. However, it’s not all you need to keep in mind when working on data visualisation.</p><p id="26c0" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s return back to basics. The primary goal of visualisation is to convey your message to the audience. That’s why we need to think about how the audience perceives our charts. In practice, the audience’s perception and understanding depend on many small details.</p><p id="2d33" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In this article, I would like to share these essential aspects of data visualisation. We will go through three steps to get clearer, sharper and smarter visuals:</p><ul class=""><li id="6ab7" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe oh oi oj bk">reducing noise to avoid audience confusion and distraction,</li><li id="ddcc" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">adding highlights to focus their attention,</li><li id="2a2f" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">adding the context to provide all necessary information for clear understanding.</li></ul><p id="a311" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I will use Plotly since it’s my primary tool for data visualisation.</p><blockquote class="op oq or"><p id="01bf" class="nj nk og nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Unless stated explicitly, all chart examples below are based on synthetic datasets.</p></blockquote><h1 id="d881" class="os ot fq bf ou ov ow gq ox oy oz gt pa pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Step 1: Reducing noise</h1><p id="f70c" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">It might be tempting to include all the information you have in your visualisation, for example, to add labels for every point on the graph. At these moments, we are usually driven by good intentions — to give the audience comprehensive view.</p><p id="fed5" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, the human brain works differently. Each element you add to the visualisation increases cognitive load. People have a limited capacity of mental power to perceive information, so it’s essential not to waste it by adding unneeded elements. By adding too many details, you risk losing your audience completely because your charts might be perceived as more complicated than they actually are. This perceived complexity may frighten your audience since they might not want to spend time and effort understanding it.</p><p id="3009" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We can refer to the data visualisation iconic books to think about it. Edward Tufte is a pioneer in the field of data visualisation. In his book “<em class="og">The Visual Display of Quantitative Information”</em>, he introduces the concept of data-ink ratio (<a class="af of" href="https://infovis-wiki.net/wiki/Data-Ink_Ratio" rel="noopener ugc nofollow" target="_blank">source</a>).</p><blockquote class="op oq or"><p id="cf43" class="nj nk og nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">A large share of ink on a graphic should present data-information, the ink changing as the data change. Data-ink is the non-erasable core of a graphic, the non-redundant ink arranged in response to variation in the numbers represented.</p></blockquote><p id="d215" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We aim to maximise the share of meaningful elements (or ink) in our charts. For that, we can remove clutter (or noise) from our charts to decrease perceived cognitive load. Clutter is graphical elements that take place but don’t give any additional understanding.</p><p id="b684" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Unfortunately, default settings in our tools sometimes don’t help us to make clear visualisations. So, first of all, I advise you to change the default template in Plotly — it will help you declutter your charts.</p><p id="e1c4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The default template is <code class="cx pt pu pv pw b">plotly</code>. It looks similar to the seaborn style (you can check in <a class="af of" href="https://seaborn.pydata.org/examples/index.html" rel="noopener ugc nofollow" target="_blank">the gallery</a>) and includes background colours and grid lines. In my opinion, it adds too much noise to charts. I prefer a much more lightweight template called <code class="cx pt pu pv pw b">simple_white</code>.</p><p id="bda9" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can compare these two styles on the graph. Feel the difference.</p></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq px"><img src="../Images/db250fe14ca41942a0e3a93a3bae3d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*WqyJ0MSyOxN0Z5E8u8o2gA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graphs by author</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="3937" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Use the code below to change the template for all your Plotly visualisations. You can check what other built-in templates are available and even learn how to create your own custom template in <a class="af of" href="https://plotly.com/python/templates/" rel="noopener ugc nofollow" target="_blank">the documentation</a>.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="a6da" class="qb ot fq pw b bg qc qd l qe qf">import plotly.io as pio<br/>pio.templates.default = 'simple_white'</span></pre><p id="54ba" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">After changing the template to <code class="cx pt pu pv pw b">simple_white</code>, all your graphs will be automatically lighter. However, it’s only the beginning of our journey to data visualisations without clutter. Since each graphical element adds cognitive load, it’s worth considering whether they are needed. Each element on your chart should be your conscious decision rather than the default behaviour of your tool.</p><p id="12cb" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In many cases, graphical elements don’t add any value to understanding, so we can (and should) get rid of them. Let’s look at a couple of such examples.</p><p id="f99b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you create a bar chart with only one trace, Plotly will still show you the legend. However, we can eliminate it without losing any information and provide context about the metric in the y-axis title.</p></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qg"><img src="../Images/bf7414614473f77aa4ea5ab319f40688.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*4WuCcLLbMfXMLz_6YMKfqw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graphs by author</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="51e4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s hide the legend on our graph.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="e9c2" class="qb ot fq pw b bg qc qd l qe qf"># create chart<br/>fig = px.bar(df, text_auto = ',.6r', width = 600)<br/><br/># hide legend<br/>fig.update_layout(showlegend = False)</span></pre><p id="e74c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">It was surprising for me, but there are cases when you can get rid of not only the legend but also one of the axes. Look at the two charts below: we’ve labelled each bar for clarity, making it effortless for the audience to interpret and compare the values based on bar lengths. So, there’s no need to keep the x-axis. Ideally, we should add some context about the used metric to the chart title — we will discuss how to do it later.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qh"><img src="../Images/0903525e57897a112250507007b3e5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-iZzkmXs0DpA68vVJKnSQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="0670" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">To hide one of the axes, we need to change its visibility.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="ff32" class="qb ot fq pw b bg qc qd l qe qf">fig.update_xaxes(visible = False)<br/># you can similarly hide y-axes using fig.update_yaxes(visible = False)</span></pre><p id="d497" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We’ve learned how to tweak Plotly’s defaults and make your charts cleaner and clearer. However, it’s not the only thing to watch out for — quite often, we add noise and clutter ourselves. Let me show you examples of noisy graphs I’ve seen many times.</p><p id="d350" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Analysts like numbers (at least I do). So, we often want to show our audience all these numbers, for example, how many customers we had in the previous months. It often ends up with a chart like the one below.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qi"><img src="../Images/a975bfef09a5decebdb6fbd2ead51db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHgvHM_hAF23JUoNKvGOAA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="d3d1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">With all this clutter of numbers, you miss entirely the trends and insights in data. What I would do to fix it:</p><ul class=""><li id="c921" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe oh oi oj bk">It goes without saying I would remove the labels. If your audience needs to know precise numbers, keep only the essential ones (for example, only the last month or two).</li><li id="c2c8" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">It’s a good practice to round up the values you’re showing, for example, <code class="cx pt pu pv pw b">184.1K</code> instead of <code class="cx pt pu pv pw b">184051</code>. In most cases, there’s not much difference for your audience, whether there were 184 051 or 184 063 customers.</li><li id="235d" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">Also, if you want to focus your audience’s attention on the trends in your data, I would advise you to omit markers and keep only lines.</li></ul><p id="685b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other temptation is to make your visualisations more colourful. Please resist it unless colours play their role, either encoding some data or highlighting the most noteworthy aspects. We will talk about the wise usage of colours just in a second. Meanwhile, you can look at the example below and observe what catches your eye first and how much effort you need to understand the underlying data. When I look at the first graph, I feel a bit confused and keep thinking about what these colours mean and why each bar differs.</p></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qj"><img src="../Images/b7cb09f0e4be56fcff02cdd827783f6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*HwuwudltW1gzINxIGWKiPw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graphs by author</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="441c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Also, this graph shows us that having too many accents (bright colours in our case) doesn’t work — we are just distracted and don’t know what to focus on.</p><p id="edc4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We’ve learned how to remove noise from our charts. After this step, we have neutral visualisations. They are like a canvas. Now, the next step is to place accents strategically.</p><h1 id="0638" class="os ot fq bf ou ov ow gq ox oy oz gt pa pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Step 2: Adding accents</h1><p id="e1f2" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">Using accents wisely enables you to direct your audience’s attention and emphasise the main message. People usually pay attention first to brighter and darker colours. However, it’s important to remember that you can’t highlight everything. Instead, you should concentrate your audience’s focus on one or two key aspects of the data.</p><p id="ce56" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can also build a hierarchy of accents, emphasising the main message the most and pushing not-so-important (but still necessary) parts to the background. It allows you to avoid distraction but still keep all the needed context. We will see examples of such approaches below.</p><p id="2b75" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you want to understand what elements of your data visualisation draw attention, try to do the following simple test: close your eyes, open them, and observe what initially catches your eye. Another option is to show your visualisation to someone else and ask them to comment on their thought process.</p><h2 id="841c" class="qk ot fq bf ou ql qm qn ox qo qp qq pa ns qr qs qt nw qu qv qw oa qx qy qz ra bk">Colours</h2><p id="9cc2" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">In my opinion, colour is the most powerful tool to drive your audience’s attention. That’s why I want to discuss it in detail. Let’s start with an example. Look at the visualisation below. What do you look at first? What do you think the author wanted to tell you with this chart?</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rb"><img src="../Images/305d79fc34a9014c0ed0d12a1698d861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PrktyutOwY2d9NSaB0kOOA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author, data from <a class="af of" href="https://survey.stackoverflow.co/2023/#technology-most-popular-technologies" rel="noopener ugc nofollow" target="_blank">StackOverflow survey</a></figcaption></figure><p id="6f88" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You likely started to look at SQL and compare it with other languages. In <a class="af of" href="https://medium.com/towards-data-science/lmql-sql-for-language-models-d7486d88c541" rel="noopener">my previous article</a>, I used this chart to illustrate the following idea:</p><p id="d44c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="og">According to the annual </em><a class="af of" href="https://survey.stackoverflow.co/2023/#technology-most-popular-technologies" rel="noopener ugc nofollow" target="_blank"><em class="og">StackOverflow survey</em></a><em class="og">, SQL is still one of the most popular languages in the world. For professional developers, SQL is in the top-3 languages (after Javascript and HTML/CSS). More than a half of professionals use it. Surprisingly, SQL is even more popular than Python.</em></p><p id="4575" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I used the contrast between grey and bright blue to focus your attention on the SQL I was talking about. If I made this visualisation now, I would also make the title bolder to make it stand out since it’s a meaningful context.</p><p id="817a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s compare it with a fully grey-neutral version. Without any visual cues, you would spend much more time and effort looking at all the data.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rc"><img src="../Images/1ba5b117793fe9dec7ca384ce4adc42c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68zOknIWlY3nxMSUmmutKw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="0ccd" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I hope you can now see all the potential power of colour. Let’s learn how to use the colours in Plotly</p><p id="a157" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We will start with a bar chart like in the example above. I highlighted segments where the conversion is below the threshold with a brighter colour. For this, I defined the list of colours depending on the conversion value and passed it to Plotly as colour for lines and markers. I’ve also specified that I want labels outside the bars and made colours more pale with opacity.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="a190" class="qb ot fq pw b bg qc qd l qe qf"># defining colors based on conversion value<br/>colors = list(map(<br/>    lambda x: 'silver' if x &gt;= 40 else 'purple',<br/>    conv_df.conversion.values<br/>))<br/><br/># creating default plot<br/>fig = px.bar(conv_df, text_auto='.2f', labels = {'value': 'conversion, %'})<br/><br/># updating colors<br/>fig.update_traces(marker_color=colors, marker_line_color=colors, <br/>    textposition='outside', marker_line_width=1.5, opacity=0.9)<br/><br/># hiding legend <br/>fig.update_layout(showlegend = False)<br/><br/># updating range to add some space on the top<br/>fig.update_yaxes(range = [0, 70]) </span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rd"><img src="../Images/3f1a6ca99375229f2e4904bbbdeb21be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06PVM294e9t5WK84jTa_wA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="3e9c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s discuss a bit about how to define the colours. In the example above, I used predefined SVG colours <code class="cx pt pu pv pw b">"silver"</code> and <code class="cx pt pu pv pw b">"purple"</code>. You can find the complete list of predefined colours <a class="af of" href="https://www.w3.org/TR/css-color-3/#svg-color" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="3797" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you want more customisation, you can pass colours as HEX codes. For example, you can use your brand colours to add your company vibe to the presentations.</p><p id="1b04" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The easiest way to get HEX codes is to screenshot your interface, upload it to a colour picker (<em class="og">I usually search for “online colour picker from image”</em>) and look up all the needed codes. For example, one of the brand colours for Wise (the company I’m working at) is bright green with a hex code <code class="cx pt pu pv pw b">#9FE870</code>.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq re"><img src="../Images/4dfa5c62f9feac2ff4b4c228b1d1e6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fwmdciGgdzy2_1U00VSfQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Image by author</figcaption></figure><p id="fa0f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Since I often use brand colours in my charts, I have them saved in a config file locally so I can easily access them by name.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="f7e0" class="qb ot fq pw b bg qc qd l qe qf">colours = {<br/>  "light_green": "#9FE870",<br/>  "dark_green": "#163300",<br/>  "light_blue": "#7CECF1",<br/>  "dark_blue": "#000146",<br/>  "light_orange": "#FFC828"<br/>}</span></pre><p id="9f84" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Now, I hope you won’t be stuck trying to understand how to tell Plotly what colour you want. So, let’s move on to another example with linear graphs and learn other ways to specify colours.</p><p id="14f4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you want to manually define each segment’s colour precisely, you can use <code class="cx pt pu pv pw b">color_discrete_map</code>. I often use this approach when I need consistent colour-coding across multiple graphs. If you depict Android in blue and iOS in orange on one chart in your presentation but then reverse the colours on another graph, your audience might become confused. So, it’s worth paying attention to such details.</p><p id="273f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In the graph below, I used purple to highlight the growing iOS audience and shade of greys for the other platforms since I don’t want you to pay attention to them.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="1b19" class="qb ot fq pw b bg qc qd l qe qf">colormap = {'Android': 'silver', 'Windows': 'gray', 'iOS': 'purple'}<br/>px.line(ts_df, color_discrete_map = colormap)</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rf"><img src="../Images/2c24b7aa9b0531e89a83db9d1de3a20f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v2a_OtY4_9L7sTB2uFapKQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Image by author</figcaption></figure><p id="342f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If I want to show cohorts and don’t care about a specific colour for each cohort, I can just specify the sequence of colours in the <code class="cx pt pu pv pw b">color_discrete_sequence</code> parameter.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="d49a" class="qb ot fq pw b bg qc qd l qe qf">px.area(df, color_discrete_sequence = px.colors.qualitative.Prism)</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq mr"><img src="../Images/c1d26c43beb3833a8ed0736389d6345b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJULgRfEueAghcWpY2qmdw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="94a9" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I used a predefined Plotly palette for colours, but you can also specify custom colours as a list of strings. Here are the palettes available in Plotly:</p><ul class=""><li id="f13d" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe oh oi oj bk"><a class="af of" href="https://plotly.com/python/discrete-color/" rel="noopener ugc nofollow" target="_blank">Discrete colour palettes</a> include mostly diverging colours, which are handy when you need to distinguish different segments from each other.</li><li id="c7de" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">In <a class="af of" href="https://plotly.com/python/colorscales/" rel="noopener ugc nofollow" target="_blank">Continuous colour scales</a>, you can find a lot of sequential colour palettes which are ideal for ordinal categories (for example, customer maturity equal to <code class="cx pt pu pv pw b">"&lt; 1 month"</code>, <code class="cx pt pu pv pw b">"1–3 months"</code>, <code class="cx pt pu pv pw b">"4–6 months"</code>, <code class="cx pt pu pv pw b">"6–12 months"</code> and <code class="cx pt pu pv pw b">"&gt; 12 months"</code>).</li></ul><p id="96ee" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The continuous scales can also be used when you need to encode values using colour, such as heat maps.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="4bc9" class="qb ot fq pw b bg qc qd l qe qf">px.imshow(<br/>    gmv_df.values, <br/>    x = gmv_df.columns,<br/>    y = gmv_df.index,<br/>    color_continuous_scale='pubugn'<br/>    text_auto=',.6r', aspect="auto",<br/>    labels=dict(x="age group", y="region", color="GMV in GBP")<br/>)</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rg"><img src="../Images/5e0d667a42afc375966bec54d945395e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Er_AWJ4p7mQKI4DT-0VDEg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="4754" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">When you use colours, you need to keep in mind that there are colourblind people. The most common difficulty is to distinguish shades of red and green. So, try to avoid these combinations or use some other visual cues simultaneously (like text or icons). It will help you not to lose part of your audience.</p><p id="753e" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Shades of green and red are often used to denote the positive and negative aspects of something (for example, to show higher and lower conversion on a heat map). You can use blue and orange shades instead.</p><h2 id="c413" class="qk ot fq bf ou ql qm qn ox qo qp qq pa ns qr qs qt nw qu qv qw oa qx qy qz ra bk">Size</h2><p id="4daf" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">The other way to highlight something is size. We perceive something bigger as a more significant one. For example, to make an accent on one of the lines, we can increase its width.</p><p id="136c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In Plotly, we need to use Graphical Objects to tweak line widths.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="e1e2" class="qb ot fq pw b bg qc qd l qe qf">import plotly.graph_objects as go<br/><br/>fig = go.Figure()<br/><br/>fig.add_trace(<br/>    go.Scatter(<br/>        mode='lines', x=ts_df.index,<br/>        y=ts_df.Android, showlegend=True,<br/>        name = 'Android', line = {'width': 1}<br/>    )<br/>)<br/>fig.add_trace(<br/>    go.Scatter(<br/>        mode='lines', x=ts_df.index,<br/>        y=ts_df.Windows, showlegend=True,<br/>        name = 'Windows', line = {'width': 1}<br/>    )<br/>)<br/>fig.add_trace(<br/>    go.Scatter(<br/>        mode='lines', x=ts_df.index,<br/>        y=ts_df.iOS, showlegend=True,<br/>        name = 'iOS', line = {'width': 3} <br/>    )<br/>)<br/><br/>fig.show()</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rh"><img src="../Images/b2e6ca69afd6d5939d4565c5689d0502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9EUrnip5DPQkuxTDQ_row.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="84a6" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Now, the iOS line stands out compared to other platforms. We can also focus the audience’s attention using bold or italic fonts. Let’s add the title to our graph and highlight the central part of it. For that, we can use HTML tag <code class="cx pt pu pv pw b">&lt;b&gt;</code>.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="8924" class="qb ot fq pw b bg qc qd l qe qf">fig.update_layout(<br/>    title = '&lt;b&gt;Monthly sessions:&lt;/b&gt; sky-rocketing trend for iOS'<br/>)</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq ri"><img src="../Images/61d28febb1463f93b507e10dfc31ae16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VpgMeS77Iyshe8clAjt8Mw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><h1 id="a566" class="os ot fq bf ou ov ow gq ox oy oz gt pa pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Step 3: Storytelling</h1><p id="d47e" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">We’ve learned how to put accents and are ready to move on to the last part — storytelling. We’ve already discussed that the context is vital for understanding the message. So, in this part, we will discuss how to add it to your charts.</p><p id="0775" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">To add more context, the most straightforward thing you can leverage is to specify a title and labels. It will prevent your audience’s questions about what exactly they see. You can use a <code class="cx pt pu pv pw b">title</code> parameter for a chart title (similarly to the one we did before) and <code class="cx pt pu pv pw b">labels</code> to override default labels for axes and legend titles.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="5b6e" class="qb ot fq pw b bg qc qd l qe qf">px.line(ts_df, width = 600, <br/>    labels = {'value': 'sessions', 'os': 'platform', 'month_date': 'month'},<br/>    title = 'Monthly sessions over time')</span></pre></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rj"><img src="../Images/69e1dd20770f5a008a1443db786bf9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*rjPvGiLLEzvMQMVl45mzbg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graphs by author</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="394f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">It’s a good practice to make titles detailed so that the titles might become quite long. Plotly is a powerful visual tool but has room for improvement. For example, it can’t handle long chart titles — the tail of the title won’t be visible.</p><p id="32b8" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, Plotly is agile enough, and we can fix it ourselves. We will use <code class="cx pt pu pv pw b">&lt;br&gt;</code> HTML tag to add line breaks between words if the line length exceeds the threshold (70 characters). Let’s do it.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="cfc5" class="qb ot fq pw b bg qc qd l qe qf">def format_string_by_lines(s, line_limit = 70):    <br/>    lines = []<br/>    curr_line_words = []<br/>    curr_line_length = 0<br/>    <br/>    <br/>    for word in s.split(' '):<br/>        if curr_line_length + len(word) &gt; line_limit:<br/>            lines.append(' '.join(curr_line_words))<br/>            curr_line_words = []<br/>            curr_line_length = 0<br/>    <br/>        curr_line_words.append(word)<br/>        curr_line_length += len(word)<br/>    <br/>    lines.append(' '.join(curr_line_words))<br/>    return ' &lt;br&gt; '.join(lines)<br/><br/>chart_title = '&lt;b&gt;Monthly sessions over time:&lt;/b&gt; we can see sky-rocketing trend on iOS while Android and Windows are pretty stagnant.'<br/>px.line(ts_df, width = 600, <br/>    labels = {'value': 'sessions', 'os': 'platform', 'month_date': 'month'},<br/>    title = format_string_by_lines(chart_title))</span></pre></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rk"><img src="../Images/83fdd9503d6f35386ab131c6d19e7933.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*vnETdYSTccpzj5-0NL5rWQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graphs by author</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="9b80" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Also, we might want to show some of the metrics’ values. We’ve already discussed that labelling all data points generates too much clutter, but showing the last values sounds reasonable.</p><p id="d2df" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I will demonstrate two ways to do it in Plotly: using the <code class="cx pt pu pv pw b">text</code> field and annotations functionality. I usually prefer using <code class="cx pt pu pv pw b">text</code>, but it’s quite subjective.</p><p id="09da" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s start with the <code class="cx pt pu pv pw b">text</code> option. First, let’s look at the raw data set.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rl"><img src="../Images/5e72c146a3b55f5f40be2d41f469415f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YnAKfyQxZDqkY7KlZ9q0g.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Image by author</figcaption></figure><p id="a691" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Now, let’s add the <code class="cx pt pu pv pw b">text_val</code> field to the dataset that is equal to the value for the last month and is empty for others. I’ve also specified formatting to show numbers as thousands to remove unneeded details.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="80e4" class="qb ot fq pw b bg qc qd l qe qf">raw_ts_df['text_val'] = list(map(<br/>    lambda v, d: '' if d != raw_ts_df.month_date.max() else '%.1fK' % (v/1000),<br/>    raw_ts_df.value,<br/>    raw_ts_df.month_date<br/>))</span></pre><p id="d054" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">We are ready to create our visualisation. I passed the newly-created <code class="cx pt pu pv pw b">text_val</code> column as the <code class="cx pt pu pv pw b">text</code> parameter for the visualisation, updated the <code class="cx pt pu pv pw b">mode</code> to be <code class="cx pt pu pv pw b">"lines+text"</code> and specified the <code class="cx pt pu pv pw b">middle right</code> text position. I also moved the legend so it doesn’t interfere with our annotations.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="81af" class="qb ot fq pw b bg qc qd l qe qf">fig = px.line(raw_ts_df, x = 'month_date', y = 'value', <br/>    color = 'platform', text = 'text_val',<br/>    width = 1000, height = 500, <br/>    labels = {'value': 'sessions', 'os': 'platform', 'month_date': 'month'},<br/>    title = '&lt;b&gt;Monthly sessions&lt;/b&gt;')<br/><br/>fig.update_traces(textposition="middle right", mode='lines+text')<br/>fig.update_layout(legend=dict(orientation="h", yanchor="bottom", <br/>    y=0.05, xanchor="right", x=1))</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rm"><img src="../Images/7d0d737fd0304900de5e77c756331e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*waLvr36FTjswCnLEPx-h-A.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="2dd0" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other way to label the values is to use the annotations functionality. Firstly, let’s calculate the last values for each platform and format the text.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="7a03" class="qb ot fq pw b bg qc qd l qe qf">annotations = raw_ts_df.groupby('platform', as_index = False)\<br/>    .aggregate({'value': 'last', 'month_date': 'last'})\<br/>    .rename(columns = {'value': 'y', 'month_date': 'x'})<br/><br/>annotations['text'] = annotations.y.map(lambda v: '%.1fK' % (v/1000))<br/>annotations = annotations.drop('platform', axis = 1)</span></pre><p id="bea1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Let’s add more parameters we will use for annotations’ formatting and convert the data frame into the list that we can pass to Plotly.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="5da6" class="qb ot fq pw b bg qc qd l qe qf">annotations['showarrow'] = False<br/>annotations['xanchor'] = 'left' <br/>annotations['yanchor'] = 'middle'<br/>annotations_list = annotations.to_dict('records')</span></pre><p id="ec7b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Now, we can similarly make a visualisation passing annotations and get the same result. So, it’s up to you what to use.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="d73b" class="qb ot fq pw b bg qc qd l qe qf">fig = px.line(raw_ts_df, x = 'month_date', y = 'value', <br/>    color = 'platform', <br/>    width = 1000, height = 500, <br/>    labels = {'value': 'sessions', 'os': 'platform', 'month_date': 'month'},<br/>    title = '&lt;b&gt;Monthly sessions&lt;/b&gt;')<br/><br/>fig.update_layout(annotations = annotations_list,<br/>    legend=dict(orientation="h", yanchor="bottom", <br/>    y=0.05, xanchor="right", x=1))</span></pre><p id="1027" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Vertical or horizontal lines can also add the needed context for your audience. For example, you can highlight important dates like a marketing campaign launch or show SLA for your metric. Let’s add a vertical line to our chart.</p><p id="236c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can do it easily by using <code class="cx pt pu pv pw b">fig.add_vline</code>. Unfortunately, there’s a bug in Plotly, and it can’t work with dates. However, we can use a <a class="af of" href="https://github.com/plotly/plotly.py/issues/3065" rel="noopener ugc nofollow" target="_blank">workaround</a>: it looks weird, but works.</p><pre class="ms mt mu mv mw py pw pz bp qa bb bk"><span id="6e89" class="qb ot fq pw b bg qc qd l qe qf">fig.add_vline(<br/>    x=datetime.datetime.strptime("2023-09-01", "%Y-%m-%d").timestamp() * 1000, line_width=3, line_dash="dash", <br/>    line_color='black', annotation_text="Marketing   &lt;br&gt; campaign  ", <br/>    annotation_position="top left"<br/>)</span></pre><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rn"><img src="../Images/15c75f6f31fcea2673afd0ba00d66fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MkkdYeG5LzyA1RyKpPpKAw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Graph by author</figcaption></figure><p id="9a4e" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can add horizontal lines or even rectangles if you want to highlight the whole area on the chart. You can find more details in <a class="af of" href="https://plotly.com/python/horizontal-vertical-shapes/" rel="noopener ugc nofollow" target="_blank">the documentation</a>.</p><h1 id="c500" class="os ot fq bf ou ov ow gq ox oy oz gt pa pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Summary</h1><p id="ec13" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">In this article, we’ve walked through the essential aspects of data visualisations:</p><ul class=""><li id="0c91" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe oh oi oj bk">Removing unneeded noise to avoid distraction,</li><li id="7450" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">Using accents to focus your audience’s attention using colours and sizes,</li><li id="b8b8" class="nj nk fq nl b go ok nn no gr ol nq nr ns om nu nv nw on ny nz oa oo oc od oe oh oi oj bk">Adding context to help your audience understand your message.</li></ul><blockquote class="op oq or"><p id="3729" class="nj nk og nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Thank you a lot for reading this article. If you have any follow-up questions or comments, please leave them in the comments section.</p></blockquote><h1 id="6973" class="os ot fq bf ou ov ow gq ox oy oz gt pa pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Reference</h1><p id="091e" class="pw-post-body-paragraph nj nk fq nl b go po nn no gr pp nq nr ns pq nu nv nw pr ny nz oa ps oc od oe fj bk">This article is highly influenced by the excellent book about data visualisations, <em class="og">“Storytelling with Data: A Data Visualization Guide for Business Professionals”</em> by Cole Nussbaumer Knaflic.</p></div></div></div></div>    
</body>
</html>