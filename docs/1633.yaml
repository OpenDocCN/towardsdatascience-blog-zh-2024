- en: 'RFM Segmentation: Unleashing Customer Insights'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/rfm-segmentation-unleashing-customer-insights-da58deae4eb9?source=collection_archive---------3-----------------------#2024-07-02](https://towardsdatascience.com/rfm-segmentation-unleashing-customer-insights-da58deae4eb9?source=collection_archive---------3-----------------------#2024-07-02)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Transforming customer data into actionable insights with RFM segmentation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://vitorihaldijiran.medium.com/?source=post_page---byline--da58deae4eb9--------------------------------)[![Vito
    Rihaldijiran](../Images/bc704b6dbbe4c36c5d35d1b83810094f.png)](https://vitorihaldijiran.medium.com/?source=post_page---byline--da58deae4eb9--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--da58deae4eb9--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--da58deae4eb9--------------------------------)
    [Vito Rihaldijiran](https://vitorihaldijiran.medium.com/?source=post_page---byline--da58deae4eb9--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--da58deae4eb9--------------------------------)
    ·8 min read·Jul 2, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/15afc30be2bebf92fe9cf36a084f28ba.png)'
  prefs: []
  type: TYPE_IMG
- en: Cover photo by Author generated in DALL-E
  prefs: []
  type: TYPE_NORMAL
- en: 'Part 1: RFM Segmentation'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The methods vary when we talk about customer segmentation. Well, it depends
    on what we aim to achieve, but the primary purpose of customer segmentation is
    to **put customers in different kinds of groups according to their similarities.**
    This method, in practical applications, will help businesses specify their market
    segments with tailored marketing strategies based on the information from the
    segmentation.
  prefs: []
  type: TYPE_NORMAL
- en: 'RFM segmentation is one example of customer segmentation. **RFM stands for
    recency, frequency,** and **monetary.** This technique is prevalent in commercial
    businesses due to its straightforward yet powerful approach. According to its
    abbreviation, we can define each metric in RFM as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Recency (R)**: When was the last time customers made a purchase? Customers
    who have recently bought something are more inclined to make another purchase,
    unlike customers who haven’t made a purchase in a while.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Frequency (F)**: How often do customers make purchases? Customers who buy
    frequently are seen as more loyal and valuable.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Monetary (M)**: How much money a customer spends? We value customers who
    spend more money as they are valuable to our business.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The workflow of RFM segmentation is relatively straightforward. First, we collect
    data about customer transactions in a selected period. Please ensure we already
    know when the customer is transacting, how many quantities of particular products
    the customer buys in each transaction, and how much money the customer spends.
    After that, we will do the scoring. There are so many thresholds available for
    us to consider, but how about we opt for a scale ranging from 1 to 5 to evaluate
    each —where 1 represents the lowest score while 5 stands for the highest score.
    In the final step, we combine the three scores to create customer segments. For
    example, the customer who has the highest RFM score (5 in recency, frequency,
    and monetary) is seen as loyal, while the customer with the lowest RFM score (1
    in recency, frequency, and monetary) is seen as a churning user.
  prefs: []
  type: TYPE_NORMAL
- en: In the following parts of the article, we will create an RFM segmentation utilizing
    a popular unsupervised learning technique known as **K-Means.**
  prefs: []
  type: TYPE_NORMAL
- en: 'Part 2: Practical Example'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We don’t need to collect the data in this practical example because we already
    have the dataset. We will use the **Online Retail II dataset** from [the UCI Machine
    Learning Repository.](https://archive.ics.uci.edu/) The dataset is licensed under
    **CC BY 4.0** and eligible for commercial use. You can access the dataset for
    free through this [link](https://archive.ics.uci.edu/dataset/502/online+retail+ii).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/25afc79f6e81ba117aa9142225177f24.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 1: Online retail II dataset by Author'
  prefs: []
  type: TYPE_NORMAL
- en: The dataset has all the information regarding customer transactions in online
    retail businesses, such as **InvoiceDate**, **Quantity**, and **Price**. There
    are two files in the dataset, but we will use the **“Year 2010–2011”** version
    in this example. Now, let’s do the code.
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 1: Data Preparation**'
  prefs: []
  type: TYPE_NORMAL
- en: 'The first step is we do the data preparation. We do this as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The data preparation process is essential because the segmentation will refer
    to the data we process in this step. After we load the libraries and load the
    data, we perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Remove missing customer IDs:** Ensuring each transaction has a valid Customer
    ID is crucial for accurate customer segmentation.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Remove negative or zero quantities and prices:** Negative or zero values
    for Quantity or Price are not meaningful for RFM analysis, as they could represent
    returns or errors.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Calculate monetary value:** We calculate it by multiplying Quantity and Price.
    Later we will group the metrics, one of them in monetary by customer id.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Define reference date:** This is very important to determine the Recency
    value. After examining the dataset, we know the date “2011–12–09” is the most
    recent date in it, so set it as the reference date. The reference date calculates
    how many days have passed since each customer’s last transaction.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The data will be look like this after this step:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/05577585c9c68f3d5f89e2b2a616b618.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 2: The dataset after data preparation by Author'
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 2: Calculate & Scale RFM Metrics**'
  prefs: []
  type: TYPE_NORMAL
- en: 'In this step, we’ll calculate each metric and scale those before the clustering
    part. We do this as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'We divide this step into three parts:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Calculate RFM metrics:** We make a new dataset called **RFM**. We start by
    grouping by CustomerID so that each customer’s subsequent calculations are performed
    individually. Then, we calculate each metric. We calculate **Recency** by subtracting
    the reference date by the most recent transaction date for each customer, **Frequency**
    by counting the number of unique Invoice for each customer, and **Monetary** by
    summing the TotalPrice for all transactions for each customer.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Assign scores 1 to 5:** The scoring helps categorize the customers from highest
    to lowest RFM, with 5 being the highest and 1 being the lowest.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scale the scores:** We then scale the score for each metric. This scaling
    ensures that each RFM score contributes equally to the clustering process, avoiding
    the dominance of any one metric due to different ranges or units.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'After we complete this step, the result in the RFM dataset will look like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/7a69ed57746eeb70dbdad8b5546cabb7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3: RFM scoring by Author'
  prefs: []
  type: TYPE_NORMAL
- en: 'And the scaled dataset will look like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9eb174803b47fbce81e8e455d1e24b93.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4: Scaled RFM dataset by Author'
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 3: K-Means Clustering**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now we come to the final step, K-Means Clustering. We do this by:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: The first part of this step is determining **the optimal number of clusters
    using the elbow method**. The method is **wss** or “within-cluster sum of squares”,
    which measures the compactness of the clusters. This method works by choosing
    the number of clusters at the point where the wss starts to diminish rapidly,
    and forming an “elbow.” The elbow diminishes at **4.**
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f31a0e0cfcebc074f7dbdab20075cfdd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5: Elbow method implementation by Author'
  prefs: []
  type: TYPE_NORMAL
- en: 'The next part is we do the clustering. We specify 4 as the number of clusters
    and 25 as random sets of initial cluster centers and then choose the best one
    based on the lowest within-cluster sum of squares. Then, add it to the cluster
    to the **RFM** dataset. The visualization of the cluster can be seen below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1ed1e05f0ca2691483b0eefdf0814928.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 6: Cluster visualization by Author'
  prefs: []
  type: TYPE_NORMAL
- en: Note that the sizes of the clusters in the plot are not directly related to
    the count of customers in each cluster. The visualization shows the spread of
    the data points in each cluster based on the scaled RFM scores (R_Score, F_Score,
    M_Score) rather than the number of customers.
  prefs: []
  type: TYPE_NORMAL
- en: 'Part 3: Summary'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'With running this code, the summary of RFM segmentation can be seen as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/48f1d420337ac4cceb410ad2e32f9428.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 7: Summary of RFM segmentation by Author'
  prefs: []
  type: TYPE_NORMAL
- en: 'From the summary, we can get generate insights from each cluster. The suggestions
    will vary greatly. However, what I can think of if I were a Data Scientist in
    an online retail business is the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Cluster 1:** They recently made a purchase — typically around a month ago
    — indicating recent engagement. This cluster of customers, however, tends to make
    purchases infrequently and spend relatively small amounts overall, averaging 1–2
    purchases. Implementing retention campaigns based on these findings can prove
    to be very effective. Given their recent engagement, it would be beneficial to
    consider strategies such as follow-up emails or loyalty programs with personalized
    deals to encourage repeat purchases. This presents an opportunity to suggest additional
    products that complement their previous purchases, ultimately boosting this group’s
    average order value and overall spending.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cluster 2:** The customers in this group recently purchased around two weeks
    ago and have shown frequent buying habits with significant spending. They are
    considered top customers, deserving VIP treatment: excellent customer service,
    special deals, and early access to new items. Utilizing their satisfaction, we
    could offer referral programs with bonuses and discounts for their family and
    friends, potentially growing our customer base and increasing overall sales.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cluster 3:** Customers in this segment have been inactive for over three
    months, even though their frequency and monetary value are moderate. To re-engage
    these customers, we should consider launching reactivation campaigns. Sending
    win-back emails with special discounts or showcasing new arrivals could entice
    them to return. Additionally, gathering feedback to uncover the reasons behind
    their lack of recent purchases and addressing any issues or concerns they may
    have can significantly improve their future experience and reignite their interest.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cluster 4:** Customers in this group have only purchased in up to seven months,
    indicating a significant period of dormancy. They display the lowest frequency
    and monetary value, making them highly susceptible to churning. In these situations,
    it is essential to implement strategies designed explicitly for dormant customers.
    Sending important offer-based reactivation emails or personalized incentives usually
    proves effective in returning these customers to your business. Moreover, conducting
    exit surveys can help identify the reasons behind their inactivity, enabling you
    to enhance your offerings and customer service to better meet their needs and
    reignite their interest.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Congrats! you already know how to conduct RFM Segmentation using K-Means, now
    it’s your turn to do the same way with your own dataset.
  prefs: []
  type: TYPE_NORMAL
