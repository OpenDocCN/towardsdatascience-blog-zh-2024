# æ„å»ºæ¶‰åŠ API çš„å¢é‡æ•°æ®åŠ è½½è„šæœ¬æ—¶éœ€è¦è§£å†³çš„ 3 ä¸ªå…³é”®é—®é¢˜

> åŸæ–‡ï¼š[https://towardsdatascience.com/3-essential-questions-to-address-when-building-an-api-involved-incremental-data-loading-script-03723cad3411?source=collection_archive---------3-----------------------#2024-06-30](https://towardsdatascience.com/3-essential-questions-to-address-when-building-an-api-involved-incremental-data-loading-script-03723cad3411?source=collection_archive---------3-----------------------#2024-06-30)

[](https://medium.com/@khoadaniel?source=post_page---byline--03723cad3411--------------------------------)[![Daniel Khoa Le](../Images/5c01c760dc1e92b3048cfae005838ef1.png)](https://medium.com/@khoadaniel?source=post_page---byline--03723cad3411--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--03723cad3411--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--03723cad3411--------------------------------) [Daniel Khoa Le](https://medium.com/@khoadaniel?source=post_page---byline--03723cad3411--------------------------------)

Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--03723cad3411--------------------------------) Â·é˜…è¯»æ—¶é•¿ 8 åˆ†é’ŸÂ·2024å¹´6æœˆ30æ—¥

--

# **ç®€çŸ­è¯´æ˜**

> æœ¬æ–‡è§£é‡Šäº†ä½¿ç”¨ dltï¼ˆä¸€ä¸ª Python åº“ï¼‰ä» API ç«¯ç‚¹åˆ°æ•°æ®åº“åŒæ­¥æ•°æ®çš„æ¦‚å¿µæ¡†æ¶å’Œå®é™…ä»£ç å®ç°ã€‚
> 
> åœ¨æœ¬æ•™ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†ç†è§£ï¼ˆå¹¶çŸ¥é“å¦‚ä½•å®ç°ï¼‰ä»¥ä¸‹ç¤ºæ„å›¾ä¸­çš„åŒæ­¥è¡Œä¸ºï¼Œåœ¨æ­¤ç¤ºæ„å›¾ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¢é‡æ–¹å¼æå–æ•°æ®ï¼Œå¹¶ä½¿ç”¨åˆå¹¶ï¼ˆå»é‡ï¼‰ç­–ç•¥å°†æ•°æ®å†™å…¥ç›®æ ‡è¡¨ã€‚

![](../Images/e80987236bba43864b69abbfaef3cadd.png)

ä½œè€…å›¾ç‰‡

# èƒŒæ™¯

1.  ä½ å¸Œæœ›å°†æ•°æ®ä»ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œå¹¿å‘Šæ•ˆæœã€é”€å”®æ•°æ®ç­‰ï¼‰åŒæ­¥åˆ°ä½ çš„æ•°æ®åº“ã€‚

1.  ä½ çš„åº”ç”¨ç¨‹åºæä¾› API ç«¯ç‚¹æ¥æ£€ç´¢å…¶æ•°æ®ã€‚

1.  æ•°æ®éœ€è¦æ¯å¤©åŒæ­¥åˆ°ä½ çš„æ•°æ®åº“ã€‚

1.  ä½ å¸Œæœ›ä»…å°† â—***â€œæ–°â€æ•°æ®ï¼ˆæˆ–æ›´æ”¹éƒ¨åˆ†ï¼‰***â— åŠ è½½åˆ°æ•°æ®åº“ä¸­ã€‚ä½ ä¸å¸Œæœ›æ¯æ¬¡åŒæ­¥æ—¶éƒ½é‡æ–°åŠ è½½æ•´ä¸ªæ•°æ®é›†ã€‚

ä½ å¦‚ä½•åœ¨ Python ä¸­å®ç°è¿™ä¸€ç‚¹ï¼Ÿ

> æˆ‘å°†é€šè¿‡å›ç­”ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼Œå¸¦ä½ äº†è§£è§£å†³æ–¹æ¡ˆã€‚

# ğŸ’¥ é—®é¢˜ 1ï¼šæˆ‘éœ€è¦ä» API è·å–å“ªäº›ä¿¡æ¯ä»¥è¿›è¡Œå¢é‡æ•°æ®åŒæ­¥ï¼Ÿ

åœ¨å¼€å‘å¢é‡åŠ è½½è„šæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„ API ç«¯ç‚¹çš„è¡Œä¸ºã€‚

â—å¹¶ä¸æ˜¯æ‰€æœ‰çš„ API éƒ½æ”¯æŒå¢é‡åŠ è½½ã€‚

## ğŸ‘‰ ç­”æ¡ˆï¼šæ”¯æŒå¢é‡åŠ è½½çš„æŸ¥è¯¢å‚æ•°

è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ï¼ˆæˆ–ç§°ä¸ºâ€œæºâ€åº”ç”¨ç¨‹åºï¼‰ï¼Œå®ƒè·Ÿè¸ªä½ çš„é”€å”®ä¸šç»©ã€‚åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæ¯æ¡è®°å½•ä»£è¡¨ä¸€ä¸ªäº§å“åŠå…¶é”€å”®é‡ã€‚å­—æ®µ `created_at` å’Œ `updated_at` è¡¨ç¤ºè®°å½•çš„åˆ›å»ºå’Œæ›´æ–°æ—¶é—´ã€‚

é”€å”®æ•°æ®çš„å˜åŒ–é€šå¸¸æœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼š

1.  æ–°äº§å“å·²è¢«æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚

1.  æ›´æ–°ä¼šåº”ç”¨åˆ°ç°æœ‰è®°å½•çš„é”€å”®æ•°æ®ï¼Œ**è¿™ä¼šå¯¼è‡´** `**updated_at**` çš„æ–°å€¼ã€‚è¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿½è¸ªæ–°çš„å˜åŒ–ï¼›å¦‚æœæ²¡æœ‰å®ƒï¼Œæˆ‘ä»¬å°±æ— æ³•çŸ¥é“å“ªäº›è®°å½•å·²è¢«ä¿®æ”¹ã€‚

ğŸ‘ï¸ğŸ‘ï¸ ä¸‹é¢æ˜¯æºåº”ç”¨æ•°æ®åº“ä¸­çš„ç¤ºä¾‹é”€å”®è¡¨ã€‚

â†ªï¸ **æ˜¨å¤©çš„æ•°æ®ï¼š2æ¡è®°å½•**

![](../Images/fcf8c37fb8ec51718382ef2cb9d09a8b.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

â†ªï¸ **ä»Šå¤©çš„æ•°æ®ï¼šæ–°å¢äº†ä¸€æ¡è®°å½•ï¼Œå¹¶ä¸”ä¿®æ”¹äº†ç°æœ‰è®°å½•**

![](../Images/a7b45d06827f32925d53d8bf2cf1043d.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

ğŸŸ¢ **è¦ç‚¹ï¼š** å¦‚æœAPIç«¯ç‚¹å…è®¸åŸºäº `updated_at` å‚æ•°è¿›è¡ŒæŸ¥è¯¢ï¼Œä½ å¯ä»¥é€šè¿‡å‘èµ·è¯·æ±‚æ¥åªæ£€ç´¢é‚£äº› `updated_at` å€¼æ™šäºä¸Šæ¬¡åŒæ­¥ä¿å­˜çš„ `updated_at` çš„è®°å½•ï¼Œä»è€Œå®ç°å¢é‡åŠ è½½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`updated_at` è¢«ç§°ä¸ºå¢é‡æ¸¸æ ‡ï¼Œå…¶å€¼ä¼šæŒç»­åˆ°ä¸‹æ¬¡åŒæ­¥ï¼Œè¿™ä¸ªå€¼ç§°ä¸ºçŠ¶æ€ã€‚

`updated_at` å­—æ®µæ˜¯å¢é‡æ¸¸æ ‡çš„å¸¸è§é€‰æ‹©ã€‚å…¶ä»–æŸ¥è¯¢å‚æ•°ï¼Œå¦‚ **id** æˆ– **sales**ï¼Œæ— æ³•å¸®åŠ©æˆ‘ä»¬å¢é‡è¯·æ±‚æ•°æ®ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•å‘Šè¯‰æˆ‘ä»¬è‡ªä¸Šæ¬¡åŒæ­¥ä»¥æ¥ï¼Œå“ªäº›è®°å½•å·²è¢«æ·»åŠ æˆ–æ›´æ–°ã€‚

**ä½ éœ€è¦å“ªä¸ªæŸ¥è¯¢å‚æ•°æ¥å¢é‡åŠ è½½æ•°æ®ï¼Ÿ**

![](../Images/7301b30bfbf0c3f33879ec2791bd4802.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

> ç”±äºæˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªä¸APIé…åˆä½¿ç”¨çš„æ•°æ®åŠ è½½è„šæœ¬ï¼Œæˆ‘å°†ä»‹ç»ä¸¤ä¸ªAPIçš„å…¶ä»–é‡è¦æ–¹é¢ï¼Œä»¥ä¾¿ä»£ç å®ç°ï¼š**åˆ†é¡µå’Œè·¯å¾„å‚æ•°**ã€‚ä¸è¿‡ï¼Œå®ƒä»¬ä¸å¢é‡åŠ è½½æ— å…³ã€‚

## ğŸ¤· åˆ†é¡µæœºåˆ¶

APIé€šå¸¸ä¼šåˆ†æ‰¹è¿”å›ç»“æœï¼Œä»¥æé«˜æ€§èƒ½ã€‚ä¾‹å¦‚ï¼ŒAPIå¯èƒ½ä¸ä¼šä¸€æ¬¡æ€§è¿”å›10,000æ¡è®°å½•ï¼Œè€Œæ˜¯å°†å“åº”é™åˆ¶ä¸ºæ¯æ¬¡æœ€å¤š100æ¡è®°å½•ï¼Œè¦æ±‚ä½ è¿­ä»£å¤„ç†åç»­æ‰¹æ¬¡ã€‚

ä¸ºäº†ç®¡ç†è¿™ä¸ªï¼Œä½ é€šå¸¸ï¼ˆä½†å¹¶éæ€»æ˜¯ï¼‰éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæŸ¥è¯¢å‚æ•°ï¼š`limit` å’Œ `skip`ï¼ˆæˆ– `offset`ï¼‰ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ï¼š

å¯¹äºç¬¬ä¸€ä¸ªè¯·æ±‚ï¼š

+   `limit`=100

+   `skip`=0

å¯¹äºç¬¬äºŒä¸ªè¯·æ±‚ï¼Œè¦è·³è¿‡æˆ‘ä»¬å·²ç»åŒæ­¥çš„å‰100æ¡è®°å½•ï¼š

+   `limit`=100

+   `skip`=100

è¿™ä¸€æ¨¡å¼å°†æŒç»­è¿›è¡Œï¼Œæ¯æ‰¹æ¬¡åï¼Œ`skip` å€¼ä¼šæŒ‰ `limit` å¢åŠ ï¼Œç›´åˆ°æ‰€æœ‰è®°å½•éƒ½è¢«æ£€ç´¢ã€‚

ğŸŸ¢ **è¦ç‚¹ï¼š** ä½ éœ€è¦ç†è§£APIå¦‚ä½•è¿”å›å“åº”ï¼Œä»¥å…åœ¨æå–æ•°æ®æ—¶æ¼æ‰ä»»ä½•è®°å½•ã€‚APIæœ‰å¾ˆå¤šç®¡ç†åˆ†é¡µçš„æ–¹æ³•ï¼Œè¶…å‡ºäº†å¸¸ç”¨çš„ `skip` å’Œ `offset` æ–¹æ³•ã€‚è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜ï¼Œç•™å¾…ä»¥åå†è¯´ã€‚

## ğŸ¤· è·¯å¾„å‚æ•°

è·¯å¾„å‚æ•°ç›´æ¥åŒ…å«åœ¨APIçš„URLä¸­ï¼Œé€šå¸¸ç”¨äºåŒºåˆ†æ•°æ®çš„ä¸åŒéƒ¨åˆ†ï¼ˆåˆ†åŒºï¼‰ã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬å¯èƒ½æŒ‡å®šä½ è¥é”€è´¦æˆ·ä¸­çš„ä¸åŒæ´»åŠ¨æˆ–æºåº”ç”¨ä¸­ç®¡ç†çš„ä¸åŒå­è´¦æˆ·ã€‚

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼šè·¯å¾„å‚æ•°æ˜¯ `applicationId` å’Œ `campaignId`ã€‚

`[https://yourbaseurl.myapp/v1/applications/{applicationId}/campaigns/{campaignId}/](https://yourbaseurl.talon.one/v1/applications/%7BapplicationId%7D/campaigns/%7BcampaignId%7D/coupons/no_total)sales`

ğŸŸ¢ **æ€»ç»“ï¼š**ä½ éœ€è¦å†³å®šæ˜¯å°†æ¥è‡ªåŒä¸€APIä½†å…·æœ‰ä¸åŒè·¯å¾„å‚æ•°çš„æ•°æ®åŒæ­¥åˆ°åŒä¸€å¼ è¡¨ï¼Œè¿˜æ˜¯åŒæ­¥åˆ°ä¸åŒçš„è¡¨ï¼ˆå¦‚ sales_campaign_1, sales_campaign_2 ç­‰ï¼‰ã€‚

# ğŸ’¥ é—®é¢˜ 2ï¼šæˆ‘å¦‚ä½•å°†æå–çš„è®°å½•å†™å…¥ç›®æ ‡è¡¨ï¼Ÿ

ç°åœ¨ï¼Œå‡è®¾ä½ å·²ç»é€šè¿‡ä¸Šè¿°å‚æ•°æå–äº†ä¸€æ‰¹è®°å½•ï¼Œæ˜¯æ—¶å€™å†³å®šå¦‚ä½•å°†è¿™äº›è®°å½•å†™å…¥ç›®æ ‡è¡¨äº†ã€‚

## ğŸ‘‰ ç­”æ¡ˆï¼šåˆå¹¶/å»é‡æ¨¡å¼ï¼ˆæ¨èï¼‰

è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ°**å†™å…¥æ–¹å¼ï¼ˆWrite dispositionï¼‰**æˆ–**åŒæ­¥æ¨¡å¼ï¼ˆSync modeï¼‰**çš„é€‰æ‹©ã€‚ç›´æ¥çš„ç­”æ¡ˆæ˜¯ï¼Œå¦‚æœä½ å¸Œæœ›å¢é‡åŠ è½½æ•°æ®ï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©ä»¥è¿½åŠ æ¨¡å¼æˆ–åˆå¹¶æ¨¡å¼ï¼ˆä¹Ÿå«å»é‡æ¨¡å¼ï¼‰å°†æå–çš„æ•°æ®å†™å…¥ã€‚

ç„¶è€Œï¼Œè®©æˆ‘ä»¬é€€åä¸€æ­¥ï¼Œæ›´ä»”ç»†åœ°å®¡è§†æˆ‘ä»¬çš„é€‰æ‹©ï¼Œå¹¶ç¡®å®šå“ªç§æ–¹æ³•æœ€é€‚åˆå¢é‡åŠ è½½ã€‚

ä»¥ä¸‹æ˜¯å¸¸è§çš„å†™å…¥æ–¹å¼ã€‚

+   ğŸŸª **è¦†ç›–/æ›¿æ¢ï¼ˆoverwrite/replaceï¼‰**ï¼šåˆ é™¤ç›®æ ‡è¡¨ä¸­æ‰€æœ‰ç°æœ‰è®°å½•ï¼Œç„¶åæ’å…¥æå–çš„è®°å½•ã€‚

+   ğŸŸª **è¿½åŠ ï¼ˆappendï¼‰**ï¼šç®€å•åœ°å°†æå–çš„è®°å½•è¿½åŠ åˆ°ç›®æ ‡è¡¨ä¸­ã€‚

+   ğŸŸª **åˆå¹¶ / å»é‡ï¼ˆmerge / dedupï¼‰**ï¼šæ’å…¥æ–°(*)è®°å½•å¹¶æ›´æ–°(**)ç°æœ‰è®°å½•ã€‚

(*) æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å“ªäº›è®°å½•æ˜¯æ–°çš„ï¼Ÿï¼šé€šå¸¸ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ä¸»é”®æ¥ç¡®å®šã€‚å¦‚æœä½¿ç”¨ dltï¼Œå®ƒçš„åˆå¹¶ç­–ç•¥å¯ä»¥æ¯”è¿™æ›´å¤æ‚ï¼ŒåŒ…æ‹¬åŒºåˆ†`merge_key`å’Œ`primary_key` *(ä¸€ä¸ªç”¨äºåˆå¹¶ï¼Œä¸€ä¸ªç”¨äºå»é‡åå†åˆå¹¶)*ï¼Œæˆ–è€…`dedup_sort` *(åœ¨å»é‡è¿‡ç¨‹ä¸­ï¼Œå“ªäº›è®°å½•ä¼šè¢«åˆ é™¤)*ã€‚è¿™ä¸€éƒ¨åˆ†æˆ‘å°†ç•™åˆ°å¦ä¸€ä¸ªæ•™ç¨‹è®²è§£ã€‚

(**) è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è§£é‡Šï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº dlt å¦‚ä½•å¤„ç†è¿™ç§åˆå¹¶ç­–ç•¥çš„ä¿¡æ¯ï¼Œå¯ä»¥[ç‚¹å‡»è¿™é‡Œ](https://dlthub.com/docs/general-usage/incremental-loading#merge-incremental-loading)é˜…è¯»æ›´å¤šã€‚

ğŸ‘ï¸ğŸ‘ï¸ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­å¸®åŠ©æˆ‘ä»¬ç†è§£ä¸åŒå†™å…¥æ–¹å¼çš„ç»“æœã€‚

â†ªï¸ **2024å¹´6æœˆ19æ—¥ï¼šæˆ‘ä»¬è¿›è¡Œäº†ç¬¬ä¸€æ¬¡åŒæ­¥ã€‚**

ğŸ…°ï¸ **æ•°æ®åœ¨** `**æºåº”ç”¨ç¨‹åº**`ï¸ï¸

![](../Images/74b8a8cbec32ac881ce296f257ab9913.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

ğŸ…±ï¸ **æ•°æ®å·²åŠ è½½åˆ°æˆ‘ä»¬çš„** `**ç›®æ ‡æ•°æ®åº“**`

æ— è®ºé€‰æ‹©å“ªç§åŒæ­¥ç­–ç•¥ï¼Œç›®æ ‡è¡¨ä¸­çš„æ•°æ®**ä¸¥æ ¼æ¥è¯´æ˜¯æºè¡¨çš„å‰¯æœ¬**ã€‚

![](../Images/74b8a8cbec32ac881ce296f257ab9913.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

å·²ä¿å­˜çš„ `updated_at` çŠ¶æ€ = 2024-06-03ï¼Œè¿™æ˜¯æˆ‘ä»¬åŒæ­¥çš„ä¸¤æ¡è®°å½•ä¸­æœ€æ–°çš„ `updated_at`ã€‚

â†ªï¸ **2024å¹´6æœˆ2æ—¥ï¼šæˆ‘ä»¬è¿›è¡Œäº†ç¬¬äºŒæ¬¡åŒæ­¥ã€‚**

**ğŸ…°ï¸ ï¸ï¸ï¸ï¸ï¸ï¸ï¸æ•°æ®åœ¨** `**æºåº”ç”¨ç¨‹åº**`

![](../Images/43dd22288ef2069f3129fa81154bed22.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

âœï¸ æºè¡¨ä¸­çš„æ›´æ”¹ï¼š

+   è®°å½• ID=1 å·²æ›´æ–°ï¼ˆé”€å”®æ•°æ®ï¼‰ã€‚

+   è®°å½• ID=2 å·²åˆ é™¤ã€‚

+   è®°å½• ID=3 å·²æ’å…¥ã€‚

åœ¨è¿™æ¬¡åŒæ­¥ä¸­ï¼Œæˆ‘ä»¬ä»…æå– `updated_at` > 2024â€“06â€“03ï¼ˆä¸Šæ¬¡åŒæ­¥æ—¶ä¿å­˜çš„çŠ¶æ€ï¼‰ä¹‹åçš„è®°å½•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªä¼šæå–è®°å½• id=1 å’Œ id=3ã€‚ç”±äºè®°å½• id=2 å·²ä»æºæ•°æ®ä¸­åˆ é™¤ï¼Œæˆ‘ä»¬æ— æ³•è¯†åˆ«æ­¤å˜åŠ¨ã€‚

åœ¨ç¬¬äºŒæ¬¡åŒæ­¥åï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ°ä¸åŒçš„å†™å…¥ç­–ç•¥ä¹‹é—´çš„å·®å¼‚ã€‚

ğŸ…±ï¸ **æ•°æ®å·²åŠ è½½åˆ°æˆ‘ä»¬çš„** `**ç›®æ ‡æ•°æ®åº“**`

â— **åœºæ™¯ 1ï¼šè¦†ç›–**

![](../Images/19496a1ddb57a9f1e1107c691ddf441d.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

ç›®æ ‡è¡¨å°†è¢«è¿™æ¬¡æå–çš„ä¸¤æ¡è®°å½•è¦†ç›–ã€‚

â— **åœºæ™¯ 2ï¼šè¿½åŠ **

![](../Images/c30e26065a3f3bf15be9590181267768.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

è¿™ä¸¤æ¡æå–çš„è®°å½•å°†è¢«è¿½åŠ åˆ°ç›®æ ‡è¡¨ä¸­ï¼Œç°æœ‰çš„è®°å½•ä¸ä¼šå—åˆ°å½±å“ã€‚

â— **åœºæ™¯ 3ï¼šåˆå¹¶æˆ–å»é‡**

![](../Images/380959de013398c27bd89d42b83d8da6.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

æå–çš„ä¸¤æ¡è®°å½•ï¼Œid=1 å’Œ id=3ï¼Œå°†æ›¿æ¢ç›®æ ‡ä¸­çš„ç°æœ‰è®°å½•ã€‚è¿™ä¸€å¤„ç†è¿‡ç¨‹è¢«ç§°ä¸ºåˆå¹¶æˆ–å»é‡ã€‚ç›®æ ‡è¡¨ä¸­çš„è®°å½• id=2 å°†ä¿æŒä¸å˜ã€‚

ğŸŸ¢ **æ€»ç»“ï¼š** åˆå¹¶ï¼ˆå»é‡ï¼‰ç­–ç•¥åœ¨å¢é‡æ•°æ®åŠ è½½ç®¡é“ä¸­å¯èƒ½éå¸¸æœ‰æ•ˆï¼Œä½†å¦‚æœä½ çš„è¡¨éå¸¸å¤§ï¼Œå»é‡è¿‡ç¨‹å¯èƒ½éœ€è¦ç›¸å½“é•¿çš„æ—¶é—´ã€‚

# ğŸ’¥ é—®é¢˜ 3ï¼šæˆ‘å¦‚ä½•åœ¨ä»£ç ä¸­å®ç°å®ƒï¼Ÿ

## ğŸ‘‰ ç­”æ¡ˆï¼šdlt â€”â€” å› ä¸ºå®ƒè½»é‡ã€æ–‡æ¡£é½å…¨ï¼Œå¹¶ä¸”æœ‰æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒã€‚

> [dlt](https://dlthub.com/) æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒæä¾›äº†é€‚å½“çš„æŠ½è±¡å±‚æ¬¡ã€‚äº‹å®ä¸Šï¼Œä½ å¯ä»¥é€‰æ‹©ä½ éœ€è¦çš„æŠ½è±¡ç¨‹åº¦ã€‚å¦‚ä½ åœ¨æˆ‘ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä¸»åŠ¨ç¼–å†™äº†è‡ªå·±çš„è¯·æ±‚å¾ªç¯ï¼Œä½† dlt æä¾›äº†å¯ä»¥ç”¨æ›´å°‘ä»£ç è¡Œå®Œæˆçš„è¾…åŠ©å‡½æ•°ã€‚è¿™ç§çµæ´»æ€§ä½¿å¾— dlt ç›¸è¾ƒäºå…¶ä»–è§£å†³æ–¹æ¡ˆè„±é¢–è€Œå‡ºã€‚

ä½ å¯ä»¥å‚è€ƒè¿™ä¸ªå›¾è¡¨æ¥è·å¾—é«˜å±‚æ¬¡çš„è§†å›¾ï¼Œç„¶åå†æ·±å…¥åˆ°å¸¦æœ‰è¯¦ç»†å¤‡æ³¨çš„ä»£ç ä¸­ã€‚

å°æç¤ºï¼šdlt åœ¨å…¶ç»“æ„ä¸­ä½¿ç”¨äº† **æº** å’Œ **èµ„æº** è¿™ä¸¤ä¸ªæœ¯è¯­ã€‚èµ„æºé€šå¸¸å¯¹åº”ä¸€ä¸ª API ç«¯ç‚¹ï¼Œå¹¶å°†æ•°æ®å†™å…¥ç›®æ ‡æ•°æ®åº“ä¸­çš„è¡¨ã€‚æºæ˜¯èµ„æºçš„é›†åˆã€‚

åœ¨ä¸‹é¢çš„æ’å›¾ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¨è®ºçš„ä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼š

+   é—®é¢˜ 1 çš„ç­”æ¡ˆï¼šä½¿ç”¨æ—¥æœŸæ¸¸æ ‡å‘ API ç«¯ç‚¹å‘é€è¯·æ±‚ï¼Œé€æ­¥è·å–æ•°æ®ï¼ˆå¹¶æŒä¹…åŒ–æ¸¸æ ‡å€¼ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€ï¼Œä»¥ä¾¿åç»­æ‰§è¡Œï¼‰ã€‚

+   é—®é¢˜ 2 çš„ç­”æ¡ˆï¼šä½¿ç”¨åˆå¹¶ç­–ç•¥å°†æ•°æ®å†™å…¥ç›®æ ‡è¡¨ã€‚

![](../Images/0d48e7a8399a7ac757f7be442cb17cd2.png)

> ç°åœ¨ï¼Œä½ å¯èƒ½æƒ³çŸ¥é“å¦‚ä½•è¿è¡Œè¿™ä¸ª Python è„šæœ¬ï¼Ÿæˆ‘å»ºè®®ä½ è®¿é—®[è¿™ä¸ªä»£ç åº“](https://github.com/khoadaniel/incremental-data-loading-guide)ï¼Œå¹¶äº²è‡ªå°è¯•ä¸€ä¸‹ã€‚è¿™ä¸ªä»£ç åº“è¿˜ä¸ºä½ æä¾›äº†ä¸€ä¸ªæ¨¡æ‹Ÿ APIï¼Œä½ å¯ä»¥åœ¨æœ¬åœ°éƒ¨ç½²è¿›è¡Œæµ‹è¯•ã€‚æŸ¥çœ‹ README è·å–è¯¦ç»†çš„æ‰§è¡ŒæŒ‡å—ã€‚

ğŸ’¥ è¿™é‡Œæ˜¯æˆ‘é™„å¸¦å¤‡æ³¨çš„ dlt å®ç°ç‰‡æ®µ ğŸ’¥

ğŸŸ£ï¸ **å®Œæ•´ä»£ç å¯ä»¥åœ¨ä»“åº“ä¸­æŸ¥çœ‹** [**ç‚¹å‡»è¿™é‡Œ**](https://github.com/khoadaniel/incremental-data-loading-guide)ğŸŸ£

âœ… æœ¬æ•™ç¨‹åˆ°æ­¤ç»“æŸã€‚å¸Œæœ›æ‚¨å·²ç»äº†è§£äº†æ„æˆå¢é‡åŠ è½½è„šæœ¬çš„ä¸åŒç»„ä»¶ï¼Œä»¥åŠä»£ç çš„å®ç°æ–¹æ³•ã€‚

å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£å¦‚ä½•ä½¿ç”¨dltæ„å»ºå¢é‡åŠ è½½è„šæœ¬ï¼Œè¯·æŸ¥çœ‹ä»–ä»¬çš„æ–‡æ¡£[ç‚¹å‡»è¿™é‡Œ](https://dlthub.com/docs/general-usage/incremental-loading)ã€‚

# å…³äºæˆ‘

æˆ‘æ˜¯Daniel Leï¼Œå±…ä½åœ¨æŸæ—ï¼Œç›®å‰ä»äº‹æ•°æ®å·¥ç¨‹å’Œæœºå™¨å­¦ä¹ é¢†åŸŸçš„å·¥ä½œã€‚

æˆ‘å¯¹æ–°æŠ€æœ¯å……æ»¡å…´è¶£ï¼Œå°¤å…¶æ˜¯å®ƒä»¬å¦‚ä½•åº”ç”¨äºè§£å†³ç°å®ä¸–ç•Œä¸­çš„é—®é¢˜ã€‚

å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–å¸Œæœ›è¿›ä¸€æ­¥è®¨è®ºè¿™äº›å…´è¶£ï¼Œæ¬¢è¿é€šè¿‡[LinkedIn](https://www.linkedin.com/in/khoadaniel/)ä¸æˆ‘è”ç³»ã€‚

# å‚è€ƒæ–‡çŒ®

+   [https://dlthub.com/docs/general-usage/incremental-loading](https://dlthub.com/docs/general-usage/incremental-loading)
