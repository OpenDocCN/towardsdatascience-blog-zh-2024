<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Difference-in-Difference 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Difference-in-Difference 101</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26">https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="gr gs gt gu gv ab"><div><div class="ab gw"><div><div class="bm" aria-hidden="false"><a href="https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------" rel="noopener follow"><div class="l gx gy by gz ha"><div class="l ed"><img alt="Henam Singla" class="l ep by dd de cx" src="../Images/e39960e543a0b87538c17360021eaf5d.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*0F7WytP0CpF0xz1X8FTH1w.jpeg"/><div class="hb by l dd de em n hc eo"/></div></div></a></div></div><div class="hd ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------" rel="noopener follow"><div class="l he hf by gz hg"><div class="l ed"><img alt="Towards Data Science" class="l ep by br hh cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hb by l br hh em n hc eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hi ab q"><div class="ab q hj"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hk hl bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hm" data-testid="authorName" href="https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------" rel="noopener follow">Henam Singla</a></p></div></div></div><span class="hn ho" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hk hl dx"><button class="hp hq ah ai aj ak al am an ao ap aq ar hr hs ht" disabled="">Follow</button></p></div></div></span></div></div><div class="l hu"><span class="bf b bg z dx"><div class="ab cn hv hw hx"><div class="hy hz ab"><div class="bf b bg z dx ab ia"><span class="ib l hu">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hm ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------" rel="noopener follow"><p class="bf b bg z ic id ie if ig ih ii ij bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hn ho" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="ik il l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">May 26, 2024</span></div></span></div></span></div></div></div><div class="ab cp im in io ip iq ir is it iu iv iw ix iy iz ja jb"><div class="h k w ea eb q"><div class="jr l"><div class="ab q js jt"><div class="pw-multi-vote-icon ed ib ju jv jw"><div class=""><div class="jx jy jz ka kb kc kd am ke kf kg jw"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kh ki kj kk kl km kn"><p class="bf b dy z dx"><span class="jy">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao jx ko kp ab q ee kq kr" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="ks"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jc jd je jf jg jh ji jj jk jl jm jn jo jp jq"><div class="kt k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al ku an ao ap hr kv kw kx" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ky cn"><div class="l ae"><div class="ab cb"><div class="kz la lb lc ld le ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al ku an ao ap hr lf lg kr lh li lj lk ll s lm ln lo lp lq lr ls u lt lu lv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al ku an ao ap hr lf lg kr lh li lj lk ll s lm ln lo lp lq lr ls u lt lu lv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al ku an ao ap hr lf lg kr lh li lj lk ll s lm ln lo lp lq lr ls u lt lu lv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="0ea3" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">What is Difference-in-difference (DiD or DD or diff-in-diff)? Why do we care about DiD? Today I will answer all the questions about one of the most popular methods in econometrics to study a policy effect.</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div role="button" tabindex="0" class="nd ne ed nf bh ng"><div class="mu mv mw"><img src="../Images/a2bfa9ecb30079884aa851b2560d5a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HoKkSH8a0ae-MZO6B5Nu8g.png"/></div></div><figcaption class="ni nj nk mu mv nl nm bf b bg z dx">Image created by the author using DALL.E. The image attempts to show the introduction of technology such as tablets in the classroom and its effect on grades.</figcaption></figure><p id="2dd7" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">DiD is a widely used econometric technique that estimates causal relationships by comparing the changes in outcomes over time between a treatment group and a control group. The question is what are treatment and control? Treatment is a policy intervention that affects a specific group due to a policy or change. Control is a group that receives no intervention. Causal relationships mean cause and effect relations.</p><p id="3c0c" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">We care about this method because it is useful in evaluating the effects of policy changes or interventions when randomized experiments are not feasible. This means that sometimes, experiments are targeted to a particular group, implying the people who received the treatment are not random. DiD will help to isolate the impact of intervention even without randomization.</p><p id="4919" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">This article will delve into the concepts, assumptions, implementation, and examples.</p></div></div></div><div class="ab cb nn no np nq" role="separator"><span class="nr by bm ns nt nu"/><span class="nr by bm ns nt nu"/><span class="nr by bm ns nt"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="c29e" class="nv nw fq bf nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or os bk">What is DiD</h1><p id="91f9" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk"><strong class="ly fr">Our research question is: what is the effect of treatment D on outcome y</strong>? DiD allows us to estimate what would have happened to the treatment group if the intervention had not occurred. This counterfactual scenario is essential for understanding the true effect of the treatment. Every job or work revolves around answering similar questions like the effect of interventions, policy changes, or treatments across various fields. In economics, it assesses the impact of tax cuts on economic growth, while in public policy, it evaluates the effects of new traffic laws on accident rates. In marketing, DiD analyzes the influence of advertising campaigns on sales.</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv oy"><img src="../Images/0a352afe10ba8dee06ab0f60b86c4809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*LJztoW68FEKZCWxmtD53YQ.png"/></div><figcaption class="ni nj nk mu mv nl nm bf b bg z dx">Diagram created by the author</figcaption></figure><p id="ca8d" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">For example, in the diagram above, we have population data in our sample. We will divide the data into treatment and control where the treatment received the intervention. We can observe post and pre-variables for both groups.</p><h1 id="de36" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">How to do DiD</h1><h2 id="6d46" class="pe nw fq bf nx pf pg ph ob pi pj pk of mh pl pm pn ml po pp pq mp pr ps pt pu bk">Simple Treatment/Control Difference Estimator</h2><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv pv"><img src="../Images/9a06cdfe8fb3f2a41859e96552be7188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*jojGzovKIzRhJ9HHimWSSA.png"/></div></figure><p id="d4ef" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">This equation will calculate the treatment effect by comparing the changes in the outcome over time between the treatment and control groups.</p><p id="eb3c" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">I have created a fake example to help understand the math.</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv pw"><img src="../Images/180f93dc69215e94b8089111dd7bc455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*OFdw_vyUGj3j4xBQnH5RgQ.png"/></div></figure><p id="93d4" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">The <strong class="ly fr">DiD coefficient</strong> would be <strong class="ly fr">9</strong> using the formula mentioned above.</p><h2 id="43d8" class="pe nw fq bf nx pf pg ph ob pi pj pk of mh pl pm pn ml po pp pq mp pr ps pt pu bk">DiD Estimator: Calculation using a regression</h2><p id="54e6" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">DiD helps to control for time-invariant characteristics that might bias the estimation of treatment effects. This means that it removes the influence of variables that are constant over time (eg., geographical location, gender, ethnicity, innate ability, etc.). It can do so because these characteristics affect both pre-treatment and post-treatment periods equally for each group.</p><p id="be2e" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">The core equation for a basic DiD model is:</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv px"><img src="../Images/33676a94c0fc61c54dc1270634c0a816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*Dx4Pp8aSZzATT48LYV8PUg.png"/></div></figure><p id="bea1" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">where:</p><ul class=""><li id="3cd0" class="lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt py pz qa bk">y​ is the outcome variable for individual 𝑖 in group <em class="qb">j</em> at time 𝑡.</li><li id="b6d2" class="lw lx fq ly b lz qc mb mc md qd mf mg mh qe mj mk ml qf mn mo mp qg mr ms mt py pz qa bk">𝐴𝑓𝑡𝑒𝑟​ is a dummy variable equal to 1 if the observation is in the post-treatment period.</li><li id="1dd7" class="lw lx fq ly b lz qc mb mc md qd mf mg mh qe mj mk ml qf mn mo mp qg mr ms mt py pz qa bk">𝑇𝑟𝑒𝑎𝑡𝑚𝑒𝑛𝑡 is a dummy variable equal to 1 if the observation belongs to the treatment group.</li><li id="a475" class="lw lx fq ly b lz qc mb mc md qd mf mg mh qe mj mk ml qf mn mo mp qg mr ms mt py pz qa bk">𝐴𝑓𝑡𝑒𝑟 × 𝑇𝑟𝑒𝑎𝑡𝑚𝑒𝑛𝑡​ is the interaction term, with the coefficient <em class="qb">β</em> capturing the DiD estimate.</li></ul><p id="e8ab" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">The coefficient for the interaction term is the DiD estimator in y. The regression is more popular among researchers because it helps to give standard errors and control for additional variables.</p><h1 id="504d" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">Parallel Trend Assumption</h1><p id="9f8d" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">This is one of the key assumptions in DiD. It is based on the idea that, in the absence of treatment, the difference between the treatment and control groups would remain constant over time. In other words, in the absence of treatment, <em class="qb">β (DiD estimate) </em>= 0.</p><p id="5666" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">Formally, this means:</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv qh"><img src="../Images/890253883eeee777463d33c0b6c379c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*7MB2mNGv2YwlcwGLHKXC5g.png"/></div></figure><p id="7e86" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">Another way to think about this is that the difference between the two groups would have remained the same over time without the policy change. If the trends are not parallel before the treatment, the DiD estimates may be biased.</p><h2 id="5ae5" class="pe nw fq bf nx pf pg ph ob pi pj pk of mh pl pm pn ml po pp pq mp pr ps pt pu bk">How to check this assumption</h2><p id="87f9" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">Now the next question is: how to check for it? The validity of the parallel trend assumption can be assessed through graphical analysis and placebo tests.</p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv qi"><img src="../Images/7c6b1efafe433ff22f1664bd2942ad5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*jhSyYF0HKYtcdP5jbT8QvQ.png"/></div><figcaption class="ni nj nk mu mv nl nm bf b bg z dx">Created by the author</figcaption></figure><p id="4c47" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">The assumption is that, in the absence of treatment, the treatment group (orange line) and the control group (blue dashed line) would follow parallel paths over time. The intervention (vertical line) marks the point at which the treatment is applied, allowing the comparison of the differences in trends between the two groups before and after the intervention to estimate the treatment effect.</p><h2 id="ef4f" class="pe nw fq bf nx pf pg ph ob pi pj pk of mh pl pm pn ml po pp pq mp pr ps pt pu bk">Examples which violate Parallel Trends Assumption</h2><p id="3c4a" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">In simple words, we look for two things in the treatment which are the following:</p><ol class=""><li id="2962" class="lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt qj pz qa bk"><strong class="ly fr">Change in the slope</strong></li></ol><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv qk"><img src="../Images/b11213a72937fa975fb1fabd7131ec38.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*1uyYhpD4dG1j40qtzeVU-Q.png"/></div><figcaption class="ni nj nk mu mv nl nm bf b bg z dx">Graph: Part (a)</figcaption></figure><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv ql"><img src="../Images/dc78e725d3ef78d0239dfe880df22c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*rnPwzmzTXgjFNl1s021Nng.png"/></div><figcaption class="ni nj nk mu mv nl nm bf b bg z dx">Graph: Part (b)</figcaption></figure><p id="e91d" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">In both of the above cases, the Parallel trend assumption is not satisfied. Treatment group outcome is either growing faster (part a) or slower (part b) than control group outcome. The mathematical way of saying this is:</p><p id="ce02" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">DiD = true effect + differential trend (Differential trend should be 0)</p><p id="7451" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">Differential trend could be positive (part a) or negative ( part b)</p><p id="dfbd" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">DiD won’t be able to isolate the impact of the intervention (true effect) since we have a differential trend in it as well.</p><p id="e7cb" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">2. <strong class="ly fr">Jump in the treatment line (either up or down) after the intervention</strong></p><figure class="mx my mz na nb nc mu mv paragraph-image"><div class="mu mv ql"><img src="../Images/adc96128119efad080bfcc9b3839c9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*imrsj_6KtBSFyPeU8m_2Bw.png"/></div></figure><p id="da8b" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">In the above image, the treatment group’s trend changed differently from the control group’s trend, which should have remained consistent without the intervention. A jump is not allowed in the study of DiD.</p><h1 id="82d8" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">Placebo Tests</h1><p id="91d1" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">Placebo tests are used to verify whether observed treatment effects are truly due to the treatment and not due to other confounding factors. They involve applying the same analysis to a period or group where no treatment effect is expected. If a significant effect is found in these placebo tests, it suggests that the original results may be spurious.</p><p id="5c79" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">For example, an intervention study of giving tablets to high schools was done in 2019. We can do a placebo test meaning that we can create a fake year of intervention say 2017 where we know no policy change occurred. If applying the treatment effect analysis to the placebo date (2017) shows no significant change, it will suggest that the observed effect in 2019 (if any) is likely due to the actual policy intervention.</p><h1 id="2af9" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">Extensions and Variations of DiD</h1><ol class=""><li id="7ffc" class="lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt qj pz qa bk"><strong class="ly fr">Event Study DiD</strong>: Estimates year-specific treatment effects, which is useful for assessing the timing of treatment effects and checking for pre-trends. The model allows the treatment effect to vary by year. We can study the effect at time <em class="qb">t+</em>1, <em class="qb">t</em>+2, …, <em class="qb">t</em>+<em class="qb">n</em></li><li id="fea0" class="lw lx fq ly b lz qc mb mc md qd mf mg mh qe mj mk ml qf mn mo mp qg mr ms mt qj pz qa bk"><strong class="ly fr">Synthetic Control Method</strong> (SCM): SCM constructs a synthetic control group by weighting multiple untreated units to create a composite that approximates the characteristics of the treated unit before the intervention. This method is particularly useful when <em class="qb">a single treated unit is compared to a pool of untreated units</em>. It provides a more credible counterfactual by combining information from several units.</li></ol><p id="caeb" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">There are many more, but I will limit it to only two. I might write a post later explaining in detail all the rest.</p><h1 id="dcb6" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">Conclusion</h1><p id="059b" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">In this post, I have analyzed the Difference-in-Differences (DiD) estimator, a popular method for estimating average treatment effects. DiD is widely used to study policy effects by comparing changes over time between treatment and control groups. The key advantage of DiD is its ability to control for unobserved confounders that remain constant over time, thereby isolating the true impact of an intervention.</p><p id="0be7" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">We also explored key concepts like the parallel trends assumption, the importance of pre-treatment data, and how to check for assumption violations using graphical analysis and placebo tests. Additionally, I discussed extensions and variations of DiD, such as the Event Study DiD and the Synthetic Control Method, which offer further insights and robustness in different scenarios.</p><h1 id="56ac" class="nv nw fq bf nx ny oz oa ob oc pa oe of og pb oi oj ok pc om on oo pd oq or os bk">References and Further Reads</h1><p id="123a" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk">[1] Wing, C., Simon, K., &amp; Bello-Gomez, R. A. (2018). Designing difference in difference studies: best practices for public health policy research. <em class="qb">Annual review of public health</em>, <em class="qb">39</em>, 453–469.</p><p id="1710" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">[2] Callaway, B., &amp; Sant’Anna, P. H. (2021). Difference-in-differences with multiple time periods. <em class="qb">Journal of Econometrics</em>, <em class="qb">225</em>(2), 200–230.</p><p id="e23e" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk">[3] Donald, S. G., &amp; Lang, K. (2007). Inference with difference-in-differences and other panel data. <em class="qb">The review of Economics and Statistics</em>, <em class="qb">89</em>(2), 221–233.</p><h2 id="dab5" class="pe nw fq bf nx pf pg ph ob pi pj pk of mh pl pm pn ml po pp pq mp pr ps pt pu bk">Thank you for reading!</h2><p id="da28" class="pw-post-body-paragraph lw lx fq ly b lz ot mb mc md ou mf mg mh ov mj mk ml ow mn mo mp ox mr ms mt fj bk"><em class="qb">Thank you for reading! 🤗 If you enjoyed this post and want to see more, consider </em><a class="af qm" href="https://henamsingla.medium.com/" rel="noopener"><em class="qb">following me</em></a><em class="qb">. You can also follow me on </em><a class="af qm" href="https://www.linkedin.com/in/henamsingla/" rel="noopener ugc nofollow" target="_blank"><em class="qb">LinkedIn</em></a><em class="qb">. I plan to write blogs about causal inference and data analysis, always aiming to keep things simple.</em></p><p id="5060" class="pw-post-body-paragraph lw lx fq ly b lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt fj bk"><em class="qb">A small disclaimer: I write to learn, so mistakes might happen despite my best efforts. If you spot any errors, please let me know. I also welcome suggestions for new topics!</em></p></div></div></div></div>    
</body>
</html>