- en: Understanding When and How to Implement FastAPI Middleware (Examples and Use
    Cases)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/understanding-when-and-how-to-implement-fastapi-middleware-examples-and-use-cases-c2bd37cb4ffe?source=collection_archive---------1-----------------------#2024-12-25](https://towardsdatascience.com/understanding-when-and-how-to-implement-fastapi-middleware-examples-and-use-cases-c2bd37cb4ffe?source=collection_archive---------1-----------------------#2024-12-25)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Supercharge Your FastAPI with Middleware: Practical Use Cases and Examples'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://mikehuls.medium.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)[![Mike
    Huls](../Images/8f9f55a0d25db00799c5d37383b7f5b6.png)](https://mikehuls.medium.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)
    [Mike Huls](https://mikehuls.medium.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--c2bd37cb4ffe--------------------------------)
    ·4 min read·Dec 25, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/83504ecc1edcb903ad4358a9edf9521b.png)'
  prefs: []
  type: TYPE_IMG
- en: Image by ChatGPT
  prefs: []
  type: TYPE_NORMAL
- en: Middleware sits between an API router its routes, acting as a layer where you
    can run code before and after a request is handled. In this article we’ll explore
    two key use cases of middleware in FastAPI, demonstrating both *how* it works
    and *why* it’s useful. Let’s code!
  prefs: []
  type: TYPE_NORMAL
- en: A. Setting up
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To begin, let’s create a simple API that serves as a base for our middleware
    examples. The app below has only one route: `test` which simulates actual work
    by sleeping for a few milliseconds before returning "OK".'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: What is middleware?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Middleware acts as a filter between the incoming HTTP request and the processing
    done by your application. Think of it like airport security: every passenger must
    go through security before and after boarding the plane. Similarly, every API
    request passes through middleware: both before being handled…'
  prefs: []
  type: TYPE_NORMAL
