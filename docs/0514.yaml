- en: Building a Data Warehouse
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ„å»ºæ•°æ®ä»“åº“
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/building-a-data-warehouse-9696b238b2da?source=collection_archive---------5-----------------------#2024-02-24](https://towardsdatascience.com/building-a-data-warehouse-9696b238b2da?source=collection_archive---------5-----------------------#2024-02-24)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/building-a-data-warehouse-9696b238b2da?source=collection_archive---------5-----------------------#2024-02-24](https://towardsdatascience.com/building-a-data-warehouse-9696b238b2da?source=collection_archive---------5-----------------------#2024-02-24)
- en: Best practice and advanced techniques for beginners
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é¢å‘åˆå­¦è€…çš„æœ€ä½³å®è·µå’Œé«˜çº§æŠ€æœ¯
- en: '[](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)[![ğŸ’¡Mike
    Shakhomirov](../Images/bc6895c7face3244d488feb97ba0f68e.png)](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)
    [ğŸ’¡Mike Shakhomirov](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)[![ğŸ’¡Mike
    Shakhomirov](../Images/bc6895c7face3244d488feb97ba0f68e.png)](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)
    [ğŸ’¡Mike Shakhomirov](https://mshakhomirov.medium.com/?source=post_page---byline--9696b238b2da--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)
    Â·12 min readÂ·Feb 24, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº[Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--9696b238b2da--------------------------------)
    Â·12åˆ†é’Ÿé˜…è¯»Â·2024å¹´2æœˆ24æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/ba3600bd8e30105411ef91dabe1823a2.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ba3600bd8e30105411ef91dabe1823a2.png)'
- en: AI-generated image using [Kandinsky](https://github.com/ai-forever/Kandinsky-2)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: AIç”Ÿæˆçš„å›¾åƒï¼Œä½¿ç”¨[Kandinsky](https://github.com/ai-forever/Kandinsky-2)
- en: In this story, I would like to talk about data warehouse design and how we organise
    the process. Data modelling is an essential part of data engineering. It defines
    the database structure, schemas we use and data materialisation strategies for
    analytics. Designed in the right way it helps to ensure our data warehouse runs
    efficiently meeting all business requirements and cost optimisation targets. We
    will touch on some well-known best practices in data warehouse design using the
    dbt tool as an example. We will take a better look into some examples of how to
    organise the build process, test our datasets and use advanced techniques with
    macros for better workflow integration and deployment.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªæ•…äº‹ä¸­ï¼Œæˆ‘æƒ³è°ˆè°ˆæ•°æ®ä»“åº“è®¾è®¡ä»¥åŠæˆ‘ä»¬å¦‚ä½•ç»„ç»‡è¿™ä¸ªè¿‡ç¨‹ã€‚æ•°æ®å»ºæ¨¡æ˜¯æ•°æ®å·¥ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚å®ƒå®šä¹‰äº†æ•°æ®åº“ç»“æ„ã€æˆ‘ä»¬ä½¿ç”¨çš„æ¨¡å¼ä»¥åŠç”¨äºåˆ†æçš„æ•°æ®ç‰©åŒ–ç­–ç•¥ã€‚è®¾è®¡å¾—å½“æ—¶ï¼Œå®ƒæœ‰åŠ©äºç¡®ä¿æˆ‘ä»¬çš„æ•°æ®ä»“åº“é«˜æ•ˆè¿è¡Œï¼Œæ»¡è¶³æ‰€æœ‰ä¸šåŠ¡éœ€æ±‚å’Œæˆæœ¬ä¼˜åŒ–ç›®æ ‡ã€‚æˆ‘ä»¬å°†é€šè¿‡ä½¿ç”¨dbtå·¥å…·ä½œä¸ºç¤ºä¾‹ï¼Œè®¨è®ºä¸€äº›æ•°æ®ä»“åº“è®¾è®¡ä¸­çš„çŸ¥åæœ€ä½³å®è·µã€‚æˆ‘ä»¬è¿˜å°†æ›´æ·±å…¥åœ°æ¢è®¨å¦‚ä½•ç»„ç»‡æ„å»ºè¿‡ç¨‹ï¼Œæµ‹è¯•æˆ‘ä»¬çš„æ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨å®çš„é«˜çº§æŠ€æœ¯æ¥æ›´å¥½åœ°é›†æˆå·¥ä½œæµå’Œéƒ¨ç½²ã€‚
- en: Structure
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»“æ„
- en: Letâ€™s say we have a data warehouse and lots of SQL to deal with the data we
    have in it.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°æ®ä»“åº“ï¼Œå¹¶ä¸”éœ€è¦å¤„ç†ä»“åº“ä¸­çš„å¤§é‡SQLæ•°æ®ã€‚
- en: In my case it is Snowflake. Great tool and one of the most popular solutions
    in the market right now, definitely among the top three tools for this purpose.
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘çš„æ¡ˆä¾‹ä¸­ï¼Œä½¿ç”¨çš„æ˜¯Snowflakeã€‚å®ƒæ˜¯ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä¹Ÿæ˜¯å½“å‰å¸‚åœºä¸Šæœ€æµè¡Œçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œç»å¯¹ä½åˆ—å‰ä¸‰åã€‚
- en: So how do we structure our data warehouse project? Consider this starter project
    folder structure below. This is what we have after we run `dbt init` command.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•æ„å»ºæˆ‘ä»¬çš„æ•°æ®ä»“åº“é¡¹ç›®ç»“æ„å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢è¿™ä¸ªåˆå­¦è€…é¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„ã€‚è¿™æ˜¯æˆ‘ä»¬è¿è¡Œ`dbt init`å‘½ä»¤åå¾—åˆ°çš„ç»“æ„ã€‚
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
