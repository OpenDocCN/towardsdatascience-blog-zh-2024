<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Finite Automata Simulation for Leveraging AI-Assisted Systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Finite Automata Simulation for Leveraging AI-Assisted Systems</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bird-by-bird-using-finite-automata-9d50b36bcbd3?source=collection_archive---------9-----------------------#2024-02-13">https://towardsdatascience.com/bird-by-bird-using-finite-automata-9d50b36bcbd3?source=collection_archive---------9-----------------------#2024-02-13</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h2 id="7680" class="fo fp fq bf b dy fr fs ft fu fv fw dx fx" aria-label="kicker paragraph"><a class="af fy" href="https://towardsdatascience.com/tagged/bird-by-bird-tech" rel="noopener" target="_blank">Bird by Bird Tech</a></h2><div/><div><h2 id="cf22" class="pw-subtitle-paragraph gt ga fq bf b gu gv gw gx gy gz ha hb hc hd he hf hg hh hi cq dx">Design, modelling, and simulation of real-world AI systems to improve performance on object detection tasks using finite state machines</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hj hk hl hm hn ab"><div><div class="ab ho"><div><div class="bm" aria-hidden="false"><a href="https://slipnitskaya.medium.com/?source=post_page---byline--9d50b36bcbd3--------------------------------" rel="noopener follow"><div class="l hp hq by hr hs"><div class="l ed"><img alt="Sofya Lipnitskaya" class="l ep by dd de cx" src="../Images/9ea0dd0af32232eb4c8db0cb96f66449.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/da:true/resize:fill:88:88/0*oHbEuNgH0O5mLHBF"/><div class="ht by l dd de em n hu eo"/></div></div></a></div></div><div class="hv ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--9d50b36bcbd3--------------------------------" rel="noopener follow"><div class="l hw hx by hr hy"><div class="l ed"><img alt="Towards Data Science" class="l ep by br hz cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="ht by l br hz em n hu eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="ia ab q"><div class="ab q ib"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b ic id bk"><a class="af ag ah ai aj ak al am an ao ap aq ar ie" data-testid="authorName" href="https://slipnitskaya.medium.com/?source=post_page---byline--9d50b36bcbd3--------------------------------" rel="noopener follow">Sofya Lipnitskaya</a></p></div></div></div><span class="if ig" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b ic id dx"><button class="ih ii ah ai aj ak al am an ao ap aq ar ij ik il" disabled="">Follow</button></p></div></div></span></div></div><div class="l im"><span class="bf b bg z dx"><div class="ab cn in io ip"><div class="iq ir ab"><div class="bf b bg z dx ab is"><span class="it l im">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar ie ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--9d50b36bcbd3--------------------------------" rel="noopener follow"><p class="bf b bg z iu iv iw ix iy iz ja jb bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="if ig" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">13 min read</span><div class="jc jd l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Feb 13, 2024</span></div></span></div></span></div></div></div><div class="ab cp je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt"><div class="h k w ea eb q"><div class="kj l"><div class="ab q kk kl"><div class="pw-multi-vote-icon ed it km kn ko"><div class=""><div class="kp kq kr ks kt ku kv am kw kx ky ko"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kz la lb lc ld le lf"><p class="bf b dy z dx"><span class="kq">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kp li lj ab q ee lk ll" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lh"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count lg lh">3</span></p></button></div></div></div><div class="ab q ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki"><div class="lm k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al ln an ao ap ij lo lp lq" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lr cn"><div class="l ae"><div class="ab cb"><div class="ls lt lu lv lw lx ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al ln an ao ap ij ly lz ll ma mb mc md me s mf mg mh mi mj mk ml u mm mn mo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al ln an ao ap ij ly lz ll ma mb mc md me s mf mg mh mi mj mk ml u mm mn mo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al ln an ao ap ij ly lz ll ma mb mc md me s mf mg mh mi mj mk ml u mm mn mo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><figure class="ms mt mu mv mw mx mp mq paragraph-image"><div role="button" tabindex="0" class="my mz ed na bh nb"><div class="mp mq mr"><img src="../Images/65f9c2280d311d61dc562eddd7f2df4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xcSWS45PKc65a6Vqfn2zzA.png"/></div></div><figcaption class="nd ne nf mp mq ng nh bf b bg z dx">Image by author</figcaption></figure><h1 id="a531" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">Background</h1><h2 id="2ebb" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk"><strong class="al">Problem understanding</strong></h2><p id="d245" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Recently, I came across one of the great cases of using Raspberry Pi and Python for creating a computer vision-based system for object detection. In short, one guy created a device that keeps the neighbor's chickens away from his property. After following the <a class="af pq" href="https://www.reddit.com/r/interestingasfuck/comments/y6cp1y/using_a_raspberry_pi_3b_python_opencv_and_machine" rel="noopener ugc nofollow" target="_blank">Reddit thread</a>, it became apparent that the problem is quite pervasive and not limited to certain bird species, if at all. The top rated comments include:</p><blockquote class="pr ps pt"><p id="69a2" class="ox oy pu oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">“I need one of these for the ducks my neighbor feeds and then they sh*t all over my lawn.”<em class="fq"> — Light_Beard</em></p><p id="62d9" class="ox oy pu oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">“I need this for cats in my yard at night.”<em class="fq"> — Buddha_</em></p><p id="c443" class="ox oy pu oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">“Does it work on kids on Halloween? Asking for a friend.” <em class="fq">— HardPawns</em></p></blockquote><p id="5d76" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Well, one might argue that the problem is not that important and quite legitimately suggest simply asking the neighbors to sort out those hens. However, this is clearly not an engineer’s way to tackle this. Suppose you had already built an AI-assisted bird detection system equipped with a water blaster to chase unwelcome hens away from the yard. The caveat is that its operating version does not perform as well as expected, resulting in still noticeable water usage for sprinkling and lawn cleanup. Hence, chickens run and water bills remain lofty. How to address the challenge?</p><h2 id="7566" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">Model-based engineering for complex systems</h2><p id="f6e8" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Here, we are about to tackle this real-world problem by designing a computational model to simulate the complete chicken-on-the-lawn cycle and later optimize its parameters so that we can reduce water consumption. To do so, we will employ different techniques, including those from automata theory and randomized algorithms.</p><p id="5007" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">In particular, this article focuses on modelling and simulation aspects so that you learn how to describe behavior of a real system and design a finite state machine reflecting its dynamics. Then, you will explore the path of implementing such systems in Python and discover ways to leverage computer vision-based models by optimizing its performance on object detection. This should be fun!</p><p id="2f95" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk"><strong class="oz gb"><em class="pu">Disclaimer:</em></strong><em class="pu"> This work is a part of the “</em><a class="af pq" rel="noopener" target="_blank" href="/bird-by-bird-using-deep-learning-4c0fa81365d7"><em class="pu">Bird by Bird using Deep Learning</em></a><em class="pu">” series and is devoted to modelling and simulation of real-life systems for computer vision applications using finite automata. All actors, states, events and outputs are the products of the FSM design process for educational purposes only. Any resemblance to actual persons, birds, or real events is purely coincidental.</em></p><h1 id="2aba" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">Introducing the related work</h1><h2 id="2e64" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">Finite state machines for modelling and simulation</h2><p id="d5b1" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Finite-state machine (FSM) or finite automaton is a mathematical model that can be used to represent and analyse dynamic behavior of a system by describing it through discrete states, transitions between those states, and a set of rules triggering these transitions.</p><p id="30c6" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">The history of FSM traces back to the mid-20th century, marked by pivotal milestones in automata theory and the theory of computation. Early contributions by luminaries such as Alan Turing and John von Neumann laid the foundation, but it was in the 1950s and 1960s that FSM took a significant leap forward. Notably, Edward F. Moore and George H. Mealy independently introduced two primary types of FSMs, Moore and Mealy machines, respectively.</p><p id="940a" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">These FSM types differ in their approach: Moore machines determine next states based solely on the current state, while the Mealy ones associate outputs with the current state and input, offering enhanced adaptability. Originally used in digital circuits, FSMs, in particular Mealy machines, with their responsiveness to external input signals, have become widespread in the design of complex systems that accompany our daily lives.</p><p id="2c17" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">FSMs are found in both hardware and software applications. Look around — almost all electronic and computing devices have some sort of finite automata — from vending machines to CPUs, from basic electronic devices to programmable logical controllers for smart home automation. They are also taken in software and game development and, of course, can be used to create adaptive AI-assisted systems for real-time object detection.</p><h2 id="12a1" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">Discrete math strikes back</h2><p id="8bd9" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">At its core, a deterministic finite automaton includes states, inputs, and a transition function. States represent distinct conditions of the system, while inputs trigger switches between states. The transition function defines rules of how the machine transitions between states. Mathematically, such state machine can be represented using a 5-tuple, denoted as M=(Q, Σ, δ, q₀, F), where:</p><ul class=""><li id="3bea" class="ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp qa qb qc bk">Q is a set of states representing distinct configurations of the system.</li><li id="4e86" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Σ is a set of inputs consisting of events that trigger state changes.</li><li id="ddbb" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Transition function δ governs how the system switches between states given an input (δ:Q×Σ→Q).</li><li id="e839" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Initial State q₀ is a starting state of the system to be initialized with, where q₀∈Q.</li><li id="4295" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">F is a subset of Q (F⊆Q) consisting of final states.</li></ul><p id="e94b" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">This way, for any given state and specific input symbol, there is a unique next state determined by the transition function δ, which is typically represented by a state transition table or diagram, specifying transitions given a combination of the current state and inputs.</p><h2 id="85eb" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">FSM design process</h2><p id="9d68" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">The design process of an FSM involves identifying the states (and inputs if applicable), defining the transition function, as well as specifying the initial and final states. The following methodology can be employed for translating complex systems into comprehensible models, aiding in the further analysis, design, and implementation phases. A 5-step FSM design process includes:</p><ol class=""><li id="7783" class="ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp qi qb qc bk">Understanding the problem, analyse the structure of the system.</li><li id="07ca" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Defining key components for a conceptual model to be designed.</li><li id="6482" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Creating a state diagram or defining a state-transition table.</li><li id="6c73" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Implementing the machine’s states, inputs and outputs, transition logic.</li><li id="8fde" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Testing and experimentally validating the FSM.</li></ol><p id="49e5" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">This iterative process allows to design a concise representation of the real system’s behavior, allowing for approximations and refinements along the process. For instance, after implementing an FSM (Step 4), you may want to further verify and update the specifications (Steps 2–3), same applies to moving from the experimentation (Step 5) back to the problem definition (Step 1), in order to create a working model that is sufficiently detailed and useful to solve a particular problem.</p><h2 id="47c7" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk"><strong class="al">State machine example</strong></h2><p id="bf74" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Let us take a simple case of the chicken-on-the-lawn scenario, where a bird can either be present on the lawn or not<strong class="oz gb">,</strong> as a function of external stimuli initiated by the engineer, who, in turn, can either rest or chase away unwelcome guests trespassing on his property. Thus, the controlling object (the engineer) is intended to compensate for the uncertainty of the independent actors (chickens) parameters. In the given example, the set of final states F includes only one state in which the system terminates, say at the end of the day when there are no chickens around. In this way:</p><ul class=""><li id="0870" class="ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp qa qb qc bk">Q = {q₀, q₁, q₂, ⊙}: Set of states representing No-/Chicken.</li><li id="5224" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Σ = {α₀, α₁, α₂}: Set of input events — Engineer Rest/Chase, and Sunset.</li><li id="6689" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">F = {⊙} contains the final state representing the end of the day.</li></ul><p id="7167" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Figure 1 provides a state transition diagram consisting of nodes (states) connected by edges (next-state transitions), with the labels above the arcs specifying input events triggering the transitions.</p><figure class="ms mt mu mv mw mx mp mq paragraph-image"><div role="button" tabindex="0" class="my mz ed na bh nb"><div class="mp mq qj"><img src="../Images/861d1c785be90e2d1738c5a1c37d5e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bb6Isdrpp9DL8ErsOUMy6w.png"/></div></div><figcaption class="nd ne nf mp mq ng nh bf b bg z dx">Figure 1. Graphical representation of a simple state machine (Image by author)</figcaption></figure><p id="f8e2" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">This representation captures the binary nature of the problem, in which a chicken can either be present or not on the lawn. The system responds to the events triggered by the engineer or the sunset. In the diagram, the initial and final states are indicated by circles. The transition function δ for this FSM can also be written in a tabular form, showing state transitions and control actions for the system, as shown in Table 1.</p><pre class="ms mt mu mv mw qk ql qm bp qn bb bk"><span id="2a0d" class="qo nj fq ql b bg qp qq l qr qs"><br/>Table 1. State-transition table for the chicken-on-the-lawn FSM example<br/><br/>+========================+========================+========================+<br/>| Current State          | Input Event            | Next State             |<br/>+========================+========================+========================+<br/>| q₀ ≡ ”No Bird”         | α₀ ≡ ”Engineer Rest”   | q₁                     |<br/>+------------------------+------------------------+------------------------+<br/>| q₁ ≡ ”Bird Present”    | α₁ ≡ ”Engineer Chase”  | q₀                     |<br/>+------------------------+------------------------+------------------------+<br/>| q₀                     | α₂ ≡ ”Sunset”          | ⊙                     |<br/>+------------------------+------------------------+------------------------+</span></pre><p id="26f7" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Thus, by completing five straightforward steps we designed a simple state machine. Now that everything has been explained, let’s finally create an FSM-based model representing our challenge with birds on the lawn.</p><h1 id="ad89" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">On dealing with the birds-on-the-lawn challenge</h1><h2 id="b611" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">What they do on the lawn</h2><p id="f99e" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">As you have learnt in the previous section, finite automata can be used to model almost any process. Imagine you have some chickens hopping around in your backyard this afternoon. What are they doing? Just observe. They’re always moving, singing, or interacting. They’re often flying, probing, or eating. On some occasions, they’re displaying, or doing something that draws our attention, like those neighbor's chickens messing up with the grass, but let’s set those particulars aside for now. Well, eventually, all the birds are s***ing (nothing personal, feathery ones). For the FSM design, we won’t get into the finer details, instead distilling essential components with logic for our simulation. Let the FSM take water adventures to the next level of play!</p><h2 id="61a9" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">System description</h2><p id="3213" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Concerning the chickens, here, we are going to describe the system to reflect our down-to-earth scenario in order to optimize parameters of the object detection system and reduce water costs for lawn cleaning. For the reference, take another look at the previous FSM example. This simple machine differs from the real-life system in some particular aspects. First, we want to actualize the controlling object to include an AI-based device aimed at detecting and repelling birds, this time by means of a high-pressure water sprinkler gun (so the engineer can “self-loop” into the rest state).</p><p id="6b4b" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Second, we will need to update and/or extend the set of possible states, events, and transitions reflecting complexity of the updated system’s setup. For the latter, why don’t we consider additional bird categories that can be recognized by a computer vision model (e.g., turkeys) thus being potential independent actors for our FSM. Moreover, assuming that bird size varies across species, an irrigation control system would need a more intense water flow and/or pressure to successfully chase a bulky turkey off the lawn than it would for a chicken. Hereafter, for brevity’s sake, we will refer to the chicken-and-turkey-on-the-lawn problem as the CaT problem.</p><h2 id="5537" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk">Conceptual modelling</h2><p id="b901" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">In order to model scenarios where the object detection system has to monitor, classify, and interact with objects trespassing on the property, we will define states, events, and transitions that represent the different aspects of this situation. Our goal is to capture the various states the object detection system and chickens can be in, as well as the events that trigger state transitions.</p><p id="0ff8" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">For the logic design scenarios, consider that at any given moment a bird can enter the yard, mess up with the lawn (or not), and leave the property either for its own or if it was successfully detected and chased away by the AI-based lawn security system. Now, let’s define some main components of the FSM simulation.</p><p id="216e" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk"><strong class="oz gb">States </strong>represent possible conditions reflecting the CaT scenarios:</p><ul class=""><li id="6f71" class="ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp qa qb qc bk">For hopping targets: Spawn and Intrusion statuses, Attacking and its result, Leaving the lawn.</li><li id="71dc" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">For the AI system: Detection State, Sprinkling State.</li><li id="647f" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Initial state “Start” relates to the entry point of the simulation.</li><li id="5865" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">Final state “End” denotes the termination point of the simulation.</li></ul><p id="d2d6" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk"><strong class="oz gb">Transitions </strong>govern how the system switches between states based on inputs. For instance, the AI model may overlook a bird and miss the sprinkling process, thus, resulting in a number of consequences for the lawn. Here are some other scenarios and conditions we can anticipate:</p><ul class=""><li id="fe42" class="ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp qa qb qc bk">From “Intrusion” to “Target Detected” on the “Detection” event.</li><li id="1851" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">From “Target Detected” to “Bird Leaves” events through the sequence of “Sprinkling” and “Hit” events after an intruded bird has been detected and hit by the water sprinkler successfully.</li><li id="adb2" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qa qb qc bk">From “Bird Present” to “Attack”, in case the system has failed at target detection and prediction steps, while the bird was actually on the lawn. The same event shall take place under the conditions that the bird-intruder was detected, but the shot was missed by the system.</li></ul><p id="9abc" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">This way, the FSM will dynamically progress from one state to another as the AI system interacts with the chickens hopping around. To make task easier and less error-prone, we create a combined state transition and conditions table:</p><pre class="ms mt mu mv mw qk ql qm bp qn bb bk"><span id="0418" class="qo nj fq ql b bg qp qq l qr qs">Table 2. FSM inputs describing the events triggering state changes<br/><br/>+====+==================================+==================+================+<br/>| ID | Input Description                | Defence System   | Enemy Tactics  |<br/>|    |                                  | Operation Mode   | and Waypoints  |<br/>+====+==================================+==================+================+<br/>| X₁ | Bird is present on the lawn      |                  | Hopping        |<br/>+----+----------------------------------+ Object detection +----------------+<br/>| X₂ | Bird intrudes the lawn           |                  | Start hopping  |<br/>+----+----------------------------------+------------------+----------------+<br/>| X₃ | AI-powered detector spots a bird | Start sprinkling | Hopping (still)|<br/>+----+----------------------------------+------------------+----------------+<br/>| X₄ | Bird is hit successfully¹        |                  |                |<br/>+----+----------------------------------+        -         | Intimidation   |<br/>| X₅ | Target is susceptible²           |                  |                |<br/>+----+----------------------------------+------------------+----------------+<br/>| X₆ | Bird spoiled the lawn            |                  | Hopping merrily|<br/>+----+----------------------------------+ Object detection +----------------+<br/>| X₇ | Bird leaves the lawn             |                  | Retreat        |<br/>+----+----------------------------------+------------------+----------------+<br/>| X₈ | Simulation period ends (sunset)  |        -         | -              |<br/>+----+----------------------------------+------------------+----------------+<br/>ID - input identifier<br/>¹ - aiming and sprinkling modules operated correctly<br/>² - water flow rate is strong enough to chase the bird away</span></pre><h2 id="b439" class="oe nj fq bf nk of og oh nn oi oj ok nq ol om on oo op oq or os ot ou ov ow fw bk"><strong class="al">State transition tables</strong></h2><p id="f0c3" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">Now, after identifying states and events, we’ll write a combined state transition table with Boolean expressions for the next states. In table 3, we see how the inputs described in Table 2 steer the transitions between the simulation states.</p><pre class="ms mt mu mv mw qk ql qm bp qn bb bk"><span id="847a" class="qo nj fq ql b bg qp qq l qr qs">Table 3. FSM state transition table with next-stage transition logic<br/><br/>+========================+========================+========================+<br/>| Current State          | Transition Formula     | Next State             |<br/>+========================+========================+========================+<br/>| Start                  | TRUE                   | Spawn                  |<br/>+------------------------+------------------------+------------------------+<br/>|                        | X₁ ∨ X₂                | Intrusion              |<br/>|                        |------------------------+------------------------+<br/>| Spawn                  | ¬X₁ ∧ ¬X₂              | Empty lawn             |<br/>+                        |------------------------+------------------------+<br/>|                        | X₈                     | End                    |<br/>+------------------------+------------------------+------------------------+<br/>|                        | X₃                     | Target detected        |<br/>| Intrusion              |------------------------+------------------------+<br/>|                        | ¬X₃                    | Not detected           |<br/>+------------------------+------------------------+------------------------+<br/>|                        | X₃                     | Target detected        |<br/>| Empty lawn             |------------------------+------------------------+<br/>|                        | ¬X₃                    | Not detected           |<br/>+------------------------+------------------------+------------------------+<br/>| Target detected        | TRUE                   | Sprinkling             |<br/>+------------------------+------------------------+------------------------+<br/>|                        | X₁                     | Attacking              |<br/>| Not detected           |------------------------+------------------------+<br/>|                        | ¬X₁                    | Not attacked           |<br/>+------------------------+------------------------+------------------------+<br/>|                        | ¬X₁ ∨ ¬X₄ ∨ ¬X         | Miss                   |<br/>| Sprinkling             |------------------------+------------------------+<br/>|                        | X₁ ∧ X₄ ∧ X₅           | Hit                    |<br/>+------------------------+------------------------+------------------------+<br/>|                        | ¬X₁                    | Spawn                  |<br/>| Miss                   |------------------------+------------------------+<br/>|                        | X₁                     | Attacking              |<br/>+------------------------+------------------------+------------------------+<br/>| Hit                    | TRUE                   | Bird leaves            |<br/>+------------------------+------------------------+------------------------+<br/>|                        | ¬X₆                    | Not attacked           |<br/>| Attacking              |------------------------+------------------------+<br/>|                        | X₆                     | Bird attacked          |<br/>+------------------------+------------------------+------------------------+<br/>|                        | ¬X₇                    | Spawn                  |<br/>| Not attacked           |------------------------+------------------------+<br/>|                        | X₇                     | Bird leaves            |<br/>+------------------------+------------------------+------------------------+<br/>|                        | ¬X₇                    | Spawn                  |<br/>| Bird attacked          |------------------------+------------------------+<br/>|                        | X₇                     | Bird leaves            |<br/>+------------------------+------------------------+------------------------+<br/>| Bird leaves            | TRUE                   | Spawn                  |<br/>+------------------------+------------------------+------------------------+</span></pre><p id="9319" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">In most cases, a single input determines the next state. However, we have to consider a number of conditions simultaneously for switching from “Spawn” or “Sprinkling”. You could also notice that for some states, transitions don’t depend on the external information, like for “Start” or “Hit”. These states are either special (as “Start”) or trigger auxiliary actions. The latter don’t have a direct influence on the story we simulate (i.e. in that regard, they can be combined with the subsequent states) but are important for gathering simulation statistics.</p><p id="5f28" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Finally, let’s look at its visual representation. Figure 3 presents the state transition graph corresponding to the CaT system going through during its lifetime. You can probably see the connection already. Moving forward with the following article, you will learn how to implement this FSM in Python and how to use it to optimize parameters of the AI-assisted bird detection system in order to reduce water cost.</p><figure class="ms mt mu mv mw mx mp mq paragraph-image"><div role="button" tabindex="0" class="my mz ed na bh nb"><div class="mp mq qt"><img src="../Images/b071e91a376618f936236d801ee80b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0KgD04tvvzbu5j1uJwuag.png"/></div></div><figcaption class="nd ne nf mp mq ng nh bf b bg z dx">Figure 2. State transition graph for an FSM representing the AI-assisted lawn security system (Image by author)</figcaption></figure><h1 id="2470" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">Conclusions</h1><p id="8962" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">In this article, we explored how to apply finite state machines in practice to build a model for addressing the CaT problem, allowing for high-level problem analysis and solution design.</p><p id="a202" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">We have described complex yard processes by applying the FSM formalism to individual actors and the interactions between them, thereby creating a holistic view of the internal dynamics of the real-world situation, in which we had to deal with neighborhood birds trespassing on the property.</p><p id="e02f" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">This allowed us to create a simulation that reflects, among other things, the operation of the AI-assisted security system equipped with a water pressure controller for sprinkling and aimed at object detection and chasing away unwelcome guests spoiling the lawn.</p><h1 id="d984" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">What’s next?</h1><p id="7336" class="pw-post-body-paragraph ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp fj bk">In the upcoming series of articles, we will further investigate the topic of simulation of real-life scenarios using FSMs and its practical applications for addressing a non-analytic optimization problem of water cost reduction.</p><p id="ce87" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Specifically, the next article will feature a Python tutorial from which you will learn how to implement an FSM-driven simulation from scratch as well as how to employ it as a part of a stochastic optimization pipeline. Based on the simulation created, we then examine how to leverage it for improving the resource efficiency of our lawn security system by applying Monte-Carlo and eXplainable AI (XAI) techniques to optimize performance of a computer vision-based subsystem for bird detection.</p><p id="bae0" class="pw-post-body-paragraph ox oy fq oz b gu pv pb pc gx pw pe pf ol px ph pi op py pk pl ot pz pn po pp fj bk">Interested to keep it on? Stay updated on more materials at — <a class="af pq" href="https://github.com/slipnitskaya/computer-vision-birds" rel="noopener ugc nofollow" target="_blank">https://github.com/slipnitskaya/computer-vision-birds</a> and <a class="af pq" href="https://medium.com/@slipnitskaya" rel="noopener">https://medium.com/@slipnitskaya</a>.</p><h1 id="e4c6" class="ni nj fq bf nk nl nm gw nn no np gz nq nr ns nt nu nv nw nx ny nz oa ob oc od bk">References</h1><ol class=""><li id="0728" class="ox oy fq oz b gu pa pb pc gx pd pe pf ol pg ph pi op pj pk pl ot pm pn po pp qi qb qc bk">Moore, Edward F. “Gedanken-experiments on sequential machines.” Automata studies 34 (1956): 129–153.</li><li id="59f6" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Mealy, George H. “A method for synthesizing sequential circuits.” The Bell System Technical Journal 34.5 (1955): 1045–1079.</li><li id="bad5" class="ox oy fq oz b gu qd pb pc gx qe pe pf ol qf ph pi op qg pk pl ot qh pn po pp qi qb qc bk">Sipser, M. “Introduction to the Theory of Computation.” 2nd ed., Thomson Course Technology (2006).</li></ol></div></div></div></div>    
</body>
</html>