<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>From Code to Insights: Software Engineering Best Practices for Data Analysts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>From Code to Insights: Software Engineering Best Practices for Data Analysts</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/from-code-to-insights-software-engineering-best-practices-for-data-analysts-0dd6a2aaadfc?source=collection_archive---------0-----------------------#2024-06-06">https://towardsdatascience.com/from-code-to-insights-software-engineering-best-practices-for-data-analysts-0dd6a2aaadfc?source=collection_archive---------0-----------------------#2024-06-06</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="f74a" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Top 10 engineering lessons every data analyst should know</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://miptgirl.medium.com/?source=post_page---byline--0dd6a2aaadfc--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Mariya Mansurova" class="l ep by dd de cx" src="../Images/b1dd377b0a1887db900cc5108bca8ea8.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*7fFHr8XBAuR_SgJknIyODA.png"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--0dd6a2aaadfc--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://miptgirl.medium.com/?source=post_page---byline--0dd6a2aaadfc--------------------------------" rel="noopener follow">Mariya Mansurova</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--0dd6a2aaadfc--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">16 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jun 6, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">11</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq mr"><img src="../Images/15e5c47b0612e64f57a5f84bcccc137a.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*ePjA_dzrfUM_PRp8W84TQQ.jpeg"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Image by DALL-E 3</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="c56e" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The data analyst job combines skills from different domains:</p><ul class=""><li id="41f9" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">We need to have business understanding and domain knowledge to be able to solve actual business problems and take into account all the details.</li><li id="66bc" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Maths, statistics, and fundamental machine learning skills help us perform rigorous analyses and reach reliable conclusions from data.</li><li id="3b0d" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Visualisation skills and storytelling allow us to deliver our message and influence the product.</li><li id="8c1d" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Last but not least, computer science and the basics of software engineering are key to our efficiency.</li></ul><p id="57bf" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I’ve learned a lot about computer science at university. I’ve tried at least a dozen programming languages (from low-level assembler and CUDA to high-level Java and Scala) and countless tools. My very first job offer was for a backend engineer role. I’ve decided not to pursue this path, but all this knowledge and principles have been beneficial in my analytical career. So, I would like to share the main principles with you in this article.</p><h1 id="eeb1" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Code is not for computers. It’s for people</h1><p id="b231" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">I’ve heard this mantra from software engineers many times. It’s well explained in one of the programming bibles, “Clean Code”.</p><blockquote class="po pp pq"><p id="51e0" class="nj nk pr nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Indeed, the ratio of time spent reading versus writing is well over 10 to 1. We are constantly reading old code as part of the effort to write new code.</p></blockquote><p id="03cf" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In most cases, an engineer prefers more wordy code that is easy to understand to the idiomatic one-liner.</p><p id="75e4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I must confess that I sometimes break this rule and write extra-long pandas one-liners. For example, let’s look at the code below. Do you have any idea what this code is doing?</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="0448" class="pw oo fq pt b bg px py l pz qa"># ad-hoc only code<br/>df.groupby(['month', 'feature'])[['user_id']].nunique()\<br/>  .rename(columns = {'user_id': 'users'})\<br/>  .join(df.groupby(['month'])[['user_id']].nunique()\<br/>  .rename(columns = {'user_id': 'total_users'})).apply(<br/>    lambda x: 100*x['users']/x['total_users'], axis = 1)\<br/>  .reset_index().rename(columns = {0: 'users_share'})\<br/>  .pivot(index = 'month', columns = 'feature', values = 'users_share')</span></pre><p id="b571" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Honestly, it’ll probably take me a bit to get up to speed with this code in a month. To make this code more readable, we can split it into steps.</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="ca04" class="pw oo fq pt b bg px py l pz qa"># maintainable code<br/>monthly_features_df = df.groupby(['month', 'feature'])[['user_id']].nunique()\<br/>    .rename(columns = {'user_id': 'users'})<br/><br/>monthly_total_df = df.groupby(['month'])[['user_id']].nunique()\<br/>    .rename(columns = {'user_id': 'total_users'})<br/><br/>monthly_df = monthly_features_df.join(monthly_total_df).reset_index()<br/>monthly_df['users_share'] = 100*monthly_df.users/monthly_df.total_users<br/><br/>monthly_df.pivot(index = 'month', columns = 'feature', values = 'users_share')</span></pre><p id="cadd" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Hopefully, now it’s easier for you to follow the logic and see that this code shows the percentage of customers that use each feature every month. The future me would definitely be way happier to see a code like this and appreciate all the efforts.</p><h1 id="2fd9" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Automate repetitive tasks</h1><p id="4111" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">If you have monotonous tasks that you repeat frequently, I recommend you consider automation. Let me share some examples from my experience that you might find helpful.</p><p id="ac2a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The most common way for analysts to automate tasks is to create a dashboard instead of calculating numbers manually every time. Self-serve tools (<em class="pr">configurable dashboards where stakeholders can change filters and investigate the data</em>) can save a lot of time and allow us to focus on more sophisticated and impactful research.</p><p id="fcc3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If a dashboard is not an option, there are other ways of automation. I was doing weekly reports and sending them to stakeholders via e-mail. After some time, it became a pretty tedious task, and I started to think about automation. At this point, I used the basic tool — <a class="af qb" href="https://en.wikipedia.org/wiki/Cron" rel="noopener ugc nofollow" target="_blank">cron</a> on a virtual machine. I scheduled a Python script that calculated up-to-date numbers and sent an e-mail.</p><p id="1653" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">When you have a script, you just need to add one line to the cron file. For example, the line below will execute <code class="cx qc qd qe pt b">analytical_script.py</code> every Monday at 9:10 AM.</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="49e8" class="pw oo fq pt b bg px py l pz qa">10 9 * * 1 python analytical_script.py</span></pre><p id="9a09" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Cron is a basic but still sustainable solution. Other tools that can be used to schedule scripts are Airflow, DBT, and Jenkins. You might know Jenkins as a CI/CD (continuous integration &amp; continuous delivery) tool that engineers often use. It might surprise you. It’s customisable enough to execute analytical scripts as well.</p><p id="9f7c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you need even more flexibility, it’s time to think about web applications. In my first team, we didn’t have an A/B test tool, so for a long time, analysts had to analyse each update manually. Finally, we wrote a <a class="af qb" href="https://flask.palletsprojects.com/en/3.0.x/" rel="noopener ugc nofollow" target="_blank">Flask</a> web application so that engineers could self-serve. Now, there are lightweight solutions for web applications, such as <a class="af qb" href="https://www.gradio.app/" rel="noopener ugc nofollow" target="_blank">Gradio</a> or <a class="af qb" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank">Streamlit</a>, that you can learn in a couple of days.</p><blockquote class="po pp pq"><p id="7421" class="nj nk pr nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can find a detailed guide for Gradio in <a class="af qb" href="https://medium.com/towards-data-science/understanding-retention-with-gradio-c288b48918af" rel="noopener">one of my previous articles</a>.</p></blockquote><h1 id="f5de" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Master your tools</h1><p id="a043" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">Tools you use every day at work play a significant role in your efficiency and final results. So it’s worth mastering them.</p><p id="c121" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Of course, you can use a default text editor to write code, but most people use IDEs (Integrated Development Environment). You will be spending a lot of your working time on this application, so it’s worth assessing your options.</p><p id="a279" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can find the most popular IDEs for Python from <a class="af qb" href="https://lp.jetbrains.com/python-developers-survey-2021/" rel="noopener ugc nofollow" target="_blank">the JetBrains 2021 survey</a>.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qf"><img src="../Images/1d83d2a2333a32649533aec8f00f0f17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DdcNYhd_0qZvNUnMMU0rVA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Chart by author, data from <a class="af qb" href="https://lp.jetbrains.com/python-developers-survey-2021/" rel="noopener ugc nofollow" target="_blank">the JetBrains survey</a></figcaption></figure><p id="b54f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I usually use Python and Jupyter Notebooks for my day-to-day work. In my opinion, the best IDE for such tasks is JupyterLab. However, I’m trying other options right now to be able to use AI assistants. The benefits of auto-completion, which eliminates lots of boilerplate code, are invaluable for me, so I’m ready to take on switching costs. I encourage you to investigate different options and see what suits your work best.</p><p id="48a8" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other helpful hack is shortcuts. You can do your tasks way faster with shortcuts than with a mouse, and it looks cool. I would start with Googling shortcuts for your IDE since you usually use this tool the most. From my practice, the most valuable commands are creating a new cell in a Notebook, running this cell, deleting it, and converting the cell into markdown.</p><p id="ddfc" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you have other tools that you use pretty often (such as Google Sheets or Slack), you can also learn commands for them.</p><p id="f666" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The main trick with learning shortcuts is “practice, practice, practice” — you need to repeat it a hundred times to start doing it automatically. There are even plugins that push you to use shortcuts more (for example, <a class="af qb" href="https://plugins.jetbrains.com/plugin/9792-key-promoter-x" rel="noopener ugc nofollow" target="_blank">this one</a> from JetBrains).</p><p id="5012" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Last but not least is CLI (command-line interface). It might look intimidating in the beginning, but basic knowledge of CLI usually pays off. I use CLI even to work with GitHub since it gives me a clear understanding of what’s going on exactly.</p><p id="85f1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, there are situations when it’s almost impossible to avoid using CLI, such as when working on a remote server. To interact confidently with a server, you need to learn less than ten commands. <a class="af qb" rel="noopener" target="_blank" href="/command-line-interface-cli-tutorial-how-advanced-users-interact-with-computers-28cf88f81ce">This article</a> can help you gain basic knowledge about CLI.</p><h1 id="7a2b" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Manage your environment</h1><p id="bf2b" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">Continuing the topic of tools, setting up your environment is always a good idea. I have a <a class="af qb" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">Python virtual environment</a> for day-to-day work with all the libraries I usually use.</p><p id="982f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Creating a new virtual environment is as easy as a couple of lines of code in your terminal (<em class="pr">an excellent opportunity to start using CLI</em>).</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="dd4e" class="pw oo fq pt b bg px py l pz qa"># creating venv<br/>python -m venv routine_venv<br/><br/># activating venv<br/>source routine_venv/bin/activate<br/><br/># installing ALL packages you need <br/>pip install pandas plotly <br/><br/># starting Juputer Notebooks<br/>jupyter notebook</span></pre><p id="d730" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can start your Jupyter from this environment or use it in your IDE.</p><p id="9442" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">It’s a good practice to have a separate environment for big projects. I usually do it only if I need an unusual stack (like PyTorch or yet another new LLM framework) or face some issues with library compatibility.</p><p id="a9a3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other way to save your environment is by using <a class="af qb" href="https://www.docker.com/" rel="noopener ugc nofollow" target="_blank">Docker Containers</a>. I use it for something more production-like, like web apps running on the server.</p><h1 id="5a01" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Think about program performance</h1><p id="fbc5" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">To tell the truth, analysts often don’t need to think much about performance. When I got my first job in data analytics, my lead shared the practical approach to performance optimisations (and I have been using it ever since). When you’re thinking about performance, consider the total time vs efforts. Suppose I have a MapReduce script that runs for 4 hours. Should I optimise it? It depends.</p><ul class=""><li id="a189" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">If I need to run it only once or twice, there’s not much sense in spending 1 hour to optimise this script to calculate numbers in just 1 hour.</li><li id="98c9" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">If I plan to run it daily, it’s worth the effort to make it faster and stop wasting computational resources (and money).</li></ul><p id="c93c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Since the majority of my tasks are one-time research, in most cases, I don’t need to optimise my code. However, it’s worth following some basic rules to avoid waiting for hours. Small tricks can lead to tremendous results. Let’s discuss such an example.</p><p id="22eb" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Starting from the basics, the cornerstone of performance is <a class="af qb" href="https://en.wikipedia.org/wiki/Big_O_notation" rel="noopener ugc nofollow" target="_blank">big O notation</a>. Simply put, big O notation shows the relation between execution time and the number of elements you work with. So, if my program is O(n), it means that if I increase the amount of data 10 times, execution will be ~10 times longer.</p><p id="8db9" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">When writing code, it’s worth understanding the complexity of your algorithm and the main data structures. For example, finding out if an element is in a list takes O(n) time, but it only takes O(1) time in a set. Let’s see how it can affect our code.</p><p id="39c4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I have 2 data frames with Q1 and Q2 user transactions, and for each transaction in the Q1 data frame, I would like to understand whether this customer was retained or not. Our data frames are relatively small — around 300-400K rows.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qg"><img src="../Images/e738815b89ff2ce540c1db67f5825e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gb1FvLir6kMHHSbhw4MJQ.png"/></div></div></figure><p id="0527" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">As you can see, performance differs a lot.</p><ul class=""><li id="4fcc" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">The first approach is the worst one because, on each iteration (for each row in the Q1 dataset), we calculate the list of unique user_ids. Then, we look up the element in the list with O(n) complexity. This operation takes 13 minutes.</li><li id="6131" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">The second approach, when we calculate the list first, is a bit better, but it still takes almost 6 minutes.</li><li id="bc3c" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">If we pre-calculate a list of user_ids and convert it into the set, we will get the result in a blink of an eye.</li></ul><p id="f98b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">As you can see, we can make our code more than 10K times faster with just basic knowledge. It’s a game-changer.</p><p id="436d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other general advice is to avoid using plain Python and prefer to use more performant data structures, such as <code class="cx qc qd qe pt b">pandas</code> or <code class="cx qc qd qe pt b">numpy</code>. These libraries are faster because they use vectorised operations on arrays, which are implemented on C. Usually, <code class="cx qc qd qe pt b">numpy</code> would show a bit better performance since <code class="cx qc qd qe pt b">pandas</code> is built on top of <code class="cx qc qd qe pt b">numpy</code> but has some additional functionality that slows it down a bit.</p><h1 id="9e3e" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Don’t forget the DRY principle.</h1><p id="7cbe" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">DRY stands for “Don’t Repeat Yourself” and is self-explanatory. This principle praises structured modular code that you can easily reuse.</p><p id="e31b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you’re copy-pasting a chunk of code for the third time, it’s a sign to think about the code structure and how to encapsulate this logic.</p><p id="573c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The standard analytical task is data wrangling, and we usually follow the procedural paradigm. So, the most apparent way to structure the code is functions. However, you might follow objective-oriented programming and create classes. In <a class="af qb" href="https://medium.com/towards-data-science/practical-computer-simulations-for-product-analysts-fe61e2b577f5" rel="noopener">my previous article</a>, I shared an example of the objective-oriented approach to simulations.</p><p id="7713" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The benefits of modular code are better readability, faster development and easier changes. For example, if you want to change your visualisation from a line chart to an area plot, you can do it in one place and re-run your code.</p><p id="51ab" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If you have a bunch of functions related to one particular domain, you can create a Python package for it to interact with these functions as with any other Python library. Here’s <a class="af qb" href="https://packaging.python.org/en/latest/tutorials/packaging-projects/" rel="noopener ugc nofollow" target="_blank">a detailed guide</a> on how to do it.</p><h1 id="0dd1" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Leverage testing</h1><p id="bb6e" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">The other topic that is, in my opinion, undervalued in the analytical world is testing. Software engineers often have KPIs on the test coverage, which might also be useful for analysts. However, in many cases, our tests will be related to the data rather than the code itself.</p><p id="f759" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The trick I’ve learned from one of my colleagues is to add tests on the data recency. We have multiple scripts for quarterly and annual reports that we run pretty rarely. So, he added a check to see whether the latest rows in the tables we’re using are after the end of the reporting period (it shows whether the table has been updated). In Python, you can use an <a class="af qb" href="https://www.w3schools.com/python/ref_keyword_assert.asp" rel="noopener ugc nofollow" target="_blank">assert</a> statement for this.</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="3cae" class="pw oo fq pt b bg px py l pz qa">assert last_record_time &gt;= datetime.date(2023, 5, 31) </span></pre><p id="1a24" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">If the condition is fulfilled, then nothing will happen. Otherwise, you will get an <code class="cx qc qd qe pt b">AssertionError</code> . It’s a quick and easy check that can help you spot problems early.</p><p id="4d51" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The other thing I prefer to validate is sum statistics. For example, if you’re slicing, dicing and transforming your data, it’s worth checking that the overall number of requests and metrics stays the same. Some common mistakes are:</p><ul class=""><li id="57c1" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">duplicates that emerged because of joins,</li><li id="2fe4" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">filtered-out <code class="cx qc qd qe pt b">None</code> values when you’re using <code class="cx qc qd qe pt b">pandas.groupby</code> function,</li><li id="8225" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">filtered-out dimensions because of inner joins.</li></ul><p id="2544" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Also, I always check data for duplicates. If you expect that each row will represent one user, then the number of rows should be equal to <code class="cx qc qd qe pt b">df.user_id.nunique()</code> . If it’s false, something is wrong with your data and needs investigation.</p><p id="aefc" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The trickiest and most helpful test is the sense check. Let’s discuss some possible approaches to it.</p><ul class=""><li id="c102" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">First, I would check whether the results make sense overall. For example, if 1-month retention equals 99% or I got 1 billion customers in Europe, there’s likely a bug in the code.</li><li id="2b1f" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Secondly, I will look for other data sources or previous research on this topic to validate that my results are feasible.</li><li id="a722" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">If you don’t have other similar research (for example, you’re estimating your potential revenue after launching the product in a new market), I would recommend you compare your numbers to those of other existing segments. For example, if your incremental effect on revenue after launching your product in yet another market equals 5x current income, I would say it’s a bit too optimistic and worth revisiting assumptions.</li></ul><p id="59d7" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I hope this mindset will help you achieve more feasible results.</p><h1 id="a87b" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Encourage the team to use Version Control Systems</h1><p id="d838" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">Engineers use version control systems even for the tiny projects they are working on their own. At the same time, I often see analysts using Google Sheets to store their queries. Since I’m a great proponent and advocate for keeping all the code in the repository, I can’t miss a chance to share my thoughts with you.</p><p id="1e57" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Why have I been using a repository for 10+ years of my data career? Here are the main benefits:</p><ul class=""><li id="e792" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk"><strong class="nl fr">Reproducibility</strong>. Quite often, we need to tweak the previous research (for example, add one more dimension or narrow research down to a specific segment) or just repeat the earlier calculations. If you store all the code in a structured way, you can quickly reproduce your prior work. It usually saves a lot of time.</li><li id="e3f5" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk"><strong class="nl fr">Transparency</strong>. Linking code to the results of your research allows your colleagues to understand the methodology to the tiniest detail, which brings more trust and naturally helps to spot bugs or potential improvements.</li><li id="db25" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk"><strong class="nl fr">Knowledge sharing</strong>. If you have a catalogue that is easy to navigate (or you link your code to Task Trackers), it makes it super-easy for your colleagues to find your code and not start an investigation from scratch.</li><li id="5a6f" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk"><strong class="nl fr">Rolling back</strong>. Have you ever been in a situation when your code was working yesterday, but then you changed something, and now it’s completely broken? I’ve been there many times before I started committing my code regularly. Version Control systems allow you to see the whole version history and compare the code or rollback to the previous working version.</li><li id="1824" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk"><strong class="nl fr">Collaboration</strong>. If you’re working on the code in collaboration with others, you can leverage version control systems to track and merge the changes.</li></ul><p id="2376" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I hope you can see its potential benefits now. Let me briefly share my usual setup to store code:</p><ul class=""><li id="f5fa" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">I use <code class="cx qc qd qe pt b">git</code> + <code class="cx qc qd qe pt b">Github</code> as a version control system, I’m this dinosaur who is still using the command line interface for git (it gives me the soothing feeling of control), but you can use the GitHub app or the functionality of your IDE.</li><li id="83a7" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Most of my work is research (code, numbers, charts, comments, etc.), so I store 95% of my code as Jupyter Notebooks.</li><li id="39ae" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">I link my code to the Jira tickets. I usually have a <code class="cx qc qd qe pt b">tasks</code> folder in my repository and name subfolders as ticket keys (for example, <code class="cx qc qd qe pt b">ANALYTICS-42</code>). Then, I place all the files related to the task in this subfolder. With such an approach, I can find code related to (almost) any task in seconds.</li></ul><p id="71a7" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">There are a bunch of nuances of working with Jupyter Notebooks in GitHub that are worth noting.</p><p id="de62" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">First, think about the output. When committing a Jupyter Notebook to the repository, you save input cells (your code or comments) and output. So, it’s worth being conscious about whether you actually want to share the output. It might contain PII or other sensitive data that I wouldn’t advise committing. Also, the output might be pretty big and non-informative, so it will just clutter your repository. When you’re saving 10+ MB Jupyter Notebook with some random data output, all your colleagues will load this data to their computers with the next <code class="cx qc qd qe pt b">git pull</code> command.</p><p id="3ae3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Charts in output might be especially problematic. We all like excellent interactive Plotly charts. Unfortunately, they are not rendered on GitHub UI, so your colleagues likely won’t see them. To overcome this obstacle, you might switch the output type for Plotly to PNG or JPEG.</p><pre class="ms mt mu mv mw ps pt pu bp pv bb bk"><span id="d916" class="pw oo fq pt b bg px py l pz qa">import plotly.io as pio<br/>pio.renderers.default = "jpeg"</span></pre><p id="8d71" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You can find more details about Plotly renderers in <a class="af qb" href="https://plotly.com/python/renderers/" rel="noopener ugc nofollow" target="_blank">the documentation</a>.</p><p id="8ac4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Last but not least, Jupyter Notebooks diffs are usually tricky. You would often like to understand the difference between 2 versions of the code. However, the default GitHub view won’t give you much helpful info because there is too much clutter due to changes in notebook metadata (like in the example below).</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qh"><img src="../Images/21628c600bc0cf4b7eed721c5d871342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kd4Er40HCkXeEMnnSTeFZg.png"/></div></div></figure><p id="c1e7" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Actually, GitHub has almost solved this issue. A <a class="af qb" href="https://github.blog/changelog/2023-03-01-feature-preview-rich-jupyter-notebook-diffs/" rel="noopener ugc nofollow" target="_blank">rich diffs functionality</a> in feature preview can make your life way easier — you just need to switch it on in settings.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qi"><img src="../Images/49953dcc47c5e4f0ba121118baefeaa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7YchnI6DYT7jo2oUGGtmQ.png"/></div></div></figure><p id="dd1d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">With this feature, we can easily see that there were just a couple of changes. I’ve changed the default renderer and parameters for retention curves (so a chart has been updated as well).</p><h1 id="e355" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Ask for a code review</h1><p id="3710" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">Engineers do peer reviews for (almost) all changes to the code. This process allows one to spot bugs early, stop bad actors or effectively share knowledge in the team.</p><p id="765d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Of course, it’s not a silver bullet: reviewers can miss bugs, or a bad actor might introduce a breach into the popular open-source project. For example, there was <a class="af qb" href="https://arstechnica.com/security/2024/03/backdoor-found-in-widely-used-linux-utility-breaks-encrypted-ssh-connections/" rel="noopener ugc nofollow" target="_blank">quite a scary story</a> of how a backdoor was planted into a compression tool widely used in popular Linux distributions.</p><p id="ba59" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, there is evidence that code review actually helps. McConnell shares the following stats in his iconic book <a class="af qb" href="https://www.amazon.co.uk/Code-Complete-Practical-Handbook-Construction/dp/0735619670" rel="noopener ugc nofollow" target="_blank">“Code Complete”</a>.</p><blockquote class="po pp pq"><p id="0385" class="nj nk pr nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">… software testing alone has limited effectiveness — the average defect detection rate is only 25 percent for unit testing, 35 percent for function testing, and 45 percent for integration testing. In contrast, the average effectiveness of design and code inspections are 55 and 60 percent.</p></blockquote><p id="7d2b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Despite all these benefits, analysts often don’t use code review at all. I can understand why it might be challenging:</p><ul class=""><li id="0b52" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">Analytical teams are usually smaller, and spending limited resources on double-checking might not sound reasonable.</li><li id="c8cf" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Quite often, analysts work in different domains, and you might end up being the only person who knows this domain well enough to do a code review.</li></ul><p id="c569" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, I really encourage you to do a code review, at least for critical things to mitigate risks. Here are the cases when I ask colleagues to double-check my code and assumptions:</p><ul class=""><li id="86fe" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">When I’m using data in a new domain, it’s always a good idea to ask an expert to review the assumptions used;</li><li id="9011" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">All the tasks related to customer communications or interventions since errors in such data might lead to significant impact (for example, we’ve communicated wrong information to customers or deactivated wrong people);</li><li id="12e9" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">High-stakes decisions: if you plan to invest six months of the team’s effort into the project, it’s worth double- and triple-checking;</li><li id="62f9" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">When results are unexpected: the first hypothesis to test when I see surprising results is to check for an error in code.</li></ul><p id="3142" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Of course, it’s not an exhaustive list, but I hope you can see my reasoning and use common sense to define when to reach out for code review.</p><h1 id="21d4" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Stay up-to-date</h1><p id="dcab" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">The famous Lewis Caroll quote represents the current state of the tech domain quite well.</p><blockquote class="po pp pq"><p id="020f" class="nj nk pr nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">… it takes all the running you can do, to keep in the same place. If you want to get somewhere else, you must run at least twice as fast as that.</p></blockquote><p id="d101" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Our field is constantly evolving: new papers are published every day, libraries are updated, new tools emerge and so on. It’s the same story for software engineers, data analysts, data scientists, etc.</p><p id="0538" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">There are so many sources of information right now that there’s no problem to find it:</p><ul class=""><li id="e6bf" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">weekly e-mails from Towards Data Science and some other subscriptions,</li><li id="7e76" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">following experts on LinkedIn and X (former Twitter),</li><li id="e176" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">subscribing to e-mail updates for the tools and libraries I use,</li><li id="12bb" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">attending local meet-ups.</li></ul><p id="1a46" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">A bit more tricky is to avoid being drowned by all the information. I try to focus on one thing at a time to prevent too much distraction.</p><h1 id="7d37" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Summary</h1><p id="d0b1" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">That’s it with the software engineering practices that can be helpful for analysts. Let me quickly recap them all here:</p><ul class=""><li id="c6b6" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh bk">Code is not for computers. It’s for people.</li><li id="07c2" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Automate repetitive tasks.</li><li id="1959" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Master your tools.</li><li id="a019" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Manage your environment.</li><li id="8f18" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Think about program performance.</li><li id="ad93" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Don’t forget the DRY principle.</li><li id="7c9a" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Leverage testing.</li><li id="78d0" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Encourage the team to use Version Control Systems.</li><li id="ff18" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Ask for a code review.</li><li id="de35" class="nj nk fq nl b go oi nn no gr oj nq nr ns ok nu nv nw ol ny nz oa om oc od oe of og oh bk">Stay up-to-date.</li></ul><p id="dba1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Data analytics combines skills from different domains, so I believe we can benefit greatly from learning the best practices of software engineers, product managers, designers, etc. By adopting the tried-and-true techniques of our colleagues, we can improve our effectiveness and efficiency. I highly encourage you to explore these adjacent domains as well.</p><blockquote class="po pp pq"><p id="e103" class="nj nk pr nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Thank you a lot for reading this article. I hope this article was insightful for you. If you have any follow-up questions or comments, please leave them in the comments section.</p></blockquote><h1 id="a6c8" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Reference</h1><p id="2f82" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk"><em class="pr">All the images are produced by the author unless otherwise stated.</em></p><h1 id="2075" class="on oo fq bf op oq or gq os ot ou gt ov ow ox oy oz pa pb pc pd pe pf pg ph pi bk">Acknowledgements</h1><p id="6148" class="pw-post-body-paragraph nj nk fq nl b go pj nn no gr pk nq nr ns pl nu nv nw pm ny nz oa pn oc od oe fj bk">I can’t miss a chance to express my heartfelt thanks to my partner, who has been sharing his engineering wisdom with me for ages and has reviewed all my articles.</p></div></div></div></div>    
</body>
</html>