<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Using Generative AI To Get Insights From Disorderly Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Using Generative AI To Get Insights From Disorderly Data</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-generative-ai-to-get-insights-from-disorderly-data-af056e5910eb?source=collection_archive---------0-----------------------#2024-09-03">https://towardsdatascience.com/using-generative-ai-to-get-insights-from-disorderly-data-af056e5910eb?source=collection_archive---------0-----------------------#2024-09-03</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="9d9e" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Best practices for using Large Language Models to extract actionable insights even with poor metadata</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@oansari?source=post_page---byline--af056e5910eb--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Omer Ansari" class="l ep by dd de cx" src="../Images/4e1ff96eb856567b55f8e7ef7e0278a1.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*_8tqR31Vf-MgXbtb92cmUg.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--af056e5910eb--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@oansari?source=post_page---byline--af056e5910eb--------------------------------" rel="noopener follow">Omer Ansari</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--af056e5910eb--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">32 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Sep 3, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">6</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div></div></div><div class="mj"><div class="ab cb"><div class="lm mk ln ml lo mm cf mn cg mo ci bh"><figure class="ms mt mu mv mw mj mx my paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq mr"><img src="../Images/4a79fc1bee50dacb05b4ccaac1c06b99.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*eUXcRnedjRkK2-K7STs3Fg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Best Practices checklist for analyzing messy data using genAI</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="401c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">This article shares some best practices on how we have used generative AI to analyze our data at my firm to more effectively run operations. It took a while but I was able to get approval from Marketing, Legal, Security, and PR teams at Salesforce to publish this article. I hope this helps you turbo-charge your data analysis as well.</p><p id="2289" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">All diagrams and figures in this article are directional and accurate to convey the concepts, but the data has been anonymized.</em></p><h1 id="83a5" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Insights-in-a-box</h1><ul class=""><li id="3117" class="nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe ph pi pj bk"><strong class="nl fr">Data Filtering with LLMs:</strong> No need to clean data at the source; use an LLM to purify data mid-stream.</li><li id="c2f7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Python Automation with GPT: </strong>Intermediate Python skills are typically needed for data extraction, modification, and visualization, but GPT can automate and speed up these tasks</li><li id="fc96" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Domain-Specific Ticket Filtering:</strong> When metadata is unreliable, filter tickets by the support engineers who worked on them.</li><li id="a5ab" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Reliable Data Extraction: </strong>Focus on extracting reliable fields like descriptions and timestamps, as these are less prone to errors.</li><li id="73aa" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Data Anonymization with GPT: </strong>Use GPT with open-source anonymizer libraries to anonymize data before sending it to public APIs.</li><li id="de4f" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Choosing Delimiters Carefully: </strong>Select output delimiters thoughtfully, ensuring they don’t interfere with language model processing, and sanitize input data by removing the chosen delimiter.</li><li id="a2a3" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Fine-Tuning GPT prompts for Accuracy: </strong>Evaluate and fine-tune the prompt’s performance on known ticket descriptions before full analysis.</li><li id="9297" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Contextual Data Limits: </strong>Be aware of GPT’s upper processing limits for contextually unrelated data chunks; stay 10% below the identified limit to avoid data loss.</li><li id="e887" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Brainstorming KPIs with GPT: </strong>After extracting metadata, use GPT to brainstorm and create meaningful KPIs for visualization.</li><li id="2ae7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Streamlined Data Visualization: </strong>Utilize GPT to write Python code to create graphs, keeping analysis streamlined and version-controlled within one environment instead of using a separate visualization tool.</li></ul></div></div></div><div class="ab cb pp pq pr ps" role="separator"><span class="pt by bm pu pv pw"/><span class="pt by bm pu pv pw"/><span class="pt by bm pu pv"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="0133" class="og oh fq bf oi oj px gq ol om py gt oo op pz or os ot qa ov ow ox qb oz pa pb bk">Summary</h1><p id="4190" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">Have you ever faced off against large volumes of unkempt and free form data entered by human beings and tried to make sense of it? It is an extremely brain-numbing and time consuming job, and unless you have dedicated time to pour over it, chances are that you have ended up just sampling the data, and walked away with surface insights likely using untrustworthy metadata. Typically not great mileage.</p><p id="0b4d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">It is not hard to see how large language models, which specialize in making sense of chaotic data, can help here. This article walks best practices gleaned from such an implementation, covering a range of concepts such as the most efficient method of using GPT to help you clean the data, do the analysis, and create useful graphs, approaches on managing Personally Identifiable Information (PII), a production-hardened prompt design, working around GPT’s ‘prefrontal cortex’ bottleneck and more!</p><p id="078b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">But before all that, I’ll start with sharing how this experience completely changed my own strongly-held opinion around Data Quality:</p><p id="32ff" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I used to believe that in order to improve data quality, you must fix it at the source, i.e. the Systems of Engagement. For example, I used to believe that for a Sales CRM, we must ensure Sales and Marketing teams are entering quality data and metadata in the beginning. Similarly for customer support, we have to ensure the Customer Support Engineers are selecting all the right metadata (ticket cause code, customer impact, etc) associated with the ticket at the inception, duration and closure of the ticket.</p><p id="9898" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">After my recent experiences, these beliefs have been smashed to bits. You can absolutely have unruly data at the source, and with the right direction, Large Language Models (LLMs) can still make sense of it resulting in meaningful insights!</p><p id="7588" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">No need to clean data at source: Like a water filter, you just plug an LLM in the middle of the stream and purify it!</em></strong></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qc"><img src="../Images/e7da3944a3aa757e1835c3aa5724cf07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TcbRIoNpRBlhpWI4ISM9YQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">GPT can act like a water filter, taking in information with dirty metadata and purifying it so that insights can be derived from it</figcaption></figure><p id="faaa" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Longer term, having processes in place to populate accurate metadata at source definitely help, though keep in mind they are are time consuming coordinate and audit.</p></div></div></div><div class="ab cb pp pq pr ps" role="separator"><span class="pt by bm pu pv pw"/><span class="pt by bm pu pv pw"/><span class="pt by bm pu pv"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="b1c0" class="og oh fq bf oi oj px gq ol om py gt oo op pz or os ot qa ov ow ox qb oz pa pb bk">Operating principles</h1><p id="e6d5" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">In order to conduct this analysis, I had two simple principles:</p><ol class=""><li id="2dc3" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk">Avoid disrupting my team’s current delivery: While it would have been easier for me to request someone in my team to do the analysis, it would have disrupted the team’s velocity on already ongoing projects. I had to figure out how to do all of the analysis myself, while doing my day job as a product development executive.</li><li id="49f7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Use Generative AI for everything: Large Language Models are great in data manipulation and, specifically for this use case, extracting value out of messy data. They are also much better than I am in coding. It’s just easier to tell someone to do things and inspect, than to get in the zone and do the work. This way, you can make a dent even with part-time effort.</li></ol><h1 id="c8c9" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Using GPT to write the analysis code too!</h1><p id="0dd3" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Getting data extracted, modified and visualized requires intermediate level Python coding, but now, GPT can do all that for you much faster, if not with higher quality. Use it!</em></p><p id="b3c3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In the following picture, I illustrate all the various steps (in green font) for which code was needed to be written to transform the data and then call the GPT API to extract insights from the ticket details. The best part is that I didn’t have to write this code from scratch. I used GPT to actually write it for me!</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq mr"><img src="../Images/adeb7281b8e58274d3dda1229ac9eb41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eUXcRnedjRkK2-K7STs3Fg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx"><em class="qe">All the steps involved for LLM-based ticket analysis</em></figcaption></figure><h1 id="d180" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">How I did the coding</h1><p id="5fbd" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">While I am reasonably decent with Python, using GPT to write code makes me at least 3x better. I used a very rudimentary method in writing code through GPT: I didn’t use it to execute any code. I just told GPT what the data looked like and asked it to write code for me. I asked GPT to liberally insert print statements to print out variables at different points in the code. Then I copied that code in a Jupyter Notebook on my laptop and executed it there. For example, my prompt would be something like:</p><p id="0aaf" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Me:</strong> <em class="of">Here are all the files I will use in my analysis. I’ll enumerate them and call them by their number in the prompt.</em></p><p id="5d26" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">1. “All Interacted Tickets.xlsx”</em></p><p id="eef1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">2. “Copy of Ticket Dump — Received from Ops.xlsx”</em></p><p id="d477" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">3. “verifying_accurate_list_of_ops_people_supporting_my_space.xlsx”</em></p><p id="8b59" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">They are all in the ../data/ directory.</em></p><p id="d5cc" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">Write python code to pull in files 1, 2, and 3 into pandas dataframes. Ignore all worksheets in any file which have the word pivot in them but pull in the data for the rest. Name the dataframes in snake case using the text in each of the worksheet itself in each of the excel files….</em></p><p id="b845" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Then, GPT would spit out code, such as:</p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="f8d0" class="qj oh fq qg b bg qk ql l qm qn">import pandas as pd<br/>import os<br/><br/># Define the file paths<br/>files = {<br/>1. "All Interacted Tickets.xlsx",<br/>2. "Copy of Ticket Dump - Received from Ops.xlsx",<br/>3. "Verifying_accurate_list_of_ops_people_supporting_my_space.xlsx"<br/>}<br/><br/>def snake_case(s):<br/>    return s.lower().replace(" ", "_")<br/><br/>def read_excel_sheets(file_path, ignore_pivot=True):<br/>    xl = pd.ExcelFile(file_path)<br/>    sheet_names = xl.sheet_names<br/>    ….&lt;code clipped&gt;</span></pre><p id="8f52" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I would then take this code and run it locally. If there was an error, I would paste the output (including the print statement output) into the <em class="of">“same”</em> chat as it preserves memory, and it was ‘mostly’ able to fix my issues. However, in some cases, GPT would get stuck (which you can recognize when it keeps recommending the same solution to an issue), I would start to interrogate it with more questions:</p><p id="2ecf" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Me:</strong> <em class="of">what is df = df[1:] doing</em></p><p id="14ce" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">GPT:</strong> <em class="of">The line df = df[1:] is used to drop the first row of the dataframe, which is typically the header row when the Excel file is read….</em></p><p id="3365" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Me:</strong> <em class="of">df = df[1:] is incorrect, I don’t want you to drop the first row. this is in fact the row you want to use for the header of each dataframe.</em></p><p id="0f48" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Therefore, if you develop code using GPT out-of-band like I did, a moderate knowledge of Python is useful to break through some code issues with GPT since it is pretty much blind to the context.</p><p id="53da" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">Note that if you use multi-agent frameworks, there is a chance that the agents would bounce the code off of each other and resolve these defects automatically. In a future post, I will be showing my local environment setup for data engineering and analytics which shows how to set up this multi-agent framework on your laptop. Please let me know in the comments if this would be of interest.</em></p><h1 id="5003" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step by Step approach on operational ticket analysis</h1><p id="50be" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">I came up with the following steps after several iterations and ‘missteps’! In other words, if I had to redo this analysis all over again, I would follow the following structure to streamline the process. So, I present this to you so you can reap the benefits. You’re welcome!</p><h1 id="eee2" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step 1: Filter out relevant tickets</h1><p id="0fa9" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">If metadata is unreliable, then filtering tickets related to your domain based on the support engineers who worked them is your best option.</em></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qo"><img src="../Images/7f3078578aa1e40a041c4f224d7add9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KSnrd6UPFsQuO3wNoF2eOA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx"><em class="qe">Filter out tickets for your team</em></figcaption></figure><p id="369c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">(You only need this step if you work in a medium to large organization and are one of many teams which leverage a shared operations team)</p><p id="ded5" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Reducing the working set of tickets to what is pertinent to just your department or team is an important filtering step that must be taken when you have a significant number of operational tickets being worked on in your firm. You will be sending these tickets through LLMs, and if you’re using a paid service like GPT4, you want to only be sending what is relevant to you!</p><p id="d2e0" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, deducing the working set of tickets is a problem when you have poor metadata. The support engineers may not have been instructed to mark which teams the tickets belonged to, or did not have good ticket categories to select from, so all you have to work with is some free form data and some basic “facts” that automatically got collected for these tickets. These facts range from who created the ticket, who owned it, timestamps associated with ticket creation, state change (if you’re lucky) , and ticket closure. There is other “subjective” data that likely exists as well, such as ticket priority. It’s fine to collect it, but these can be inaccurate as ticket creators tend to make everything they open as “urgent” or “high priority”. In my experience deriving the actual priority through LLMs is often more neutral thought it that still can be error-prone, as covered later.</p><p id="265f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">So, in other words, stick to the “facts”.</strong></p><p id="f996" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Amongst the “facts” that typically help you reduce the working set are the names of the support engineers that created and/or worked the ticket. Since support engineers also specialize in specific domains (data technologies vs CRM vs workday etc) the first step to take is to work with the support managers and identify the names of all the support engineers who work on the tickets associated in your domain.</p><p id="7876" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Then, using an identifiable key which, such as their work email address, you can filter the morass of tickets down to the subset germane to your department and pull down the “fact” metadata associated with those tickets.</p><p id="f247" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Completing this step also gives you your first statistic: How many tickets are getting opened for my space over a period of time.</p><h1 id="fa9a" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step 2: Extracting the “description” field and other metadata</h1><p id="7e11" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">While a ticket creator can get much metadata wrong, she can’t afford to mess up the description field because that is the one way she can communicate to the support team her issue and its business impact. This is perfect, as making sense of free flow data is GPT’s specialty. Therefore, focus on extracting the description field and other factual “hard to mess up data” like ticket start and end time etc.</em></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qp"><img src="../Images/025260409e2575cca5cc8790ed05b061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mtUR8a4gUrnwjboOQgaS3Q.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx"><em class="qe">Enrich the filtered tickets with metadata, especially the Description field</em></figcaption></figure><p id="78bc" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Most ticketing systems like Jira Service Management, Zendesk, Service Now etc allow you to download ticket metadata, including the long, multi-line description field. (I wasn’t as lucky with the homegrown system we use at my work). However, almost all of them have a maximum number of tickets that can be downloaded at one time. A more automated way, and the route I took, was to extract this data using an API. In this case, you need to have the curated set of tickets that were worked on by the support engineers supporting your teams from Step1, and then loop over each ticket, calling the API to pull down its metadata.</p><p id="767c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Some other systems allow you to issue SQL (or SOQL in case of Salesforce products) queries through an ODBC-like interface which is cool because you can combine step 1 and step 2 together in one go using the WHERE clause. Here’s an example pseudo-code:</p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="18ea" class="qj oh fq qg b bg qk ql l qm qn">SELECT ticket_number, ticket_description, ticket_creation_date, blah blah <br/>FROM ticket_table <br/>WHERE ticket_owners include "johndoe@company.com, janedang@company.com" ...</span></pre><p id="04c3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">You get the idea…</p><p id="2815" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Save this data in MS-Excel format and store it on disk.</p><p id="1f2f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">Why MS-Excel</em></strong><em class="of">? I like to “serialize” tabular data into MS-Excel format as that removes any issues with escaping or recurring delimiters when pulling this data into Python code. The Excel format encodes each data point into its own “cell” and there are no parsing errors and no column misalignment due to special characters / delimiters buried inside text. Further, when pulling this data into Python, I can use Pandas (a popular tabular data manipulation library) to pull the Excel data into a dataframe using its simple excel import option</em></p><h1 id="9b7a" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step 3: Converting data into a GPT-friendly format (JSON)</h1><p id="402f" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">JSON is human readable, machine readable, error-safe, easily troubleshot, and easily manipulated with the least error by GPT. Further, as you enrich your data you can keep hydrating the same JSON structure with new fields. It’s beautiful!</em></p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="b508" class="qj oh fq qg b bg qk ql l qm qn">"16220417": {<br/>        "description": "Hi Team, \nThe FACT_XYZ_TABLE has not refreshed in time. Typically the data is available at 10am PST, but when I see the job, it has been completing several hours late consistently for the last few weeks. Also, it is 11am, and I see that it is still in running state!\n\n It is critical that this table is completed in time, so we have enough time to prepare an important sales executive report by 8am every morning. Please treat this with urgency.",<br/>        "opened_priority": "P2 - Urgent",<br/>        "origin": "Helpdesk ticket portal",<br/>        "closedDate": "2024-02-26T07:04:54.000Z",<br/>        "createdDate": "2024-02-01T09:03:43.000Z",<br/>        "ownerName": "Tom Cruise (Support Engineer)",<br/>        "ownerEmail": "tcruise@shoddy.com",<br/>        "contactName": "Shoddy Joe (Stakeholder)",<br/>        "contactEmail": "sjoe@shoddy.com",<br/>        "createdByName": "Shoddy Joe (Stakeholder)",<br/>        "createdByEmail": "sjoe@shoddy.com",<br/>        "ticket_status": "closed"<br/>    },</span></pre><p id="6bde" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">The above snippet shows a sample JSON-ified ticket metadata with ticket number as key, pointing to an object containing further key/value metadata. There would be lots of these types of JSON blocks in the file, one for each ticket.</em></p><p id="812c" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">After some hit and trial iterations, I realized the most efficient way for GPT to write data processing code for me was to convert my data into a json format and share this format with GPT to operate on. There is nothing wrong with shoving this data into a pandas data frame, and it may even be easier to do that step to efficiently process, clean and transform this data. The big reason why I have landed on eventually converting the final data set into JSON is because sending tabular data into a GPT prompt is kludgy. It is hard to read for humans and also introduces errors for the LLM as explained below.</p><p id="6332" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">When you’re introducing tables into a prompt, it has to be done through a comma-separated-value (csv) format. There are two problems with that</p><ol class=""><li id="6c2c" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk">Since there can be commas inside the text as well, you have to further escape those commas, by putting the text inside double quotes (for example, “text one”, “text, two”, “test \“hi!\”” . That introduces another problem:</li><li id="5ef7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">what if you have double quotes (“) inside that text block. Now you have to further escape those double quotes. Matching separating these values into separate columns invariably brings issues.</li></ol><p id="a5d1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">And yes, while you have to escape double within JSON too (eg “key”: “value has \”quotes\””) , there are absolutely no issues in aligning this value to a column since the “key” uniquely identifies that. The column alignment can go off in some edge cases in a csv format, and then it becomes very hard to troubleshoot what went wrong.</p><p id="2586" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Another reason for using JSON is that you can cleanly see and differentiate when you augment your metadata through GPT in future steps; it just adds more key value values horizontally down. You could do that in a table too, but that mostly requires a scroll towards the right in your IDE or notebook.</p><p id="82a1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">Pro-tip:</em></strong><em class="of"> In a future step, you will be sending this data into GPT, and will ask it to return multiple fields separated by a delimiter, such as “|”. Therefore, this is a good time to remove any occurrence of this delimiter from the free-form field that you are passing into the JSON format. You don’t want to risk GPT sending “|” out in the field itself</em></p><h1 id="afdf" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step 4: Enhancing data using simple techniques (aka Basic Feature Engineering)</h1><p id="3fab" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Simple mathematical analysis like, time deltas, averages, standard deviations can easily, and more cheaply, be done using basic coding, so get GPT to write code to do that and run that code locally, instead of sending GPT the data to do the math for you. Language models have been shown to make mathematical mistakes, so best to use them for what they’re good for.</em></p><p id="3315" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">First, we can enhance the ticket metadata by aggregating some of the basic information in it. This is a pre-step which is better done with some simple code instead of burning GPT credits for it.</p><p id="0633" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In this case, we calculate the ticket duration by subtracting CreatedTime from ClosedTime.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq qq"><img src="../Images/aeb4719e96d239cba4db56479bca4677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5H4FzGS-70abNsKYFkiZ4g.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx"><em class="qe">left to right a JSON showing as getting hydrated through basic data aggregation/enhancement</em></figcaption></figure><h1 id="0fa7" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Step 6: The Main Entree: GPT-driven data enhancement (enhanced Feature Engineering)</h1><p id="6f84" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">Now we come to the main entree. How to use GPT to transform raw data and derive sophisticated and structured metadata from which insights can be extracted. In the world of data science, this step is called Feature Engineering.</p><h2 id="5a8e" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">6.1: Pre-processing: Obfuscate sensitive information (optional)</h2><p id="feab" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Get GPT to use open source anonymizer libraries and develop code to anonymize the data before you send it to a public API service.</em></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq ri"><img src="../Images/ac37bfa07b5d49b68c3675ad9d33a925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qtqRyXKjs05XlZe0"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Photo by <a class="af rj" href="https://unsplash.com/@kylejglenn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kyle Glenn</a> on <a class="af rj" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="27f0" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">This step applies to you in case you are using openAI and not a local open source LLM where the data stays on your laptop. In a future post, I will be showing my local environment setup for data engineering and analytics which shows an open-source LLM option.</p><p id="145a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In the firm I work in, we have a safe proxy gateway both to openAI as well as internally trained LLMs,and it can mask Privately Identifiable Information (PII) and operates the Open AI within a Trusted boundary. This is convenient because I can send all internal information to this proxy and enjoy the benefits of openAI cutting models in a safe way.</p><p id="79b1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, I realize not all companies are going to have this luxury. Therefore, I’m adding an optional step here to obfuscate personally identifiable information (PII) or other sensitive data. The beautiful part of all this is that GPT knows about these libraries and can be used to write the code which obfuscates the data too!</p><p id="f0b3" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I evaluated five libraries for this purpose, but the critical feature I was looking for was the ability to convert sensitive information to anonymous data, and then be able to re-convert it back as well. I found only the following libraries which have this capability.</p><ul class=""><li id="6ea6" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">Microsoft Presidio [<a class="af rj" href="https://github.com/microsoft/presidio" rel="noopener ugc nofollow" target="_blank">link</a>] (uses the concept of entity mappings)</li><li id="e64d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Gretel synthetics [<a class="af rj" href="https://github.com/gretelai/gretel-synthetics" rel="noopener ugc nofollow" target="_blank">link</a>] (uses the concept of “Tokenizer)</li></ul><p id="11d2" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Out of these two, Presidio was my favorite. I continue to be impressed to see the amount of “high quality” open source contributions Microsoft has made over the last decade. This set of python libraries is no different. It has the capabilities of identifying PII type data out of the box, and to customize and specify other data which needs to be anonymized.</p><p id="bfe1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here’s an example:</p><p id="7ee8" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">original text:</p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="b0d0" class="qj oh fq qg b bg qk ql l qm qn">('Peter gave his book to Heidi which later gave it to Nicole. <br/>Peter lives in London and Nicole lives in Tashkent.')</span></pre><p id="3230" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Anonymized test:</p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="ea4f" class="qj oh fq qg b bg qk ql l qm qn">'&lt;PERSON_1&gt; gave his book to &lt;PERSON_2&gt; which later gave it to &lt;PERSON_0&gt;. <br/>&lt;PERSON_1&gt; lives in &lt;LOCATION_1&gt; and &lt;PERSON_0&gt; lives in &lt;LOCATION_0&gt;.`</span></pre><p id="2080" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">This can be sent to GPT for analysis. When it returns the results, you run that through the mapping to de-anonymize it:</p><p id="64c6" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">Entity mappings</em></p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="a2a6" class="qj oh fq qg b bg qk ql l qm qn">{ 'LOCATION': {'London': '&lt;LOCATION_1&gt;', 'Tashkent': '&lt;LOCATION_0&gt;'},<br/> 'PERSON': { 'Heidi': '&lt;PERSON_2&gt;',<br/> 'Nicole': '&lt;PERSON_0&gt;',<br/> 'Peter': '&lt;PERSON_1&gt;'}<br/>}</span></pre><p id="5329" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Using Entity mappings the text can be de-anonymized:</p><p id="4760" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">de-anonymized text:</em></p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="61b2" class="qj oh fq qg b bg qk ql l qm qn">('Peter gave his book to Heidi which later gave it to Nicole. <br/>Peter lives in London and Nicole lives in Tashkent.')</span></pre><p id="ca1f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I recommend checking out this <a class="af rj" href="https://github.com/microsoft/presidio/blob/main/docs/samples/python/pseudonomyzation.ipynb" rel="noopener ugc nofollow" target="_blank">notebook</a>, which walks you on how to implement this approach.</p><p id="5748" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Note that apart from PII, other information that may need to be obfuscated is systems information (IP addresses, DNS names etc) and database details like (names, schemas etc)</p><p id="1446" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Now that we have a mechanism to anonymize sensitive data, the next step was to create a high quality prompt to run on this data.</p><h2 id="fb34" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">6.2 Pre-processing: Sanitize the input data</h2><p id="1e47" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Be thoughtful in choosing an output delimiter, as certain special characters hold “meaning” in language models. Then, you can feel secure in sanitizing the raw input by removing the delimiter you chose.</em></p><p id="b70f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Problem:</strong> When asking a text based interface, like an LLM, to return tabular data, you have to tell it to output the data separated by delimiters (e.g. csv, or tsv format). Suppose you ask GPT to output the summarized data (aka “features”) in comma separated values. The challenge is that the input ticket data is raw and unpredictable, and someone could have used commas in their description. This technically should not have been a problem since GPT would have transformed this data and thrown out the commas coming into it, but there was still a risk that GPT could use part of the raw data (which included commas) in its output, say in the one-liner summary. The experienced data engineering folks have probably caught on to the problem by now. When your data values themselves contain the delimiter that is supposed to separate them, you can have all sorts of processing issues.</p><p id="f633" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Some may ask: Why don’t you escape all these by encapsulating the value in double quotes. E.g.</p><p id="605d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">“key” : “this, is the value, with all these characters !#@$| escaped” .</em></p><p id="2182" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here’s the issue with that. The user could have input double quotes in their data too!</p><p id="1517" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">“key” : “this is a ”value” with double quotes, and it is a problem!”</em></p><p id="7694" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Yes, there are ways in solving this issue too, like using multi line regular expressions, but they make your code complicated, and make it harder for GPT to fix defects. So the easiest way to handle this was to choose an output delimiter, which would have the least impact in losing data context if scrubbed from the input, and then scrub it out of the input data!</p><p id="38c6" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I also played around with delimiters that would sure shot not be in the input data like |%|, but I quickly realized that these ate up the output token limits fast, so this was out.</p><p id="3b49" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here are a few delimiters I tested</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rk"><img src="../Images/aca1199ad8e405e8afb806caefa6ca38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9dervItiVoFS7R0-LRB16g.png"/></div></div></figure><p id="af33" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In the end, I ended up selecting the pipe “|” delimiter as this is not something most stakeholders used when expressing their issues in the ticket description.</p><p id="f061" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">After this, I got GPT to write some extra code to sanitize each ticket’s description by removing “|” from the text.</p><h1 id="e584" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">6.3 — Prompt Performance tuning</h1><p id="6797" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front: </strong><em class="of">Before running the GPT data analysis prompt, evaluate its performance against a set of ticket descriptions with known output, fine tune the prompt and iterate until you are getting the maximum performance scores.</em></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rl"><img src="../Images/af718fc5daecca0a49290beed5fec94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YP4a2McRyoGqas6OSWHL3g.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">iteratively improving the prompt using measures</figcaption></figure><p id="f5a2" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Goal: </strong>To have GPT read the ticket description written by the customer and just from that, derive the following metadata which can then be aggregated and visualized later:</p><ol class=""><li id="a0ba" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk">Descriptive title summarizing the issue</li><li id="0f74" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Business Impact*</li><li id="135d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Ticket Severity*</li><li id="8d6f" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Ticket Complexity</li><li id="e241" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Impacted stakeholder group</li><li id="565c" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Owning team</li><li id="b3d6" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">Ticket category</li></ol><p id="60dc" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">* based on impact and urgency if provided by customer</em></p><p id="a6c6" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Approach: </strong>The way I worked on sharpening the main prompt was to</p><ol class=""><li id="5dcd" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk">sample a few control tickets,</li><li id="fd0a" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">manually classify each of them the same way I wanted GPT to do them (by Category, Complexity, Stakeholder (Customer) group etc),</li><li id="2eb4" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">run these control tickets through a designed prompt GPT,</li><li id="0a9d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">cross-compare GPT results against my own manual classification,</li><li id="232f" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">score the performance of GPT’s classification against each dimension, and</li><li id="16a5" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">improve the GPT prompt based on whichever dimension scored lower in order to improve it</li></ol><p id="3361" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">This gave me important feedback which helped me sharpen my GPT prompt to get better and better scores against each dimension. For the final prompt, check out <a class="af rj" href="https://docs.google.com/document/d/1-GEMcOa0OF3-rLsVP6F1ZgVfMYcEjsltmbGIIjxbEC4/edit#heading=h.4k28p1gr2x2r" rel="noopener ugc nofollow" target="_blank">Appendix: The GPT prompt to process ticket descriptions</a>.</p><p id="59b1" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Results:</strong></p><p id="3029" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here are the details around this metadata derived from raw ticket description, and the overall performance scores after multiple iterations of fine-tuning the prompt:</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rm"><img src="../Images/ceb381d6fdc2ae2439dc700557c5238d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIpWUqtcUt0MhQD-zMJ4bw.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">LLM Performance on metadata creation</figcaption></figure><p id="e1ac" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here’s my rationale on why certain dimensions scored low despite multiple turns:</p><ul class=""><li id="d950" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr">Complexity: </strong>I did run into a challenge when scoring “Complexity” for each ticket, where GPT scored the complexity of a ticket much higher than it was, based on its description. When I told it to score more aggressively, the pendulum swung the other direction, and, like a dog trying to please its owner, it started to score complexity much lower, so it was unreliable. I suspect the out-of-the-box behavior of scoring complexity higher than it is supposed to be is because of the current state of the art GPT capabilities. I used GPT4, which is considered to be a smart high school student, so naturally a highschool student would score this complexity higher. I suspect that future versions of these frontier models would bring college level and then phD level abilities, and we would be able to more accurately measure the complexity of such tasks. Alternatively, to improve even GPT4 complexity scoring analysis, I could have used the “few-shot” learning technique here to give some examples of complexity which may have improved the performance score for this dimension.</li><li id="b155" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr">Severity: </strong>While I asked GPT to use the impact vs urgency matrix to score severity, GPT had to rely on whatever the stakeholder had provided in the ticket description, which could be misleading. We are all guilty of using words designed to provoke faster action, when we open internal tickets with IT. Further, the stakeholder didn’t even provide any impact detail in the ticket description in a non-trivial amount of cases, which lead GPT to select an erroneous severity as well.</li></ul><p id="68cb" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Despite some metadata dimensions scoring low, I was pleased with the overall output. GPT was scoring high in some critical metadata like title, and category, and I could run with that.</p><p id="dc97" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The prompt was in good shape, but I was about to run into an interesting GPT limitation, its “forgetfulness”.</p><h2 id="dba6" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">6.4 — Figuring out the limits of GPTs forgetfulness</h2><p id="418b" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">When sending in contextually</em> <strong class="nl fr">unrelated</strong> <em class="of">chunks of data (such as many ticket descriptions) into a GPT prompt, the upper processing limit can be much less than what you get by stuffing the maximum chunks allowed by input token limit. (In my case this upper limit ranged between 20 to 30). GPT was observed to consistently forget or ignore processing beyond this limit. Identify this through hit and trial, stick to a number 10% below that limit to avoid data loss.</em></p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rn"><img src="../Images/4904abf7add8a68f0b719cd9d581f78d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nt_zme3VTFN8Moph"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Photo by <a class="af rj" href="https://unsplash.com/@bamin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pierre Bamin</a> on <a class="af rj" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e833" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Humans can keep 5–7 unrelated things in our prefrontal cortex, and it turns out GPT can keep 30–40 unrelated things, no matter how big its context window. I was only really sending the ticket number and description. The rest of the data did not require any fancy inference.</p><p id="601b" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Since I had almost 3000 tickets for GPT to review, my original inclination was to try to maximize my round trip runs and “pack” as many case descriptions I could into each prompt. I came up with an elaborate methodology to identify average token size based on the number of words (as token is a sub-word, in the transformer architecture), and saw that I could fit around 130 case descriptions in each prompt.</p><p id="5432" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">But then I started seeing a weird phenomena. No matter how many ticket descriptions I sent into GPT to process, it consistently only processed just the first 20 to 30 tickets! GPT appeared to not have the capacity to handle more than this magic number.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq ro"><img src="../Images/a8e6ee9426c5b24d82e83bc9a321cd36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uRJi4sQxle4yZMzH5D4tnQ.png"/></div></div></figure><p id="0001" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">This made me change my strategy and I decided to decrease the ticket batch size to maximum 10–12 tickets for each API call, based on the word count for that chunk, a little below the 20–30 upper limit. While this approach certainly increased the number of calls, and therefore prolonged the time for the analysis, it ensured that no tickets got dropped for processing.</p><pre class="ms mt mu mv mw qf qg qh bp qi bb bk"><span id="f74f" class="qj oh fq qg b bg qk ql l qm qn">*Total tickets chunked: 3012*<br/><br/>*The full ticket data has been chunked into 309 chunks:*<br/>*Chunk 0: Number of words = 674*<br/>*Chunk 0: Number of tickets = 12*<br/>*Chunk 1: Number of words = 661*<br/>*Chunk 1: Number of tickets = 12*<br/>*Chunk 2: Number of words = 652*<br/>*Chunk 2: Number of tickets = 12*<br/>*Chunk 3: Number of words = 638*<br/>*Chunk 3: Number of tickets = 7*<br/>*Chunk 4: Number of words = 654*<br/>*….*</span></pre><p id="849d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">When reviewing this with an AI architect in my firm, he did mention that this is a recently observed phenomena in GPT. The large input contexts only work well when you have contextually related data being fed in. It does break down when you are feeding disparate chunks of information into GPT and asking it to process completely unrelated pieces of data in one go. This is exactly what I observed.</p><p id="06c6" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">With an optimal ticket batch size of 10–12 tickets identified and a performant prompt created, it was time to run all the batches through the prompt..</p><h2 id="1bb0" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">6.5 Show time! Running all the tickets through GPT</h2><p id="ad7f" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">GPT can analyze tickets in hours when the same amount can take weeks or months by humans. Also it’s extraordinarily cheaper, though there is an error rate associated with GPT.</em></p><p id="a7bd" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I provided GPT with the JSON format to write me code which did the following:</p><ul class=""><li id="ae97" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">Load the JSON data into a dictionary</li><li id="8738" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Iterate 10–12 tickets at a time, concatenating the GPT analysis prompt with these tickets into the FULL GPT prompt, separating each ticket/description tuple by ###</li><li id="3ea7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Sending the full prompt to the GPT API (For work, I called a safer internal wrapper of this same API that my firm has built, which has security and privacy embedded into it, but by using the obfuscator step earlier, you can just as safely use the external GPT API.)</li><li id="8fc1" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Save the output, which came out as a pipe-separated format by concatenating that into a file on disk.</li><li id="6348" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Running the de-anonymizer, if obfuscation was done earlier. (I didn’t need to write this step due to the internal GPT wrapper API my firm has built)</li><li id="3f15" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Convert the output into the original JSON file as well.</li><li id="6d8d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Save the JSON file on disk after the full run is completed*.</li><li id="8662" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Print some visible queues on how many tickets had been processed</li><li id="f931" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Time some states for each API call around text processed, number of tickets, start and end time.</li></ul><p id="2808" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Why saving to disk after a good run is pragmatic: </strong><em class="of">These are costly runs, from a time perspective more than a money perspective. So after a successful run is completed, it is wise to serialize (save) this data on this disk, so that future analysis can be run on saved data and this code block in the Jupyter notebook doesn’t have to be repeated. In fact, after a successful run, I commented out the whole code block within my notebook, so that if I ran the full notebook start to finish, it would just skip this expensive step again and instead load the JSON data from disk into memory and continue on with the analysis.</em></p><p id="20b8" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here’s a sample output of the fully hydrated JSON. The blue entries were metadata that GPT extracted from the description field</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rp"><img src="../Images/12724fc1e5db3af567ce6f798edb3710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vRnlh0JVwtSxjFu0eno4Zg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Structured metadata that GPT came up from the raw information hydrated back in JSON format</figcaption></figure><p id="66e0" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I ran about 3000 tickets through this cycle, and it completed in about 2.95 hours. 👏</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rq"><img src="../Images/14959c841756e19355fd7e58c3c3ea63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kSLq1VHyq-xEy4VF"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Photo by <a class="af rj" href="https://unsplash.com/@nagaranbasaran?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nagara Oyodo</a> on <a class="af rj" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6cc2" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Just to give you a comparison point on how long this would have taken if I had employed human beings for this work: I had a similar experience to draw from 2 years ago (aka the pre-GenAI era). I had inherited an Operations team and there was poor metadata in the tickets too. I needed to get situational awareness, so I had to sanction 2 of my senior engineers full time for a month to laboriously and meticulously go through 1500 ticket descriptions and classify them.</p><p id="d2d5" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Contrast this with GPT. Even with the smaller batch size of 10-15 tickets per API call, GPT did 2800 tickets in 2.95 hours! Yes, while there was an error rate of 10% with GPT, it still analyzed <strong class="nl fr">twice as more</strong> tickets in 3 hours than 2 human beings did in 1 month.</p><p id="8b0d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">So the time savings is clearly insane, but what about the cost comparison?</p><h2 id="ac55" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">GPT4 vs human analysis cost comparison</h2><p id="ca36" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">I asked GPT to help me with the cost comparison. Note I compared human labor for 2 months to match the ticket count the GPT analyzed.</p><p id="ce27" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Prompt:</strong> how much does gpt4 cost if I use its API for 2.95 hours, compared to 2 senior IT software engineers one based out of the Midwest and another working from India, working full time on the same project for 2 months (excluding weekends).</p><p id="378a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Salary Estimates:</strong></p><p id="88f4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Midwest (USA) Senior IT Software Engineer:</p><ul class=""><li id="2e53" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">Average annual salary: $120,000 (this can vary depending on the exact location and company, but it’s typically lower than Silicon Valley).</li><li id="a8b1" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Monthly salary: $120,000 / 12 = $10,000.</li></ul><p id="2fec" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">India-based Senior IT Software Engineer:</p><ul class=""><li id="7d49" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">Average annual salary: $30,000 (this can vary, but it’s generally much lower than in the USA).</li><li id="e6f9" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Monthly salary: $30,000 / 12 = $2,500.</li></ul><p id="d84f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">Cost Calculation for 2 months:</strong></p><ul class=""><li id="9974" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">Midwest Engineer: 2 month salary: $20,000.</li><li id="150f" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">India-based Engineer: 2 month salary: $5,000.</li><li id="19e1" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Total cost for both engineers: $25,000</li></ul><p id="ab31" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr">GPT-4 API cost for 2.95 hours</strong>: ~$6.64 assuming GPT-4–8k pricing and the given token usage rate. (GPT4-o or GPT4-o mini would have been even more cheaper.)</p><p id="f186" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Even if you added in the cost of the 20 hours I worked on this project over 7 days, the overall cost comparison still comes out much better. And what’s more, this work is now reproducible.</p><p id="b837" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">So basically, using $7 and 3 hours, GPT does the same analysis humans would have taken 1 month and cost $25,000 to complete</em></strong></p><p id="8327" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">🎤 Mic drop!</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rn"><img src="../Images/ad6f00a9f6688f5826dc72d7c74a0fda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1dUqAQ0gM-rjrWrx"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Photo by <a class="af rj" href="https://unsplash.com/@shotbygaines?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andrew Gaines</a> on <a class="af rj" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="790a" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">Step 7 : Extracting insights from the GPT-derived metadata</h2><p id="ea10" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Once you have extracted useful metadata using GPT, turn around and brainstorm with GPT what kind of KPIs you can graph out of it.</em></p><p id="1194" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">While there were already things I was curious to find out, I also brainstormed with GPT to give me more ideas. Again, using a JSON format was very handy, I just passed an anonymized sample for one ticket to GPT and asked it, <em class="of">”Based on what you see over here, give me some ideas on what type of graphs I can plot to derive insights around my operations”</em></p><p id="94a4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">In the end here are the ideas that we both came up with. I took some, and ignored the others.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rr"><img src="../Images/8a9ccaee2d28fe3df5b62eba6bbd0fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAMkux5YZhfCoYweL7HwdQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Brainstorming with GPT on what KPIs to visualize..</figcaption></figure><h2 id="913a" class="qr oh fq bf oi qs qt qu ol qv qw qx oo ns qy qz ra nw rb rc rd oa re rf rg rh bk">Step 8 : The visualization</h2><p id="4667" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk"><strong class="nl fr">Bottom-line up front:</strong> <em class="of">Thanks to GPT you can write Python code to create graphs, instead of transforming data in Python and moving this data out to a visualization tool. This helps keep all your analysis streamlined, version-controlled and self contained in one place.</em></p><p id="cb52" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Historically, a typical pattern in Exploratory data analysis (EDA) is to extract, and transform the data in Python and then store it in a file or a database and then connect Tableau, Power BI , or Looker to this data to create graphs using it. While having long-living dashboards in these visualization products is absolutely the way to go, using these products for doing early-stage EDA can be a high friction process which introduces delays. It also becomes hard to manage and match different versions of the graphs with the different versions of the data transformations done. However, following this two-step pattern was a necessary evil historically for two reasons:</p><ol class=""><li id="f699" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk">(Pull) These visualization tools are intuitive and have a drag and drop interface, meaning you can experiment and create graphs very fast.</li><li id="812b" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk">(Push) The de facto Python library for generating graphs is matplotlib. I don’t know about you, but I find matplotlib a very unfriendly library (unlike the intuitive ggplot library in R, which is a joy to use). Seaborn is better, but still, its more work than the visualization tools.</li></ol><p id="d51d" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">However, now that GPT can write all the matplotlib (or seaborn, or plotly,) code for you, there is less of a need to move your work to a visualization tool at the end. You can stay within the same Python Notebook from start to finish, and that’s exactly what I did!</p><p id="046f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">I did check Tableau to verify if some of the moderately complex aggregation logic was correctly being computed in Python (and in fact this helped me find a bug) but by and large, all the graphics I needed were built using scatter, bar , line , histogram and pie plots within Python.</p><p id="9835" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Here are some examples of these graphs and tables. The text and numbers are of course anonymized but the intent here is to show you the kind of insights you can start extracting.</p><p id="71e4" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">The goal for any insight is to drive deeper questions and eventually take meaningful action grounded in data, which eventually results in creating value.</em></strong></p><p id="744a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">The insight is what gets you curious about why the system is behaving the way it is, so you can attempt to improve it.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rs"><img src="../Images/3b78ee7b1787c70a828823463ed9fd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6iGuo_WGcUMiCJkh8O8qFQ.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">How do the complexity of tickets exactly contribute to the time duration of that ticket and which groups of tickets to focus on to reduce their time duration and improve customer satisfaction.</figcaption></figure><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rt"><img src="../Images/3d310bc3496219a6fb55a123c3d0f816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*inbA0tsAYqvSoqVFkFhjkg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Identify If there is a relation with ticket duration and the support engineer working on it, so you can suss out behavioral or training issues</figcaption></figure><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq ru"><img src="../Images/b9ed493745f54112106775e817ac0d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DV41J5F9ThhAk0bvaniLzA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Which engineering team receives the largest number of tickets and how is that trend progressing.</figcaption></figure><p id="ee5f" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Working on service requests (pure operations work) is a hidden cost to quantify since it needs to be deducted from an engineering team’s sprint velocity. In absence of this data, engineering teams typically allocate a ‘finger in the air’ % of their time to operations work, which we all know is blunt and varies from team to team. With this type of analysis you can more accurately carve capacity for such operations work while not compromising the team’s product commitments or burning the individuals out.</p><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rv"><img src="../Images/0ae3125d560c0e72596b89927b47ad90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-AKu37yG4r7zheTGjBZuA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">What are the trends of these tickets by category? Do we see more timeliness issues vs accuracy problems?</figcaption></figure><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rw"><img src="../Images/e81cba556a2f44af96f59fbf5107e277.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qzWTxorPUiucanI6Gmeb7Q.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">Which interfaces do our customers use to open the tickets the most so we can streamline and optimize those areas, perhaps inserting helpful articles for self-service.</figcaption></figure><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq rx"><img src="../Images/e584b62b59d366fe872b2c231094be9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LGQKU8jHnRa33qIFpUUpnA.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">How many tickets are 1 day old, and are there any patterns in the ops personnel where some are cherry picking a lot of these simple cases than others. This can help with balancing resource management.</figcaption></figure><figure class="ms mt mu mv mw mj mp mq paragraph-image"><div role="button" tabindex="0" class="mz na ed nb bh nc"><div class="mp mq ry"><img src="../Images/b5570ade930bda38719a96ed1984c9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjYAuBltncKJyzNDfdK8fg.png"/></div></div><figcaption class="ne nf ng mp mq nh ni bf b bg z dx">How many tickets were truly low complexity issues such as data access or systems access, things for which automation and self-serve options can be put in place.</figcaption></figure><h1 id="e63a" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Future enhancements</h1><ol class=""><li id="3422" class="nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe qd pi pj bk"><strong class="nl fr">Deeper Analysis using GPT’s Data Science capabilities: </strong>This analysis, however very insightful, was just at a surface level just visualizing the data. There can be more sophisticated work that can be done by using linear or logistic regression, ANOVA for predictive analysis, or using clustering methods (like KNN) to tease out other patterns in the data.</li><li id="ffe7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk"><strong class="nl fr">Multi-Agent Framework to accelerate and improve quality:</strong></li></ol><ul class=""><li id="f35f" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk">I had to do a lot of rounds back and forth with GPT to write the actual code. While it was still significantly faster (7 days part time) than what would have taken me writing this from scratch (20-30 days full time, which means “never”!), I do think using LLM-backed AI agents which can critique each other’s output and come up with better ways. (This is something I’m actively experimenting with at work and initial experiments are VERY encouraging. Will write more on this in the future)</li><li id="cde6" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">GPT was really blind when it came to recommending code. I copied code from it and ran it locally in my jupyter notebook. A better way would have been to have a MAF setup with an environment agent (perhaps powered by a <a class="af rj" href="https://microsoft.github.io/autogen/docs/tutorial/code-executors" rel="noopener ugc nofollow" target="_blank">container</a> perfectly set up with my required libraries etc), and then the AI coder agent write the code, execute it , find defects, iterate and fix it. I imagine that would have shaved over 50% of my development time.</li><li id="8c5e" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Breaking the analysis prompt up: While I ended up using the one mega prompt to run the analysis, if I were using some chained AI agent mechanism, I could have broken the analytics tasks out to different agents, powered them with different LLM endpoints, with different <a class="af rj" href="https://www.hopsworks.ai/dictionary/llm-temperature" rel="noopener ugc nofollow" target="_blank">temperature</a> settings each. The lower the temperature the more precise and less creative the LLM is. For example, I learnt the hard way that with the default temperature setting, GPT ended up making minor changes to the categories for each ticket (like “Data Completeness” or “completeness”) which just ended up creating more post-processing clean-up annoying work for me.</li><li id="a542" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk">Heck, I could have even gotten large chunks of this very document written for me by a creative AI agent in my multi-agent team!</li></ul><h1 id="9283" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Closing thoughts from a Product Leader on Operational Tickets</h1><p id="0fb1" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">Our customers experience our products through how they interact with them day to day. Through tickets, service requests they are constantly sending us signals on what’s working and what’s not working, forming an impression about us by seeing how receptive we are to these signals. Oftentimes though, we are fixated on product development, major transformational programs underway, tracking and monitoring the next flashy thing being built in the kitchen and ignore these operational signals at our peril. Sure, being responsive to major incidents is the job of every accountable leader, and good things emerge by working on action plans that come out through those Root Cause Analysis (RCA) calls. However, I would argue that there is a large quantity of moderate severity issues, and service requests that our customers are opening which often goes ignored just because of its sheer volume. And when, in earnest, you open this treasure trove of ticket data, it is often so overwhelming and uncurated that your head starts spinning! You risk walking away with a simplistic and incomplete mental model based on summary reports created by someone else.</p><p id="985e" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">My philosophy is that, as a leader, you must create the time and capabilities to dig your fingers in the dirt. That is the only way you get a true feel of how your business operates. This used to be very hard to do before the GenAI era. Even leaders capable of doing data analysis couldn’t afford taking time away from their day job. Well, not anymore!</p><p id="7d97" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">While this article attempts to give you some of the capabilities to jump start your genAI powered analysis journey into operational tickets, only you, my dear reader, can create the time and space to act on them. What’s more, I’m hopeful that some of the insights you’ve learnt in effectively using LLMs to turbocharge your analysis will be transferable in many other areas beyond operational ticket analysis.</p><h1 id="c8f3" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Appendix: A fine-tuned version of the GPT prompt</h1><p id="5142" class="pw-post-body-paragraph nj nk fq nl b go pc nn no gr pd nq nr ns pe nu nv nw pf ny nz oa pg oc od oe fj bk">What follows below is a scrubbed out version of the most performant prompt I used to conduct the ticket analysis. I replaced our internal data quality dimensions with those published by Data Management association (DAMA). If your firm has a data quality policy, I encourage you to use those standards here.</p><p id="2308" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">Below are examples of cases along with their descriptions, each separated by ###. These are related to data-related technologies. Your task is to carefully review each case, extract the necessary 7 data points, and present the results in the specified format. Detailed instructions are as follows:</em></p><ol class=""><li id="5ba1" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe qd pi pj bk"><strong class="nl fr"><em class="of">Title:</em></strong><em class="of"> For each case, create a concise and descriptive title based on the content of the description, ensuring it is 300 characters or less.</em></li><li id="fcb8" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk"><strong class="nl fr"><em class="of">Impact:</em></strong><em class="of"> From the description, summarize the impact in a brief one-liner. If the impact isn’t directly stated or implied, simply write “Impact Not Provided.”</em></li><li id="cc9b" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe qd pi pj bk"><strong class="nl fr"><em class="of">Severity:</em></strong><em class="of"> Assign a severity level to each case using an urgency vs impact matrix approach, considering both the urgency of the issue and its impact on the system:</em></li></ol><ul class=""><li id="fa3b" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">S1:</em></strong><em class="of"> High urgency and high impact, possibly causing system outages or making the application unusable.</em></li><li id="77c7" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">S2:</em></strong><em class="of"> High urgency but with a moderate impact or moderate urgency with a high impact, affecting multiple users.</em></li><li id="5940" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">S3:</em></strong><em class="of"> Low urgency with a moderate or low impact, with minimal user disruption.</em></li><li id="aebb" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">S4:</em></strong><em class="of"> Low urgency and low impact, often related to general requests (Note: Access issues are not generally S4).</em></li><li id="5593" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><em class="of">Only one severity level should be assigned per case.</em></li></ul><p id="6d44" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">4. Complexity: Assess the complexity of the case based on your expertise in the data field:</em></p><ul class=""><li id="257a" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">High Complexity</em></strong></li><li id="5f7c" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Medium Complexity</em></strong></li><li id="d54f" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Low Complexity</em></strong></li><li id="4a09" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><em class="of">Typically, access-related cases are low complexity, but use your judgment based on the description.</em></li></ul><p id="a7ed" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">5. Line of Business (LOB):</em></strong><em class="of"> Determine the relevant line of business based on the description. The options are:</em></p><ul class=""><li id="91c3" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Finance</em></strong></li><li id="610b" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Marketing</em></strong></li><li id="abee" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Sales</em></strong></li><li id="7980" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Customer Support</em></strong></li><li id="717e" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">HR</em></strong></li><li id="724d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Miscellaneous:</em></strong><em class="of"> If you can’t clearly identify the LOB.</em></li><li id="b4fa" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><em class="of">Choose only one LOB per case. If multiple are mentioned, pick the most prominent.</em></li></ul><p id="b350" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">6. Team:</em></strong><em class="of"> Assign the appropriate team based on the description. The options are:</em></p><ul class=""><li id="8c05" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">CDI (Central Data Ingest):</em></strong><em class="of"> Any case mentioning CDI or “Central Data Ingest team” should be classified under this team exclusively.</em></li><li id="3291" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Data Engineering:</em></strong><em class="of"> Cases related to data pipelines, such as extraction, transformation, or loading.</em></li><li id="35bf" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Data Platform:</em></strong><em class="of"> Any issues related to data platforms, including data visualization or DEP.</em></li><li id="2249" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><em class="of">Only one team should be assigned per case.</em></li></ul><p id="df4a" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><strong class="nl fr"><em class="of">7. Ticket Category:</em></strong><em class="of"> Finally, categorize the ticket based on the description, using a simple 1–2 word label. Use the DAMA data quality dimensions for this classification. The categories should include, but aren’t limited to:</em></p><ul class=""><li id="b10b" class="nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Completeness:</em></strong><em class="of"> Ensuring all necessary data is included.</em></li><li id="cb21" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Uniqueness:</em></strong><em class="of"> Verifying data entries are unique and not duplicated.</em></li><li id="20ba" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Timeliness:</em></strong><em class="of"> Ensuring data is up-to-date and available as expected.</em></li><li id="6311" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Accuracy:</em></strong><em class="of"> Confirming data is correct and conforms to its true values.</em></li><li id="bea9" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Consistency:</em></strong><em class="of"> Ensuring data is uniform across different datasets.</em></li><li id="0747" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Validity:</em></strong><em class="of"> Ensuring data adheres to required formats or values.</em></li><li id="e929" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><strong class="nl fr"><em class="of">Access:</em></strong><em class="of"> Related to requests for accessing data or systems.</em></li><li id="413d" class="nj nk fq nl b go pk nn no gr pl nq nr ns pm nu nv nw pn ny nz oa po oc od oe ph pi pj bk"><em class="of">You may create 2–3 other categories if needed, but keep them concise and consistent</em></li></ul><p id="b669" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">Here is an example of the output format. It should be a list with each item separated by a pipe (|):</em></p><p id="fd11" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk"><em class="of">16477679|Descriptive title under 300 characters|Brief impact description|S2|High Complexity|Finance|Data Engineering|Timeliness<br/>16377679|Another descriptive title|Another brief impact description|S1|High Complexity|Sales|Data Platform|Accuracy</em></p><p id="5569" class="pw-post-body-paragraph nj nk fq nl b go nm nn no gr np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe fj bk">Unless otherwise noted, all images are by the author</p></div></div></div></div>    
</body>
</html>