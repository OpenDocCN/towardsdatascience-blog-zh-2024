- en: Difference-in-Difference 101
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å·®åˆ†ä¸­çš„å·®åˆ† 101
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26](https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26](https://towardsdatascience.com/difference-in-difference-101-9424cb403f9e?source=collection_archive---------1-----------------------#2024-05-26)
- en: '[](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)[![Henam
    Singla](../Images/e39960e543a0b87538c17360021eaf5d.png)](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)
    [Henam Singla](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)[![Henam
    Singla](../Images/e39960e543a0b87538c17360021eaf5d.png)](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)
    [Henam Singla](https://henamsingla.medium.com/?source=post_page---byline--9424cb403f9e--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)
    Â·7 min readÂ·May 26, 2024
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--9424cb403f9e--------------------------------)
    Â·7åˆ†é’Ÿé˜…è¯»Â·2024å¹´5æœˆ26æ—¥
- en: --
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: What is Difference-in-difference (DiD or DD or diff-in-diff)? Why do we care
    about DiD? Today I will answer all the questions about one of the most popular
    methods in econometrics to study a policy effect.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯å·®åˆ†ä¸­çš„å·®åˆ†ï¼ˆDiD æˆ– DD æˆ– diff-in-diffï¼‰ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬å…³å¿ƒ DiDï¼Ÿä»Šå¤©æˆ‘å°†å›ç­”æ‰€æœ‰å…³äºè¿™é¡¹ç»æµè®¡é‡å­¦ä¸­æœ€æµè¡Œçš„æ”¿ç­–æ•ˆåº”ç ”ç©¶æ–¹æ³•çš„é—®é¢˜ã€‚
- en: '![](../Images/a2bfa9ecb30079884aa851b2560d5a46.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a2bfa9ecb30079884aa851b2560d5a46.png)'
- en: Image created by the author using DALL.E. The image attempts to show the introduction
    of technology such as tablets in the classroom and its effect on grades.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¼ å›¾ç‰‡ç”±ä½œè€…ä½¿ç”¨ DALL.E åˆ›ä½œï¼Œæ—¨åœ¨å±•ç¤ºæŠ€æœ¯å¦‚å¹³æ¿ç”µè„‘åœ¨è¯¾å ‚ä¸­çš„å¼•å…¥åŠå…¶å¯¹æˆç»©çš„å½±å“ã€‚
- en: DiD is a widely used econometric technique that estimates causal relationships
    by comparing the changes in outcomes over time between a treatment group and a
    control group. The question is what are treatment and control? Treatment is a
    policy intervention that affects a specific group due to a policy or change. Control
    is a group that receives no intervention. Causal relationships mean cause and
    effect relations.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: DiD æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„ç»æµè®¡é‡æŠ€æœ¯ï¼Œé€šè¿‡æ¯”è¾ƒæ²»ç–—ç»„å’Œå¯¹ç…§ç»„åœ¨ä¸åŒæ—¶é—´ç‚¹çš„ç»“æœå˜åŒ–ï¼Œä¼°ç®—å› æœå…³ç³»ã€‚é—®é¢˜æ˜¯ï¼Œä»€ä¹ˆæ˜¯æ²»ç–—ç»„å’Œå¯¹ç…§ç»„ï¼Ÿæ²»ç–—ç»„æ˜¯æŒ‡ç”±äºæ”¿ç­–æˆ–å˜åŒ–å½±å“åˆ°ç‰¹å®šç¾¤ä½“çš„æ”¿ç­–å¹²é¢„ï¼›å¯¹ç…§ç»„æ˜¯æŒ‡æ²¡æœ‰å—åˆ°å¹²é¢„çš„ç¾¤ä½“ã€‚å› æœå…³ç³»æŒ‡çš„æ˜¯å› æœæ•ˆåº”å…³ç³»ã€‚
- en: We care about this method because it is useful in evaluating the effects of
    policy changes or interventions when randomized experiments are not feasible.
    This means that sometimes, experiments are targeted to a particular group, implying
    the people who received the treatment are not random. DiD will help to isolate
    the impact of intervention even without randomization.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å…³å¿ƒè¿™ç§æ–¹æ³•ï¼Œå› ä¸ºå®ƒåœ¨è¯„ä¼°æ”¿ç­–å˜åŒ–æˆ–å¹²é¢„çš„æ•ˆæœæ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éšæœºå®éªŒä¸å¯è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œæœ‰æ—¶å®éªŒä¼šé’ˆå¯¹ç‰¹å®šç¾¤ä½“è¿›è¡Œï¼Œæš—ç¤ºæ¥å—å¹²é¢„çš„äººå¹¶ééšæœºé€‰å–ã€‚å³ä½¿æ²¡æœ‰éšæœºåŒ–ï¼ŒDiD
    ä¹Ÿèƒ½å¸®åŠ©æˆ‘ä»¬å‰–æå¹²é¢„çš„å½±å“ã€‚
- en: This article will delve into the concepts, assumptions, implementation, and
    examples.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸€æ–¹æ³•çš„æ¦‚å¿µã€å‡è®¾ã€å®æ–½åŠå…¶ç¤ºä¾‹ã€‚
- en: What is DiD
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ DiD
- en: '**Our research question is: what is the effect of treatment D on outcome y**?
    DiD allows us to estimate what would have happened to the treatment group if the
    intervention had not occurred. This counterfactual scenario is essential for understanding
    the true effect of the treatment. Every job or work revolves around answering
    similar questions like the effect of interventions, policy changes, or treatments
    across various fields. In economics, it assesses the impact of tax cuts on economic
    growth, while in public policy, it evaluates the effects of new traffic laws on
    accident rates. In marketing, DiD analyzes the influence of advertising campaigns
    on sales.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**æˆ‘ä»¬çš„ç ”ç©¶é—®é¢˜æ˜¯ï¼šå¹²é¢„Då¯¹ç»“æœyçš„å½±å“æ˜¯ä»€ä¹ˆ**ï¼ŸDiDè®©æˆ‘ä»¬å¯ä»¥ä¼°è®¡å¦‚æœæ²¡æœ‰å‘ç”Ÿå¹²é¢„ï¼Œå¤„ç†ç»„å°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚è¿™ç§åäº‹å®æƒ…å¢ƒå¯¹äºç†è§£å¹²é¢„çš„çœŸå®æ•ˆæœè‡³å…³é‡è¦ã€‚æ¯é¡¹å·¥ä½œæˆ–ç ”ç©¶éƒ½å›´ç»•ç€ç±»ä¼¼çš„é—®é¢˜å±•å¼€ï¼Œæ¯”å¦‚å¹²é¢„ã€æ”¿ç­–å˜åŒ–æˆ–æ²»ç–—çš„æ•ˆæœè¯„ä¼°ã€‚åœ¨ç»æµå­¦ä¸­ï¼Œå®ƒè¯„ä¼°ç¨æ”¶å‡å…å¯¹ç»æµå¢é•¿çš„å½±å“ï¼›åœ¨å…¬å…±æ”¿ç­–ä¸­ï¼Œå®ƒè¯„ä¼°æ–°çš„äº¤é€šæ³•è§„å¯¹äº‹æ•…ç‡çš„å½±å“ï¼›åœ¨å¸‚åœºè¥é”€ä¸­ï¼ŒDiDåˆ†æå¹¿å‘Šæ´»åŠ¨å¯¹é”€å”®çš„å½±å“ã€‚'
- en: '![](../Images/0a352afe10ba8dee06ab0f60b86c4809.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0a352afe10ba8dee06ab0f60b86c4809.png)'
- en: Diagram created by the author
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±ä½œè€…åˆ›å»ºçš„å›¾ç¤º
- en: For example, in the diagram above, we have population data in our sample. We
    will divide the data into treatment and control where the treatment received the
    intervention. We can observe post and pre-variables for both groups.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„å›¾ç¤ºä¸­ï¼Œæˆ‘ä»¬æœ‰æ ·æœ¬ä¸­çš„äººå£æ•°æ®ã€‚æˆ‘ä»¬å°†æ•°æ®åˆ†ä¸ºå¤„ç†ç»„å’Œå¯¹ç…§ç»„ï¼Œå…¶ä¸­å¤„ç†ç»„æ¥å—äº†å¹²é¢„ã€‚æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ä¸¤ç»„çš„å¤„ç†å‰å’Œå¤„ç†åå˜é‡ã€‚
- en: How to do DiD
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•è¿›è¡ŒDiDåˆ†æ
- en: Simple Treatment/Control Difference Estimator
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç®€å•çš„å¤„ç†/å¯¹ç…§ç»„å·®å¼‚ä¼°è®¡é‡
- en: '![](../Images/9a06cdfe8fb3f2a41859e96552be7188.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9a06cdfe8fb3f2a41859e96552be7188.png)'
- en: This equation will calculate the treatment effect by comparing the changes in
    the outcome over time between the treatment and control groups.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–¹ç¨‹å°†é€šè¿‡æ¯”è¾ƒå¤„ç†ç»„å’Œå¯¹ç…§ç»„éšæ—¶é—´å˜åŒ–çš„ç»“æœï¼Œæ¥è®¡ç®—å¹²é¢„æ•ˆåº”ã€‚
- en: I have created a fake example to help understand the math.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘åˆ›å»ºäº†ä¸€ä¸ªå‡è®¾ç¤ºä¾‹æ¥å¸®åŠ©ç†è§£è¿™ä¸ªæ•°å­¦åŸç†ã€‚
- en: '![](../Images/180f93dc69215e94b8089111dd7bc455.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/180f93dc69215e94b8089111dd7bc455.png)'
- en: The **DiD coefficient** would be **9** using the formula mentioned above.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä¸Šè¿°å…¬å¼ï¼Œ**DiDç³»æ•°**å°†æ˜¯**9**ã€‚
- en: 'DiD Estimator: Calculation using a regression'
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: DiDä¼°è®¡é‡ï¼šä½¿ç”¨å›å½’è®¡ç®—
- en: DiD helps to control for time-invariant characteristics that might bias the
    estimation of treatment effects. This means that it removes the influence of variables
    that are constant over time (eg., geographical location, gender, ethnicity, innate
    ability, etc.). It can do so because these characteristics affect both pre-treatment
    and post-treatment periods equally for each group.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: DiDæœ‰åŠ©äºæ§åˆ¶å¯èƒ½å¯¹å¹²é¢„æ•ˆæœä¼°è®¡äº§ç”Ÿåå·®çš„æ—¶é—´ä¸å˜ç‰¹å¾ã€‚è¿™æ„å‘³ç€å®ƒå¯ä»¥æ¶ˆé™¤é‚£äº›åœ¨æ—¶é—´ä¸Šä¿æŒä¸å˜çš„å˜é‡çš„å½±å“ï¼ˆä¾‹å¦‚ï¼Œåœ°ç†ä½ç½®ã€æ€§åˆ«ã€ç§æ—ã€å¤©èµ‹ç­‰ï¼‰ã€‚å®ƒä¹‹æ‰€ä»¥èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯å› ä¸ºè¿™äº›ç‰¹å¾å¯¹æ¯ä¸ªç»„çš„å¤„ç†å‰å’Œå¤„ç†åçš„æ—¶é—´æ®µçš„å½±å“æ˜¯ç›¸ç­‰çš„ã€‚
- en: 'The core equation for a basic DiD model is:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬çš„DiDæ¨¡å‹çš„æ ¸å¿ƒæ–¹ç¨‹æ˜¯ï¼š
- en: '![](../Images/33676a94c0fc61c54dc1270634c0a816.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/33676a94c0fc61c54dc1270634c0a816.png)'
- en: 'where:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ï¼š
- en: yâ€‹ is the outcome variable for individual ğ‘– in group *j* at time ğ‘¡.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yâ€‹æ˜¯ä¸ªä½“ğ‘–åœ¨ç»„*ğ‘—*çš„æ—¶é—´ğ‘¡çš„ç»“æœå˜é‡ã€‚
- en: ğ´ğ‘“ğ‘¡ğ‘’ğ‘Ÿâ€‹ is a dummy variable equal to 1 if the observation is in the post-treatment
    period.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğ´ğ‘“ğ‘¡ğ‘’ğ‘Ÿâ€‹æ˜¯ä¸€ä¸ªè™šæ‹Ÿå˜é‡ï¼Œå½“è§‚å¯Ÿå€¼å¤„äºå¤„ç†åçš„æ—¶é—´æ®µæ—¶ï¼Œè¯¥å€¼ä¸º1ã€‚
- en: ğ‘‡ğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘šğ‘’ğ‘›ğ‘¡ is a dummy variable equal to 1 if the observation belongs to the treatment
    group.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğ‘‡ğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘šğ‘’ğ‘›ğ‘¡æ˜¯ä¸€ä¸ªè™šæ‹Ÿå˜é‡ï¼Œå½“è§‚å¯Ÿå€¼å±äºå¤„ç†ç»„æ—¶ï¼Œè¯¥å€¼ä¸º1ã€‚
- en: ğ´ğ‘“ğ‘¡ğ‘’ğ‘Ÿ Ã— ğ‘‡ğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘šğ‘’ğ‘›ğ‘¡â€‹ is the interaction term, with the coefficient *Î²* capturing
    the DiD estimate.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğ´ğ‘“ğ‘¡ğ‘’ğ‘Ÿ Ã— ğ‘‡ğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘šğ‘’ğ‘›ğ‘¡â€‹æ˜¯äº¤äº’é¡¹ï¼Œç³»æ•°*Î²*è¡¨ç¤ºDiDä¼°è®¡å€¼ã€‚
- en: The coefficient for the interaction term is the DiD estimator in y. The regression
    is more popular among researchers because it helps to give standard errors and
    control for additional variables.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: äº¤äº’é¡¹çš„ç³»æ•°æ˜¯yä¸­çš„DiDä¼°è®¡é‡ã€‚å›å½’åˆ†æåœ¨ç ”ç©¶äººå‘˜ä¸­æ›´å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿæä¾›æ ‡å‡†è¯¯å·®å¹¶æ§åˆ¶é¢å¤–çš„å˜é‡ã€‚
- en: Parallel Trend Assumption
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¹³è¡Œè¶‹åŠ¿å‡è®¾
- en: This is one of the key assumptions in DiD. It is based on the idea that, in
    the absence of treatment, the difference between the treatment and control groups
    would remain constant over time. In other words, in the absence of treatment,
    *Î² (DiD estimate)* = 0.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯DiDä¸­çš„ä¸€ä¸ªå…³é”®å‡è®¾ã€‚å®ƒåŸºäºè¿™æ ·ä¸€ä¸ªè§‚ç‚¹ï¼šåœ¨æ²¡æœ‰å¹²é¢„çš„æƒ…å†µä¸‹ï¼Œå¤„ç†ç»„å’Œå¯¹ç…§ç»„ä¹‹é—´çš„å·®å¼‚å°†éšç€æ—¶é—´çš„æ¨ç§»ä¿æŒä¸å˜ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨æ²¡æœ‰å¹²é¢„çš„æƒ…å†µä¸‹ï¼Œ*Î²
    (DiDä¼°è®¡å€¼)* = 0ã€‚
- en: 'Formally, this means:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¼æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼š
- en: '![](../Images/890253883eeee777463d33c0b6c379c0.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/890253883eeee777463d33c0b6c379c0.png)'
- en: Another way to think about this is that the difference between the two groups
    would have remained the same over time without the policy change. If the trends
    are not parallel before the treatment, the DiD estimates may be biased.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§æ€è€ƒæ–¹å¼æ˜¯ï¼Œå‡å¦‚æ²¡æœ‰æ”¿ç­–å˜åŒ–ï¼Œä¸¤ç»„ä¹‹é—´çš„å·®å¼‚åœ¨æ—¶é—´ä¸Šä¼šä¿æŒä¸å˜ã€‚å¦‚æœåœ¨å¤„ç†å‰ä¸¤ç»„çš„è¶‹åŠ¿ä¸å¹³è¡Œï¼Œåˆ™DiDä¼°è®¡å¯èƒ½å­˜åœ¨åå·®ã€‚
- en: How to check this assumption
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•æ£€æŸ¥è¿™ä¸ªå‡è®¾
- en: 'Now the next question is: how to check for it? The validity of the parallel
    trend assumption can be assessed through graphical analysis and placebo tests.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä¸‹ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚ä½•æ£€æŸ¥è¿™ä¸€ç‚¹ï¼Ÿå¹³è¡Œè¶‹åŠ¿å‡è®¾çš„æœ‰æ•ˆæ€§å¯ä»¥é€šè¿‡å›¾å½¢åˆ†æå’Œå®‰æ…°å‰‚æ£€éªŒæ¥è¯„ä¼°ã€‚
- en: '![](../Images/7c6b1efafe433ff22f1664bd2942ad5d.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7c6b1efafe433ff22f1664bd2942ad5d.png)'
- en: Created by the author
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…åˆ›å»º
- en: The assumption is that, in the absence of treatment, the treatment group (orange
    line) and the control group (blue dashed line) would follow parallel paths over
    time. The intervention (vertical line) marks the point at which the treatment
    is applied, allowing the comparison of the differences in trends between the two
    groups before and after the intervention to estimate the treatment effect.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æ˜¯ï¼Œåœ¨æ²¡æœ‰æ²»ç–—çš„æƒ…å†µä¸‹ï¼Œå¤„ç†ç»„ï¼ˆæ©™è‰²çº¿ï¼‰å’Œå¯¹ç…§ç»„ï¼ˆè“è‰²è™šçº¿ï¼‰ä¼šéšç€æ—¶é—´çš„æ¨ç§»æ²¿å¹³è¡Œè·¯å¾„å˜åŒ–ã€‚å¹²é¢„ï¼ˆå‚ç›´çº¿ï¼‰æ ‡è®°äº†æ–½åŠ æ²»ç–—çš„æ—¶åˆ»ï¼Œå…è®¸é€šè¿‡æ¯”è¾ƒä¸¤ç»„åœ¨å¹²é¢„å‰åè¶‹åŠ¿çš„å·®å¼‚æ¥ä¼°è®¡æ²»ç–—æ•ˆåº”ã€‚
- en: Examples which violate Parallel Trends Assumption
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿åå¹³è¡Œè¶‹åŠ¿å‡è®¾çš„ä¾‹å­
- en: 'In simple words, we look for two things in the treatment which are the following:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨æ²»ç–—ä¸­å¯»æ‰¾ä¸¤ä»¶äº‹ï¼š
- en: '**Change in the slope**'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ–œç‡å˜åŒ–**'
- en: '![](../Images/b11213a72937fa975fb1fabd7131ec38.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b11213a72937fa975fb1fabd7131ec38.png)'
- en: 'Graph: Part (a)'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾è¡¨ï¼šéƒ¨åˆ†(a)
- en: '![](../Images/dc78e725d3ef78d0239dfe880df22c07.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dc78e725d3ef78d0239dfe880df22c07.png)'
- en: 'Graph: Part (b)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾è¡¨ï¼šéƒ¨åˆ†(b)
- en: 'In both of the above cases, the Parallel trend assumption is not satisfied.
    Treatment group outcome is either growing faster (part a) or slower (part b) than
    control group outcome. The mathematical way of saying this is:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šè¿°ä¸¤ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå¹³è¡Œè¶‹åŠ¿å‡è®¾æ²¡æœ‰å¾—åˆ°æ»¡è¶³ã€‚å¤„ç†ç»„çš„ç»“æœè¦ä¹ˆå¢é•¿æ›´å¿«ï¼ˆéƒ¨åˆ†aï¼‰ï¼Œè¦ä¹ˆå¢é•¿æ›´æ…¢ï¼ˆéƒ¨åˆ†bï¼‰äºå¯¹ç…§ç»„çš„ç»“æœã€‚ç”¨æ•°å­¦æ–¹å¼æ¥è¯´å°±æ˜¯ï¼š
- en: DiD = true effect + differential trend (Differential trend should be 0)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: DiD = çœŸå®æ•ˆåº” + å·®å¼‚è¶‹åŠ¿ï¼ˆå·®å¼‚è¶‹åŠ¿åº”ä¸º0ï¼‰
- en: Differential trend could be positive (part a) or negative ( part b)
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: å·®å¼‚è¶‹åŠ¿å¯ä»¥æ˜¯æ­£å‘çš„ï¼ˆéƒ¨åˆ†aï¼‰æˆ–è´Ÿå‘çš„ï¼ˆéƒ¨åˆ†bï¼‰
- en: DiD wonâ€™t be able to isolate the impact of the intervention (true effect) since
    we have a differential trend in it as well.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬åœ¨å…¶ä¸­ä¹Ÿæœ‰ä¸€ä¸ªå·®å¼‚è¶‹åŠ¿ï¼ŒDiDå°†æ— æ³•éš”ç¦»å¹²é¢„çš„å½±å“ï¼ˆçœŸå®æ•ˆåº”ï¼‰ã€‚
- en: 2\. **Jump in the treatment line (either up or down) after the intervention**
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 2\. **å¹²é¢„åæ²»ç–—çº¿çš„è·³è·ƒï¼ˆæ— è®ºæ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹ï¼‰**
- en: '![](../Images/adc96128119efad080bfcc9b3839c9dc.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/adc96128119efad080bfcc9b3839c9dc.png)'
- en: In the above image, the treatment groupâ€™s trend changed differently from the
    control groupâ€™s trend, which should have remained consistent without the intervention.
    A jump is not allowed in the study of DiD.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šé¢çš„å›¾åƒä¸­ï¼Œå¤„ç†ç»„çš„è¶‹åŠ¿ä¸å¯¹ç…§ç»„çš„è¶‹åŠ¿å‘ç”Ÿäº†ä¸åŒçš„å˜åŒ–ï¼Œè€Œå¯¹ç…§ç»„çš„è¶‹åŠ¿åœ¨æ²¡æœ‰å¹²é¢„çš„æƒ…å†µä¸‹åº”è¯¥ä¿æŒä¸€è‡´ã€‚DiDç ”ç©¶ä¸­ä¸å…è®¸å‡ºç°è·³è·ƒã€‚
- en: Placebo Tests
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å®‰æ…°å‰‚æ£€éªŒ
- en: Placebo tests are used to verify whether observed treatment effects are truly
    due to the treatment and not due to other confounding factors. They involve applying
    the same analysis to a period or group where no treatment effect is expected.
    If a significant effect is found in these placebo tests, it suggests that the
    original results may be spurious.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰æ…°å‰‚æ£€éªŒç”¨äºéªŒè¯è§‚å¯Ÿåˆ°çš„æ²»ç–—æ•ˆæœæ˜¯å¦çœŸçš„æ˜¯ç”±äºæ²»ç–—æœ¬èº«ï¼Œè€Œä¸æ˜¯ç”±äºå…¶ä»–æ··æ‚å› ç´ ã€‚å®ƒä»¬é€šè¿‡å¯¹ä¸€ä¸ªæ²¡æœ‰é¢„æœŸæ²»ç–—æ•ˆæœçš„æ—¶æœŸæˆ–ç¾¤ä½“è¿›è¡Œç›¸åŒçš„åˆ†ææ¥è¿›è¡Œã€‚å¦‚æœåœ¨è¿™äº›å®‰æ…°å‰‚æ£€éªŒä¸­å‘ç°æ˜¾è‘—æ•ˆæœï¼Œè¯´æ˜åŸå§‹ç»“æœå¯èƒ½æ˜¯è™šå‡çš„ã€‚
- en: For example, an intervention study of giving tablets to high schools was done
    in 2019\. We can do a placebo test meaning that we can create a fake year of intervention
    say 2017 where we know no policy change occurred. If applying the treatment effect
    analysis to the placebo date (2017) shows no significant change, it will suggest
    that the observed effect in 2019 (if any) is likely due to the actual policy intervention.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œ2019å¹´æ›¾è¿›è¡Œè¿‡ä¸€é¡¹ä¸ºé«˜ä¸­ç”Ÿå‘æ”¾è¯ç‰‡çš„å¹²é¢„ç ”ç©¶ã€‚æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªå®‰æ…°å‰‚æ£€éªŒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡è®¾çš„å¹²é¢„å¹´ä»½ï¼Œæ¯”å¦‚2017å¹´ï¼ŒçŸ¥é“é‚£æ—¶æ²¡æœ‰å‘ç”Ÿä»»ä½•æ”¿ç­–å˜åŒ–ã€‚å¦‚æœå°†æ²»ç–—æ•ˆåº”åˆ†æåº”ç”¨äºå®‰æ…°å‰‚å¹´ä»½ï¼ˆ2017ï¼‰ï¼Œä¸”æ²¡æœ‰å‘ç°æ˜¾è‘—å˜åŒ–ï¼Œé‚£ä¹ˆè¿™å°†è¡¨æ˜2019å¹´è§‚å¯Ÿåˆ°çš„æ•ˆæœï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¾ˆå¯èƒ½æ˜¯ç”±äºå®é™…çš„æ”¿ç­–å¹²é¢„ã€‚
- en: Extensions and Variations of DiD
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DiDçš„æ‰©å±•ä¸å˜ä½“
- en: '**Event Study DiD**: Estimates year-specific treatment effects, which is useful
    for assessing the timing of treatment effects and checking for pre-trends. The
    model allows the treatment effect to vary by year. We can study the effect at
    time *t+*1, *t*+2, â€¦, *t*+*n*'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**äº‹ä»¶ç ”ç©¶DiD**ï¼šä¼°è®¡å¹´ç‰¹å®šçš„å¤„ç†æ•ˆåº”ï¼Œè¿™å¯¹äºè¯„ä¼°å¤„ç†æ•ˆåº”çš„æ—¶æœºå’Œæ£€æŸ¥é¢„è¶‹åŠ¿éå¸¸æœ‰ç”¨ã€‚è¯¥æ¨¡å‹å…è®¸å¤„ç†æ•ˆåº”éšå¹´ä»½å˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥ç ”ç©¶åœ¨æ—¶é—´*t+*1,
    *t*+2, â€¦, *t*+*n*æ—¶çš„æ•ˆåº”ã€‚'
- en: '**Synthetic Control Method** (SCM): SCM constructs a synthetic control group
    by weighting multiple untreated units to create a composite that approximates
    the characteristics of the treated unit before the intervention. This method is
    particularly useful when *a single treated unit is compared to a pool of untreated
    units*. It provides a more credible counterfactual by combining information from
    several units.'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**åˆæˆæ§åˆ¶æ³•**ï¼ˆSCMï¼‰ï¼šSCMé€šè¿‡åŠ æƒå¤šä¸ªæœªå¤„ç†å•ä½æ¥æ„å»ºä¸€ä¸ªåˆæˆæ§åˆ¶ç»„ï¼Œåˆ›å»ºä¸€ä¸ªåœ¨å¹²é¢„å‰èƒ½å¤Ÿé€¼è¿‘å¤„ç†å•ä½ç‰¹å¾çš„ç»„åˆä½“ã€‚è¿™ç§æ–¹æ³•åœ¨*å°†ä¸€ä¸ªå•ä¸€çš„å¤„ç†å•ä½ä¸ä¸€ç»„æœªå¤„ç†å•ä½è¿›è¡Œæ¯”è¾ƒ*æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚å®ƒé€šè¿‡ç»“åˆå¤šä¸ªå•ä½çš„ä¿¡æ¯ï¼Œæä¾›äº†ä¸€ä¸ªæ›´ä¸ºå¯ä¿¡çš„åäº‹å®ã€‚'
- en: There are many more, but I will limit it to only two. I might write a post later
    explaining in detail all the rest.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„ï¼Œä½†æˆ‘å°†é™åˆ¶åœ¨ä»…ä¸¤ä¸ªã€‚æˆ‘å¯èƒ½ç¨åä¼šå†™ä¸€ç¯‡æ–‡ç« ï¼Œè¯¦ç»†è§£é‡Šå…¶ä½™å†…å®¹ã€‚
- en: Conclusion
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In this post, I have analyzed the Difference-in-Differences (DiD) estimator,
    a popular method for estimating average treatment effects. DiD is widely used
    to study policy effects by comparing changes over time between treatment and control
    groups. The key advantage of DiD is its ability to control for unobserved confounders
    that remain constant over time, thereby isolating the true impact of an intervention.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆ†æäº†å·®å¼‚ä¸­çš„å·®å¼‚ï¼ˆDiDï¼‰ä¼°è®¡é‡ï¼Œè¿™æ˜¯ä¸€ç§ä¼°è®¡å¹³å‡å¤„ç†æ•ˆåº”çš„æµè¡Œæ–¹æ³•ã€‚DiDè¢«å¹¿æ³›åº”ç”¨äºé€šè¿‡æ¯”è¾ƒå¤„ç†ç»„å’Œå¯¹ç…§ç»„éšæ—¶é—´å˜åŒ–æ¥ç ”ç©¶æ”¿ç­–æ•ˆåº”ã€‚DiDçš„ä¸»è¦ä¼˜åŠ¿æ˜¯å®ƒèƒ½å¤Ÿæ§åˆ¶éšç€æ—¶é—´æ¨ç§»ä¿æŒä¸å˜çš„æœªè§‚å¯Ÿåˆ°çš„æ··æ‚å› ç´ ï¼Œä»è€Œå­¤ç«‹å‡ºå¹²é¢„çš„çœŸå®å½±å“ã€‚
- en: We also explored key concepts like the parallel trends assumption, the importance
    of pre-treatment data, and how to check for assumption violations using graphical
    analysis and placebo tests. Additionally, I discussed extensions and variations
    of DiD, such as the Event Study DiD and the Synthetic Control Method, which offer
    further insights and robustness in different scenarios.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æ¢è®¨äº†è¯¸å¦‚å¹³è¡Œè¶‹åŠ¿å‡è®¾ã€å‰æœŸæ•°æ®çš„é‡è¦æ€§ä»¥åŠå¦‚ä½•é€šè¿‡å›¾å½¢åˆ†æå’Œå®‰æ…°å‰‚æ£€éªŒæ£€æŸ¥å‡è®¾è¿åçš„å…³é”®æ¦‚å¿µã€‚æ­¤å¤–ï¼Œæˆ‘è¿˜è®¨è®ºäº†DiDçš„æ‰©å±•å’Œå˜ç§ï¼Œä¾‹å¦‚äº‹ä»¶ç ”ç©¶DiDå’Œåˆæˆæ§åˆ¶æ³•ï¼Œè¿™äº›æ–¹æ³•åœ¨ä¸åŒæƒ…å¢ƒä¸‹æä¾›äº†æ›´å¤šçš„è§è§£å’Œç¨³å¥æ€§ã€‚
- en: References and Further Reads
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®å’Œè¿›ä¸€æ­¥é˜…è¯»
- en: '[1] Wing, C., Simon, K., & Bello-Gomez, R. A. (2018). Designing difference
    in difference studies: best practices for public health policy research. *Annual
    review of public health*, *39*, 453â€“469.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] Wing, C., Simon, K., & Bello-Gomez, R. A. (2018). è®¾è®¡å·®å¼‚ä¸­çš„å·®å¼‚ç ”ç©¶ï¼šå…¬å…±å«ç”Ÿæ”¿ç­–ç ”ç©¶çš„æœ€ä½³å®è·µã€‚*å…¬å…±å«ç”Ÿå¹´é‰´*,
    *39*, 453â€“469ã€‚'
- en: '[2] Callaway, B., & Santâ€™Anna, P. H. (2021). Difference-in-differences with
    multiple time periods. *Journal of Econometrics*, *225*(2), 200â€“230.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] Callaway, B., & Santâ€™Anna, P. H. (2021). å¤šæ—¶é—´æœŸçš„å·®å¼‚ä¸­çš„å·®å¼‚ã€‚*è®¡é‡ç»æµå­¦æ‚å¿—*, *225*(2),
    200â€“230ã€‚'
- en: '[3] Donald, S. G., & Lang, K. (2007). Inference with difference-in-differences
    and other panel data. *The review of Economics and Statistics*, *89*(2), 221â€“233.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '[3] Donald, S. G., & Lang, K. (2007). ä½¿ç”¨å·®å¼‚ä¸­çš„å·®å¼‚å’Œå…¶ä»–é¢æ¿æ•°æ®çš„æ¨æ–­ã€‚*ç»æµå­¦ä¸ç»Ÿè®¡å­¦è¯„è®º*, *89*(2),
    221â€“233ã€‚'
- en: Thank you for reading!
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è°¢è°¢é˜…è¯»ï¼
- en: '*Thank you for reading! ğŸ¤— If you enjoyed this post and want to see more, consider*
    [*following me*](https://henamsingla.medium.com/)*. You can also follow me on*
    [*LinkedIn*](https://www.linkedin.com/in/henamsingla/)*. I plan to write blogs
    about causal inference and data analysis, always aiming to keep things simple.*'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ„Ÿè°¢é˜…è¯»ï¼ğŸ¤— å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« å¹¶å¸Œæœ›çœ‹åˆ°æ›´å¤šï¼Œè€ƒè™‘* [*å…³æ³¨æˆ‘*](https://henamsingla.medium.com/)*ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨*
    [*LinkedIn*](https://www.linkedin.com/in/henamsingla/)*ä¸Šå…³æ³¨æˆ‘ã€‚æˆ‘è®¡åˆ’å†™å…³äºå› æœæ¨æ–­å’Œæ•°æ®åˆ†æçš„åšå®¢ï¼Œå§‹ç»ˆè‡´åŠ›äºä¿æŒå†…å®¹ç®€å•ã€‚*'
- en: '*A small disclaimer: I write to learn, so mistakes might happen despite my
    best efforts. If you spot any errors, please let me know. I also welcome suggestions
    for new topics!*'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä¸€ä¸ªå°å°çš„å…è´£å£°æ˜ï¼šæˆ‘å†™ä½œæ˜¯ä¸ºäº†å­¦ä¹ ï¼Œå› æ­¤å°½ç®¡æˆ‘å°½åŠ›äº†ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šæœ‰é”™è¯¯ã€‚å¦‚æœæ‚¨å‘ç°ä»»ä½•é”™è¯¯ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚æˆ‘ä¹Ÿæ¬¢è¿å…³äºæ–°è¯é¢˜çš„å»ºè®®ï¼*'
