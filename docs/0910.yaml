- en: Linear Regressions for Causal Conclusions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 线性回归与因果结论
- en: 原文：[https://towardsdatascience.com/linear-regressions-for-causal-conclusions-34c6317c5a11?source=collection_archive---------0-----------------------#2024-04-10](https://towardsdatascience.com/linear-regressions-for-causal-conclusions-34c6317c5a11?source=collection_archive---------0-----------------------#2024-04-10)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/linear-regressions-for-causal-conclusions-34c6317c5a11?source=collection_archive---------0-----------------------#2024-04-10](https://towardsdatascience.com/linear-regressions-for-causal-conclusions-34c6317c5a11?source=collection_archive---------0-----------------------#2024-04-10)
- en: An easy and yet powerful tool for decision making
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个简单而强大的决策工具
- en: '[](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)[![Mariya
    Mansurova](../Images/b1dd377b0a1887db900cc5108bca8ea8.png)](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)
    [Mariya Mansurova](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)[![Mariya
    Mansurova](../Images/b1dd377b0a1887db900cc5108bca8ea8.png)](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)
    [Mariya Mansurova](https://miptgirl.medium.com/?source=post_page---byline--34c6317c5a11--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)
    ·21 min read·Apr 10, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--34c6317c5a11--------------------------------)
    ·阅读时间 21 分钟·2024年4月10日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/1bbc0ed5ecd20a5cef6f2c20504bb01f.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1bbc0ed5ecd20a5cef6f2c20504bb01f.png)'
- en: Image by DALL-E
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来自 DALL-E
- en: I suppose most of us have heard the statement “correlation doesn’t imply causation”
    multiple times. It often becomes a problem for analysts since we frequently can
    see only correlations but still want to make causal conclusions.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我想我们大多数人都听过“相关性不等于因果性”这句话很多次。对于分析师来说，这常常是一个问题，因为我们通常只能看到相关性，但仍然想做出因果推论。
- en: Let’s discuss a couple of examples to understand the difference better. I would
    like to start with a case from everyday life rather than the digital world.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过几个例子更好地理解这种差异。我想从日常生活中的一个案例开始，而不是数字世界中的案例。
- en: In 1975, a vast population study was launched in Denmark. It’s called [the Copenhagen
    City Heart Study (CCHS)](https://pubmed.ncbi.nlm.nih.gov/30193744/). Researchers
    gathered information about 20K men and women and have been monitoring these people
    for decades. The initial goal of this research was to find ways to prevent cardiovascular
    diseases and strokes. One of the conclusions from this study is that people who
    reported regularly playing tennis have 9.7 years higher life expectancy.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 1975年，丹麦开展了一项大型人口研究。这项研究被称为[哥本哈根市心脏研究（CCHS）](https://pubmed.ncbi.nlm.nih.gov/30193744/)。研究人员收集了约2万名男女的资料，并对这些人进行了几十年的跟踪监测。该研究最初的目标是寻找预防心血管疾病和中风的方法。该研究的一个结论是，报告定期打网球的人预期寿命高出9.7年。
- en: Let’s think about how we could interpret this information. Does it mean that
    if a person starts playing tennis weekly today, they will increase their life
    expectancy by ten years? Unfortunately, not exactly. Since it’s an observational
    study, we should be cautious about making causal inferences. There might be some
    other effects. For example, tennis players are likely to be wealthier, and [we
    know](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4866586/) that higher wealth
    correlates with greater longevity. Or there could be a correlation that people
    who regularly do sports also care more about their health and, because of it,
    do all checkups regularly. So, observational research might overestimate the effect
    of tennis on longevity since it doesn’t control other factors.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们思考一下如何解读这些信息。它是否意味着如果一个人今天开始每周打网球，他们的预期寿命会增加十年？不幸的是，答案并非完全如此。由于这是一个观察性研究，我们应该小心做出因果推论。可能存在一些其他的影响因素。例如，网球运动员可能更富裕，而[我们知道](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4866586/)较高的财富与更长的寿命相关。或者，也有可能是做运动的人更注重自己的健康，因此定期进行所有检查。所以，观察性研究可能会高估网球对寿命的影响，因为它没有控制其他因素。
- en: Let’s move on to the examples closer to product analytics and our day-to-day
    job. The number of Customer Support contacts for a client will likely be positively
    correlated with the probability of churn. If customers had to contact our support
    ten times, they would likely be annoyed and stop using our product, while customers
    who never had problems and are happy with the service might never reach out with
    any questions.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续讨论一些与产品分析和我们日常工作更相关的例子。客户支持联系的次数可能与客户流失的概率正相关。如果客户不得不联系客户支持十次，他们可能会感到烦躁并停止使用我们的产品，而那些从未遇到问题并且对服务感到满意的客户可能永远不会有任何问题需要咨询。
- en: Does it mean that if we reduce the number of CS contacts, we will increase customer
    retention? I’m ready to bet that if we hide contact info and significantly reduce
    the number of CS contacts, we won’t be able to decrease churn because the actual
    root cause of churn is not CS contact but customers’ dissatisfaction with the
    product, which leads to both customers contacting us and stopping using our product.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这是否意味着，如果我们减少客户支持联系的次数，就能提高客户保持率？我敢打赌，如果我们隐藏联系信息并大幅减少客户支持联系的次数，我们并不能减少客户流失，因为流失的实际根本原因不是客户支持联系，而是客户对产品的不满，这导致了客户既联系了我们，又停止使用我们的产品。
- en: I hope that with these examples, you can gain some intuition about the correlation
    vs. causation problem.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望通过这些例子，你能够对相关性与因果关系的问题有一些直观的理解。
- en: In this article, I would like to share approaches for driving causal conclusions
    from the data. Surprisingly, we will be able to use the most basic tool — just
    a linear regression.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在本文中，我将分享一些从数据中得出因果结论的方法。令人惊讶的是，我们将能够使用最基础的工具——线性回归。
- en: If we use the same linear regression for causal inference, you might wonder,
    what is the difference between our usual approach and causal analytics? That’s
    a good question. Let’s start our causal journey by understanding the differences
    between approaches.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们使用相同的线性回归进行因果推断，你可能会想，通常的方法和因果分析有什么区别？这是一个好问题。让我们通过理解两者之间的差异来开始我们的因果分析之旅。
- en: Predictive vs. causal analytics
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预测分析与因果分析
- en: Predictive analytics helps to make forecasts and answer questions like “How
    many customers will we have in a year if nothing changes?” or “What is the probability
    for this customer to make a purchase within the next seven days?”.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 预测分析有助于做出预测，并回答类似“如果没有任何变化，我们一年后会有多少客户？”或“这个客户在接下来的七天内购买的概率是多少？”的问题。
- en: Causal analytics tries to understand the root causes of the process. It might
    help you to answer “what if” questions like “How many customers will churn if
    we increase our subscription fee?” or “How many customers would have signed up
    for our subscription if we didn’t launch this Saint Valentine’s promo?”.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 因果分析试图理解过程的根本原因。它可能帮助你回答类似“如果我们提高订阅费，客户流失的数量会是多少？”或者“如果我们没有推出这项情人节促销活动，会有多少客户签订我们的订阅？”这样的“假如”问题。
- en: 'Causal questions seem way more complicated than just predictive ones. However,
    these two approaches often leverage the same tools, such as linear or logistic
    regressions. Even though tools are the same, they have absolutely different goals:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 因果问题似乎比预测问题更复杂。然而，这两种方法往往使用相同的工具，例如线性回归或逻辑回归。尽管工具相同，但它们的目标完全不同：
- en: For predictive analytics, we try our best to predict a value in the future based
    on information we know. So, the main KPI is an error in the prediction.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于预测分析，我们尽最大努力基于已知信息预测未来的某个值。因此，主要的关键绩效指标是预测的误差。
- en: Building a regression model for the causal analysis, we focus on the relationships
    between our target value and other factors. The model’s main output is coefficients
    rather than forecasts.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在建立因果分析的回归模型时，我们专注于目标值与其他因素之间的关系。模型的主要输出是系数，而不是预测值。
- en: Let’s look at a simple example. Suppose we would like to forecast the number
    of active customers.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一个简单的例子。假设我们想要预测活跃客户的数量。
- en: In the predictive approach, we are talking about baseline forecast (given that
    the situation will stay pretty much the same). We can use [ARIMA](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&ved=2ahUKEwjoheb60ZeEAxVkyQIHHY0JALwQFnoECCgQAQ&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FAutoregressive_integrated_moving_average&usg=AOvVaw3LwrU_FST2Kj6NbHUsUNNT&opi=89978449)
    (*Autoregressive Integrated Moving Average*) and base our projections on previous
    values. ARIMA works well for predictions but can’t tell you anything about the
    factors affecting your KPI and how to improve your product.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在预测方法中，我们讨论的是基准预测（假设情况保持基本不变）。我们可以使用[ARIMA](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&ved=2ahUKEwjoheb60ZeEAxVkyQIHHY0JALwQFnoECCgQAQ&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FAutoregressive_integrated_moving_average&usg=AOvVaw3LwrU_FST2Kj6NbHUsUNNT&opi=89978449)（*自回归积分滑动平均*）并以先前的数值为基础进行预测。ARIMA对于预测很有效，但无法告诉你影响KPI的因素以及如何改善你的产品。
- en: In the case of causal analytics, our goal is to find causal relationships in
    our data, so we will build a regression and identify factors that can impact our
    KPI, such as subscription fees, marketing campaigns, seasonality, etc. In that
    case, we will get not only the BAU (business as usual) forecast but also be able
    to estimate different “what if” scenarios for the future.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在因果分析中，我们的目标是寻找数据中的因果关系，因此我们将构建回归模型，识别可能影响我们关键绩效指标（KPI）的因素，如订阅费用、营销活动、季节性等。在这种情况下，我们不仅会得到常规（BAU，business
    as usual）预测，还能够估计未来的不同“假设情景”。
- en: Now, it’s time to dive into causal theory and learn basic terms.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，到了深入因果理论并学习基本术语的时候了。
- en: Correlation doesn’t imply causation
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关性并不意味着因果关系
- en: Let’s consider the following example for our discussion. Imagine you sent a
    discount coupon to loyal customers of your product, and now you want to understand
    how it affected their value (money spent on the product) and retention.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑以下示例来展开讨论。假设你向忠实客户发送了折扣券，现在你想了解它如何影响客户的价值（在产品上的花费）和客户保持率。
- en: One of the most basic causal terms is **treatment**. It sounds like something
    related to the medicine, but actually, it’s just an intervention. In our case,
    it’s a discount. We usually define treatment at the unit level (in our case, customer)
    in the following way.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 因果分析中的一个最基本的术语是**处理**。听起来像是与医学相关的术语，但实际上它只是指一种干预措施。在我们的例子中，它是折扣。我们通常在单元层面（在我们这个例子中是客户）定义处理方式，通常定义如下。
- en: '![](../Images/047fff29c52dce013529d21fbcaa3156.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/047fff29c52dce013529d21fbcaa3156.png)'
- en: The other crucial term is **outcome** `Y`, our variable of interest. In our
    example, it’s the customer’s value.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个关键术语是**结果**`Y`，我们关心的变量。在我们的例子中，它是客户的价值。
- en: The fundamental problem of causal inference is that we can’t observe both outcomes
    for the same customers. So, if a customer received the discount, we will never
    know what value or retention he would have had without a coupon. It makes causal
    inference tricky.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 因果推断的根本问题是我们无法同时观察同一客户的两个结果。因此，如果一个客户收到了折扣，我们永远无法知道如果没有折扣券，他的价值或保持率会是什么样子。这使得因果推断变得复杂。
- en: That’s why we need to introduce another concept — **potential outcomes**. The
    outcome that happened is usually called factual, and the one that didn’t is counterfactual.
    We will use the following notation for it.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是为什么我们需要引入另一个概念——**潜在结果**。发生的结果通常称为事实结果，而没有发生的结果称为反事实结果。我们将使用以下符号来表示它。
- en: '![](../Images/1a4cadf265c5818dc3a00ba40c588132.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1a4cadf265c5818dc3a00ba40c588132.png)'
- en: 'The main goal of causal analysis is to measure the relationship between treatment
    and outcome. We can use the following metrics to quantify it:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 因果分析的主要目标是衡量处理与结果之间的关系。我们可以使用以下指标来量化这一关系：
- en: '**ATE** — average treatment effect,'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ATE** — 平均处理效应，'
- en: '**ATT** — average treatment effect on treated (customers with the treatment)'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ATT** — 对处理组的平均处理效应（即接受处理的客户）'
- en: They are both equal to [expected values](https://en.wikipedia.org/wiki/Expected_value)
    of the differences between potential outcomes either for all units (customers
    in our case) or only for treated ones.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 它们都等于[期望值](https://en.wikipedia.org/wiki/Expected_value)，即潜在结果之间差异的期望值，适用于所有单元（在我们这个例子中是客户）或仅适用于接受处理的单元。
- en: '![](../Images/48d2efef7046f835eb795957577489fa.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/48d2efef7046f835eb795957577489fa.png)'
- en: That’s an actual causal effect, and unfortunately, we won’t be able to calculate
    it. But cheer up; we can still get some estimations. We can observe the difference
    between values for treated and not treated customers (correlation effect). Let’s
    try to interpret this value.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这是真正的因果效应，但不幸的是，我们无法计算它。不过别灰心，我们仍然可以得到一些估计。我们可以观察治疗客户和未治疗客户之间的值差异（相关效应）。让我们尝试解释这个值。
- en: '![](../Images/f03f63cb8b6e4e23862f1ad6101a0527.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f03f63cb8b6e4e23862f1ad6101a0527.png)'
- en: Using a couple of simple mathematical transformations (i.e. adding and subtracting
    the same value), we’ve concluded that the average in values between treated and
    not treated customers equals the sum of **ATT** (average treatment effect on treated)
    and **bias** term. The bias equals the difference between control and treatment
    groups without a treatment.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 通过一些简单的数学变换（即加减相同的值），我们得出结论，治疗客户和未治疗客户之间的平均值等于**ATT**（治疗组的平均处理效应）和**偏差**项的总和。偏差等于没有治疗时对照组和治疗组之间的差异。
- en: If we return to our case, the bias will be equal to the difference between expected
    customer value for the treatment group if they haven’t received discount (*counterfactual
    outcome*) and the control group (*factual outcome*).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们回到我们的案例，偏差将等于治疗组在未收到折扣的情况下预期的客户价值（*反事实结果*）和对照组（*事实结果*）之间的差异。
- en: In our example, the average value from customers who received a discount will
    likely be much higher than for those who didn’t. Could we attribute all this effect
    to our treatment (discount coupon)? Unfortunately not. Since we sent discount
    to loyal customers who are already spending a lot of money in our product, they
    would likely have higher value than control group even without a treatment. So,
    there’s a bias, and we can’t say that the difference in value between two segments
    equals ATT.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的示例中，收到折扣的客户的平均值可能远高于未收到折扣的客户。我们能否将所有的效应归因于我们的治疗（折扣券）呢？不幸的是，不能。由于我们将折扣发放给了那些已经在我们产品上花费大量金钱的忠实客户，即使没有治疗，他们的价值可能也会高于对照组。所以，存在偏差，我们不能说两个群体之间的价值差异等于ATT。
- en: 'Let’s think about how to overcome this obstacle. We can do an A/B test: randomly
    split our loyal customers into two groups and send discount coupons only to half
    of them. Then, we can estimate the discount’s effect as the average difference
    between these two groups since we’ve eliminated bias (without treatment, there’s
    no difference between these groups except for discount).'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们思考一下如何克服这个障碍。我们可以做A/B测试：将我们的忠实客户随机分成两组，只向一半的客户发放折扣券。然后，我们可以估计折扣的效应，作为这两组之间的平均差异，因为我们已经消除了偏差（没有治疗的情况下，除了折扣外，这两组之间没有差异）。
- en: We’ve covered the basic theory of causal inference and have learned the most
    crucial concept of bias. So, we are ready to move on to practice. We will start
    by analysing the A/B test results.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经介绍了因果推断的基本理论，并学到了偏差这个最关键的概念。因此，我们准备进入实践环节。我们将从分析A/B测试结果开始。
- en: 'Use case: A/B test'
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 用例：A/B测试
- en: Randomised controlled trial (RTC), often called the A/B test, is a powerful
    tool for getting causal conclusions from data. This approach assumes that we are
    assigning treatment randomly, and it helps us eliminate bias (since groups are
    equal without treatment).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 随机对照试验（RTC），通常称为A/B测试，是从数据中得出因果结论的强大工具。该方法假设我们是随机分配治疗，并且它帮助我们消除偏差（因为在没有治疗的情况下，组之间是相等的）。
- en: To practice solving such tasks, we will look at the example based on synthetic
    data. Suppose we’ve built an LLM-based tool that helps customer support agents
    answer questions more quickly. To measure the effect, we introduced this tool
    to half of the agents, and we would like to measure how our treatment (LLM-based
    tool) affects the outcome (time the agent spends answering a customer’s question).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 为了练习解决此类任务，我们将查看一个基于合成数据的示例。假设我们构建了一个基于LLM的工具，帮助客服人员更快速地回答问题。为了衡量其效果，我们将该工具引入到一半的客服人员中，并且我们希望衡量我们的治疗（基于LLM的工具）如何影响结果（客服人员回答客户问题的时间）。
- en: Let’s have a quick look at the data we have.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速查看一下我们拥有的数据。
- en: '![](../Images/4b17f04812e378b74e9618bbd68a3626.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4b17f04812e378b74e9618bbd68a3626.png)'
- en: 'Here are the description of the parameters we logged:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们记录的参数描述：
- en: '`case_id` — unique ID for the case.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`case_id` — 案例的唯一ID。'
- en: '`agent_id` — unique ID for the agent.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`agent_id` — 代理的唯一ID。'
- en: '`treatment` equals 1 if agent was in an experiment group and have a chance
    to use LLMs, 0 — otherwise.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`treatment` 如果代理在实验组并有机会使用LLM，则为1，0 — 否则。'
- en: '`time_spent_mins` — minutes spent answering the customer’s question.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`time_spent_mins` — 回答客户问题所花费的分钟数。'
- en: '`cs_center` — customer support centre. We are working with several CS centres.
    We launched this experiment in some of them because it’s easier to implement.
    Such an approach also helps us to avoid contamination (when agents from experiment
    and control groups interact and can affect each other).'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cs_center` — 客户支持中心。我们与多个客户支持中心合作。我们在其中一些中心启动了这个实验，因为在这些中心实施较为容易。这样的做法也帮助我们避免了污染（实验组和控制组的代理之间的互动可能会互相影响）。'
- en: '`complexity` equals `low`, `medium` or `high`. This feature is based on the
    category of the customer’s question and defines how much time an agent is supposed
    to spend solving this case.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`complexity` 等于 `low`、`medium` 或 `high`。该特征基于客户问题的类别，并定义代理处理此案件所需的时间。'
- en: '`tenure` — number of months since the agent started working.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tenure` — 代理开始工作的月份数。'
- en: '`passed_training` — whether the agent passed LLM training. This value can be
    equal to True only for the treatment group since this training wasn’t offered
    to the agents from the control group.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`passed_training` — 代理是否通过了 LLM 培训。该值仅对实验组为 True，因为控制组的代理没有接受此培训。'
- en: '`within_sla` equals 1 if the agent was able to answer the question within SLA
    (15 minutes).'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`within_sla` 等于 1，表示代理能够在 SLA（15 分钟）内回答问题。'
- en: As usual, let’s start with a high-level overview of the data. We have quite
    a lot of data points, so we will likely be able to get statistically significant
    results. Also, we can see way lower average response times for the treatment group,
    so we can hope that the LLM tool really helps.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如往常一样，让我们先从数据的高层次概述开始。我们有相当多的数据点，因此我们很可能能够获得统计上显著的结果。此外，我们可以看到实验组的平均响应时间明显较低，因此我们可以希望
    LLM 工具确实有所帮助。
- en: '![](../Images/9d29684beee0fa71ec0482a5f954a27a.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9d29684beee0fa71ec0482a5f954a27a.png)'
- en: I also usually look at the actual distributions since average statistics might
    be misleading. In this case, we can see two unimodal distributions without distinctive
    outliers.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我通常还会查看实际的分布，因为平均统计数据可能具有误导性。在这种情况下，我们可以看到两个单峰分布，没有明显的离群值。
- en: '![](../Images/0618db77d718145dbbae08f54f2b5efe.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0618db77d718145dbbae08f54f2b5efe.png)'
- en: Image by author
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来自作者
- en: Classic statistical approach
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 经典统计方法
- en: The classic approach to analysing A/B tests is to use statistical formulas.
    Using [the scipy package](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html),
    we can calculate the confidence interval for the difference between the two means.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 分析 A/B 测试的经典方法是使用统计公式。使用 [scipy 包](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html)，我们可以计算两个均值之间差异的置信区间。
- en: '[PRE0]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We got a p-value below 1%. So, we can reject the null hypothesis and conclude
    that there’s a difference in average time spent per case in the control and test
    groups. To understand the effect size, we can also calculate the confidence interval.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到的 p 值低于 1%。因此，我们可以拒绝零假设，得出结论：控制组和实验组在每个案件的平均处理时间上存在差异。为了了解效应大小，我们还可以计算置信区间。
- en: '[PRE1]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: As expected since p-value is below 5%, our confidence interval doesn’t include
    0.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如预期的那样，由于 p 值低于 5%，我们的置信区间不包括 0。
- en: The traditional approach works. However, we can get the same results with linear
    regression, which will also allow us to do more advanced analysis later. So, let’s
    discuss this method.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 传统方法是有效的。然而，我们可以通过线性回归得到相同的结果，这也将使我们能够进行更深入的分析。所以，让我们讨论这种方法。
- en: Linear regression basics
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 线性回归基础
- en: As we already discussed, observing both potential outcomes (with and without
    treatment) for the same object is impossible. Since we won’t be able to estimate
    the impact on each object individually, we need a model. Let’s assume the constant
    treatment effect.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前讨论的那样，观察同一对象的两种潜在结果（有处理和无处理）是不可能的。由于我们无法单独估算每个对象的影响，因此我们需要一个模型。让我们假设常数处理效应。
- en: '![](../Images/a34416e2ffbd1ae54f91b5d4bc0a350c.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a34416e2ffbd1ae54f91b5d4bc0a350c.png)'
- en: Then, we can write down the relation between outcome (time spent on request)
    and treatment in the following way, where
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以以以下方式写出结果（处理时间）和处理之间的关系，其中
- en: '`baseline` is a constant that shows the basic level of outcome,'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`baseline` 是一个常数，表示结果的基本水平，'
- en: '`residual` represents other potential relationships we don’t care about right
    now (for example, the agent’s maturity or complexity of the case).'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`residual` 代表我们现在不关心的其他潜在关系（例如，代理的成熟度或案件的复杂性）。'
- en: '![](../Images/cf0d2ede2be2f6085ee5e6de7eed76e5.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cf0d2ede2be2f6085ee5e6de7eed76e5.png)'
- en: It’s a linear equation, and we can get the estimation of the `impact` variable
    using linear regression. We will use [OLS (Ordinary Least Squares)](https://www.statsmodels.org/stable/generated/statsmodels.formula.api.ols.html)
    function from `statsmodels` package.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一条线性方程，我们可以使用线性回归来获得`impact`变量的估计值。我们将使用[OLS（普通最小二乘法）](https://www.statsmodels.org/stable/generated/statsmodels.formula.api.ols.html)函数，来自`statsmodels`包。
- en: '[PRE2]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'In the result, we got all the needed info: estimation of the effect (coefficient
    for the `treatment` variable), its p-value and confidence interval.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 结果中，我们得到了所有需要的信息：效果估计（`treatment`变量的系数）、其p值和置信区间。
- en: '![](../Images/a1250cda2826b14e4e2aa2843a3c09f3.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a1250cda2826b14e4e2aa2843a3c09f3.png)'
- en: Since the p-value is negligible (definitely below 1%), we can consider the effect
    significant and say that our LLM-based tool helps to reduce the time spent on
    a case by 1.866 minutes with a 95% confidence interval (1.814, 1.918). You can
    notice that we got exactly the same result as with statistical formulas before.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 由于p值极小（明显低于1%），我们可以认为效果显著，并且可以说我们的基于LLM的工具在95%的置信区间内，帮助减少了1.866分钟的案件处理时间（1.814,
    1.918）。你可以注意到，我们得到了与之前统计公式完全相同的结果。
- en: Adding more variables
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加更多变量
- en: As promised, we can make a more complex analysis with linear regression and
    take into account more factors, so let’s do it. In our initial approach, we used
    only one regressor — `treatment` flag. However, we can add more variables (for
    example, `complexity`).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 如承诺的那样，我们可以使用线性回归进行更复杂的分析，并考虑更多的因素，所以下来进行分析。在最初的方法中，我们只使用了一个回归变量——`treatment`标志。但是，我们可以添加更多的变量（例如，`complexity`）。
- en: '![](../Images/b8c0a722745b049a840d0bd106a0356f.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b8c0a722745b049a840d0bd106a0356f.png)'
- en: In this case, the `impact` will show estimation after accounting for all the
    effects of other variables in the model (in our case — task complexity). Let’s
    estimate it. Adding more variables into the regression model is straightforward
    — we just need to add another component to the equation.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，`impact`将显示考虑了模型中所有其他变量的影响后的估计（在我们的例子中——任务复杂性）。让我们进行估计。将更多的变量添加到回归模型中非常简单——我们只需在方程中添加另一个组件。
- en: '[PRE3]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Now, we see a bit higher estimation of the effect — 1.91 vs 1.87 minutes. Also,
    the error has decreased (0.015 vs 0.027), and the confidence interval has narrowed.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们看到效果的估计值略有增加——1.91分钟对比之前的1.87分钟。同时，误差减小了（0.015对比0.027），置信区间也变得更窄了。
- en: '![](../Images/99785fac19bd56dc65e90e10bc1df557.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/99785fac19bd56dc65e90e10bc1df557.png)'
- en: You can also notice that since complexity is a categorical variable, it was
    automatically converted into a bunch of dummy variables. So, we got estimations
    of -9.8 minutes for low-complexity tasks and -4.7 minutes for medium ones.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以注意到，由于复杂性是一个分类变量，它被自动转换成了一组虚拟变量。因此，我们得到了低复杂度任务为-9.8分钟，中等复杂度任务为-4.7分钟的估计值。
- en: Let’s try to understand why we got a more confident result after adding complexity.
    Time spent on a customer case significantly depends on the complexity of the tasks.
    So, complexity is responsible for a significant amount of our variable’s variability.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们试着理解为什么在添加复杂度后我们得到了更可信的结果。客户案件的处理时间显著依赖于任务的复杂性。因此，复杂性负责了我们变量方差的很大一部分。
- en: '![](../Images/ac8654d602d8de6ebb548602d07cd8b6.png)![](../Images/01c195707b6a119837cbae1876ab8c48.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ac8654d602d8de6ebb548602d07cd8b6.png)![](../Images/01c195707b6a119837cbae1876ab8c48.png)'
- en: Image by author
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: As I mentioned before, the coefficient for treatment estimates the impact after
    accounting for all the other factors in the equation. When we added complexity
    to our linear regression, it reduced the variance of residuals, and that’s why
    we got a narrower confidence interval for time.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我之前提到的，`treatment`的系数在考虑了方程中所有其他因素后，估算了影响。当我们将复杂度添加到我们的线性回归中时，它减少了残差的方差，这就是为什么我们得到了一个更窄的时间置信区间。
- en: 'Let’s double-check that complexity explains a significant proportion of variance.
    We can see a considerable decrease: time spent has a variance equal to 16.6, but
    when we account for complexity, it reduces to just 5.9.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再确认一下复杂性是否解释了方差的显著比例。我们可以看到一个显著的下降：时间花费的方差为16.6，但当考虑复杂性时，它减少到了仅为5.9。
- en: '[PRE4]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: So, we can see that adding a factor that can predict the outcome variable to
    a linear regression can improve your effect size estimations. Also, it’s worth
    noting that the variable is not correlated with treatment assignment (the tasks
    of each complexity have equal chances to be in the control or test group).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们可以看到，向线性回归中添加一个可以预测结果变量的因素，可以改善你的效应估计。此外，值得注意的是，这个变量与治疗分配无关（每个复杂度的任务有相等的机会分配到控制组或实验组）。
- en: Traditionally, causal graphs are used to show the relationships between the
    variables. Let’s draw such a graph to represent our current situation.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，因果图被用来显示变量之间的关系。让我们画出这样的图来表示我们当前的情况。
- en: '![](../Images/3c6779f99501a436ef225a281d211276.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3c6779f99501a436ef225a281d211276.png)'
- en: Image by author
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Non-linear relationships
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 非线性关系
- en: So far, we’ve looked only at linear relationships, but sometimes, it’s not enough
    to model our situation.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们只看了线性关系，但有时候，仅仅线性模型并不足以描述我们的情况。
- en: Let’s look at the data on LLM training that agents from the experiment group
    were supposed to pass. Only half of them have passed the LLM training and learned
    how to use the new tool effectively.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看实验组代理人应当通过的LLM训练数据。只有一半的代理人通过了LLM训练并学会了如何有效地使用新工具。
- en: '![](../Images/ff3651a27de9dced705b4343c85321ac.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ff3651a27de9dced705b4343c85321ac.png)'
- en: We can see a significant difference in average time spent for the treatment
    group who passed training vs. those who didn’t.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，通过训练的处理组和未通过训练的代理人在平均时间上有显著差异。
- en: '![](../Images/26136b99221d86cf69ed6ac29f818e20.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/26136b99221d86cf69ed6ac29f818e20.png)'
- en: Image by author
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: So, we should expect different impacts from treatment for these two groups.
    We can use non-linearity to express such relationships in formulas and add `treatment
    * passed_training` component to our equation.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们应该期待这两组在处理上的不同影响。我们可以使用非线性来表达这种关系，并在方程中加入`treatment * passed_training`项。
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The `treatment` and `passed_training` factors will also be automatically added
    to the regression. So, we will be optimising the following formula.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '`treatment`和`passed_training`因素也会自动添加到回归模型中。所以，我们将优化以下公式。'
- en: '![](../Images/4adf8c531b178069d7f825aadad48b16.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4adf8c531b178069d7f825aadad48b16.png)'
- en: We got the following results from the linear regression.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从线性回归中得到了以下结果。
- en: '![](../Images/366f32acd34e72a3bff332272c4cc710.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/366f32acd34e72a3bff332272c4cc710.png)'
- en: No statistically significant effect is associated with passed training since
    the p-value is above 5%, while other coefficients differ from zero.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 与通过训练相关的影响没有统计学意义，因为p值超过了5%，而其他系数则显著不同于零。
- en: Let’s put down all the different scenarios and estimate the effects using the
    coefficients we got from the linear regression.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们列出所有不同的情景，并使用我们从线性回归中得到的系数来估计效果。
- en: '![](../Images/7de8d3b2b49905d57eac953f7834a4d9.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7de8d3b2b49905d57eac953f7834a4d9.png)'
- en: 'So, we’ve got new treatment estimations: 2.5 minutes improvement per case for
    the agents who have passed the training and 1.3 minutes — for those who didn’t.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们得到了新的处理估计：通过训练的代理人每个案例平均提高2.5分钟，而未通过训练的代理人则是1.3分钟。
- en: Confounders
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 混杂因素
- en: Before jumping to conclusions, it’s worth double-checking some assumptions we
    made — for example, random assignment. We’ve discussed that we launched the experiment
    in some CS centres. Let’s check whether agents in the different centres are similar
    so that our control and test groups are non-biased.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在得出结论之前，值得再检查一下我们所做的一些假设——例如，随机分配。我们已经讨论过，我们在一些计算机科学中心开展了实验。让我们检查不同中心的代理人是否相似，以确保我们的控制组和实验组没有偏差。
- en: We know that agents differ by experience, which might significantly affect their
    performance. Our day-to-day intuition tells us that more experienced agents will
    spend less time on tasks. We can see in the data that it is actually like this.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道，代理人因经验不同，其表现可能会有显著差异。我们的日常直觉告诉我们，更有经验的代理人会在任务上花费更少的时间。从数据中我们可以看到，确实是这样。
- en: '![](../Images/400aa324a10620d11a45025f5eaf720f.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/400aa324a10620d11a45025f5eaf720f.png)'
- en: Image by author
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Let’s see whether our experiment and control have the same level of agents’
    experience. The easiest way to do it is to look at distributions.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看我们的实验组和对照组是否有相同水平的代理人经验。最简单的方法是查看分布。
- en: '![](../Images/de79e6081534f5ee8a6fc6c2bae52be4.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/de79e6081534f5ee8a6fc6c2bae52be4.png)'
- en: Image by author
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Apparently, agents in the treatment group have much more experience than the
    ones in the control group. Overall, it makes sense that the product team decided
    to launch the experiment, starting with the more trained agents. However, it breaks
    our assumption about random assignment. Since the control and test groups are
    different even without treatment, we are overestimating the effect of our LLM
    tool on the agents’ performance.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，治疗组的代理比控制组的代理有更多的经验。总体来说，产品团队决定从经验更丰富的代理开始实验是有道理的。然而，这打破了我们关于随机分配的假设。由于控制组和测试组即便没有治疗也存在差异，我们高估了LLM工具对代理表现的影响。
- en: Let’s return to our causal graph. The agent’s experience affects both treatment
    assignment and output variable (time spent). Such variables are called confounders.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到因果图。代理的经验同时影响治疗分配和输出变量（花费时间）。这类变量被称为混杂因素。
- en: '![](../Images/b740623812980bbad8c2b213b3a344f9.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b740623812980bbad8c2b213b3a344f9.png)'
- en: Image by author
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来自作者
- en: Don’t worry. We can solve this issue effortlessly — we just need to include
    confounders in our equation to control for it. When we add it to the linear regression,
    we start to estimate the treatment effect with fixed experience, eliminating the
    bias. Let’s try to do it.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 别担心。我们可以轻松解决这个问题——只需要在我们的方程中包含混杂因素来进行控制。当我们将其添加到线性回归中时，我们开始在固定经验的前提下估计治疗效应，从而消除偏差。让我们试试看。
- en: '[PRE6]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](../Images/20eb8218d670ad69fd61b7214ab049b5.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/20eb8218d670ad69fd61b7214ab049b5.png)'
- en: 'With added tenure, we got the following results:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 加入任期后，我们得到了以下结果：
- en: There is no statistically significant effect of passed training or treatment
    alone since the p-value is above 5%. So, we can conclude that an LLM helper does
    not affect agents’ performance unless they have passed the training. In the previous
    iteration, we saw a statistically significant effect, but it was due to tenure
    confounding bias.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单独考虑通过培训或治疗的影响并无统计学显著性，因为p值高于5%。因此，我们可以得出结论，LLM助手不会影响代理的表现，除非他们通过了培训。在之前的迭代中，我们看到过一个统计学显著的效果，但那是由于任期混杂偏差造成的。
- en: The only statistically significant effect is for the treatment group with passed
    training. It equals 1.07 minutes with a 95% confidence interval (1.02, 1.11).
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唯一具有统计学显著性的效果是对于通过培训的治疗组。其结果为1.07分钟，95%的置信区间为（1.02，1.11）。
- en: Each month of tenure is associated with 0.05 minutes less time spent on the
    task.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个月的任期与任务上花费时间减少0.05分钟相关。
- en: We are working with synthetic data so we can easily compare our estimations
    with actual effects. The LLM tool reduces the time spent per task by 1 minute
    if the agent has passed the training, so our estimations are pretty accurate.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用的是合成数据，因此可以轻松地将我们的估计与实际效果进行比较。如果代理通过了培训，LLM工具可以将每个任务所花费的时间减少1分钟，因此我们的估计相当准确。
- en: Bad controls
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 不良控制
- en: 'Machine learning tasks are often straightforward: you gather data with all
    possible features you can get, try to fit some models, compare their performance
    and pick the best one. Contrarily, causal inference requires some art and a deep
    understanding of the process you’re working with. One of the essential questions
    is what features are worth including in regression and which ones will spoil your
    results.'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习任务通常很简单：你收集尽可能多的特征数据，尝试拟合一些模型，比较它们的表现，然后选择最佳模型。相反，因果推断需要一些技巧和对所处理过程的深刻理解。一个关键问题是，哪些特征值得纳入回归分析，哪些特征会破坏你的结果。
- en: Till now, all the additional variables we’ve added to the linear regression
    have been improving the accuracy. So, you might think adding all your features
    to regression will be the best strategy. Unfortunately, it’s not that easy for
    causal inference. In this section, we will look at a couple of cases when additional
    variables decrease the accuracy of our estimations.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 直到现在，我们添加到线性回归中的所有额外变量都在提高准确性。所以，你可能认为将所有特征都添加到回归分析中将是最佳策略。不幸的是，因果推断并不是那么简单。在本节中，我们将讨论几个额外变量反而降低估计准确性的情况。
- en: For example, we have a CS centre in data. We’ve assigned treatment based on
    the CS centre, so including it in the regression might sound reasonable. Let’s
    try.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们的数据中有一个客户服务中心。我们基于客户服务中心分配了治疗，因此将其纳入回归分析可能听起来合情合理。让我们试试看。
- en: '[PRE7]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: For simplicity, I’ve removed non-linearity from our dataset and equation, filtering
    out cases where the agents from the treatment groups didn’t pass the LLM training.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化，我已从数据集和方程中去除非线性因素，筛选出那些治疗组中的代理没有通过LLM培训的情况。
- en: '![](../Images/6f00e87b17147d07b8bd183307812840.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6f00e87b17147d07b8bd183307812840.png)'
- en: If we include the CS centre in linear regression, we will get a ridiculously
    high estimation of the effect (around billions) without statistical significance.
    So, this variable is rather harmful than helpful.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将CS中心包含在线性回归中，我们将得到一个荒谬的高估计效果（大约数十亿），但没有统计显著性。因此，这个变量比有帮助更有害。
- en: Let’s update a causal chart and try to understand why it doesn’t work. CS centre
    is a predictor for our treatment but has no relationship with the output variable
    (so it’s not a confounder). Adding a treatment predictor leads to [multicollinearity](https://en.wikipedia.org/wiki/Multicollinearity)
    (like in our case) or reduces the treatment variance (it’s challenging to estimate
    the effect of treatment on the output variable since treatment doesn’t change
    much). So, it’s a bad practice to add such variables to the equation.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更新一个因果图，并尝试理解为什么它不起作用。CS中心是我们治疗的预测因子，但与输出变量没有关系（因此它不是一个混杂变量）。增加一个治疗预测因子会导致[多重共线性](https://en.wikipedia.org/wiki/Multicollinearity)（就像在我们这个例子中）或减少治疗的方差（因为治疗变化不大，很难估计治疗对输出变量的影响）。因此，将这样的变量加入方程是不好的做法。
- en: '![](../Images/ada33c9d3c4a1833ef16078795c03123.png)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ada33c9d3c4a1833ef16078795c03123.png)'
- en: Image by author
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Let’s move on to another example. We have a `within_sla` variable showing whether
    the agents finished the task within 15 minutes. Can this variable improve the
    quality of our effect estimations? Let’s see.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看另一个例子。我们有一个`within_sla`变量，表示代理是否在15分钟内完成任务。这个变量能否提高我们的效果估计质量？让我们看看。
- en: '[PRE8]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../Images/8d1a2c67d5cab2044088ec1ff89b0689.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8d1a2c67d5cab2044088ec1ff89b0689.png)'
- en: 'The new effect estimation is way lower: 0.8 vs 1.1 minutes. So, it poses a
    question: which one is more accurate? We’ve added more parameters to this model,
    so it’s more complex. Should it give more precise results, then? Unfortunately,
    it’s not always like that. Let’s dig deeper into it.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 新的效果估计值大大降低：0.8分钟对比1.1分钟。那么，这就提出了一个问题：哪一个更准确？我们在这个模型中增加了更多参数，因此它更复杂。难道它应该提供更精确的结果吗？不幸的是，情况并不总是这样。让我们深入探讨一下。
- en: In this case, `within_sla` flag shows whether the agent solved the problem within
    15 minutes or the question took more time. So, if we return to our causal chart,
    `within_sla` flag is an outcome of our output variable (time spent on the task).
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，`within_sla`标志表示代理是否在15分钟内解决了问题，或者问题花费了更多时间。因此，如果我们回到我们的因果图，`within_sla`标志是我们的输出变量（任务所花费的时间）的一个结果。
- en: '![](../Images/057099dd7a9f9fddbd00dcd8a695f64a.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/057099dd7a9f9fddbd00dcd8a695f64a.png)'
- en: Image by author
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 'When we add the `within_slag` flag into regression and control for it, we are
    starting to estimate the effect of treatment with a fixed value of `within_sla`.
    So, we will have two cases: `within_sla = 1` and `within_sla = 0`. Let’s look
    at the bias for each of them.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们将`within_sla`标志加入回归并加以控制时，我们开始估计治疗的效果，固定`within_sla`的值。因此，我们将有两种情况：`within_sla
    = 1`和`within_sla = 0`。让我们看看它们的偏差。
- en: '![](../Images/810ed377efda1f0430563b7a948eef48.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/810ed377efda1f0430563b7a948eef48.png)'
- en: In both cases, bias is not equal to 0, which means our estimation is biased.
    At first glance, it might look a bit counterintuitive. Let me explain the logic
    behind it a bit.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在这两种情况下，偏差不等于0，这意味着我们的估计是有偏的。乍一看，这似乎有点违反直觉。让我稍微解释一下其中的逻辑。
- en: In the first equation, we compare cases where agents finished the tasks within
    15 minutes with the help of the LLM tool and without. The previous analysis shows
    that the LLM tool (our treatment) tends to speed up agents’ work. So, if we compare
    the expected time spent on tasks without treatments (when agents work independently
    without the LLM tool), we should expect quicker responses from the second group.
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第一个方程中，我们比较了使用LLM工具和不使用LLM工具的代理在15分钟内完成任务的情况。之前的分析表明，LLM工具（我们的治疗手段）通常能加速代理的工作。所以，如果我们比较没有治疗（即代理独立工作而没有LLM工具）时预期的任务完成时间，我们应该预期第二组的响应会更快。
- en: Similarly, for the second equation, we are comparing agents who haven’t completed
    tasks within 15 minutes, even with the help of LLM and those who did it on their
    own. Again, we should expect longer response times from the first group without
    treatment.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类似地，对于第二个方程，我们正在比较没有在15分钟内完成任务的代理，即使在LLM的帮助下，以及那些独立完成任务的代理。我们应该预期第一组在没有治疗的情况下响应时间更长。
- en: It’s an example of selection bias — a case when we control for a variable on
    the path from treatment to output variable or outcome of the output variable.
    Controlling for such variables in a linear regression also leads to biased estimations,
    so don’t do it.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 这是选择偏差的一个例子——当我们控制了从处理到输出变量或输出变量结果路径上的一个变量时，就会发生这种情况。在进行线性回归时控制这些变量也会导致偏差估计，所以不要这么做。
- en: Grouped data
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分组数据
- en: In some cases, you might not have granular data. In our example, we might not
    know the time spent on each task individually, but know the averages. It’s easier
    to track aggregated numbers for agents. For example, “within two hours, an agent
    closed 15 medium tasks”. We can aggregate our raw data to get such statistics.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，你可能没有详细的数据。在我们的例子中，我们可能不知道每个任务单独花费的时间，但知道平均时间。跟踪代理的汇总数据更容易。例如，“在两个小时内，一名代理完成了15个中等难度的任务”。我们可以将原始数据进行汇总，从而获得这些统计数据。
- en: '[PRE9]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: It’s not a problem for linear regression to deal with agent-level data. We just
    need to specify weights for each agent (equal to the number of cases).
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 对于线性回归来说，处理代理级别的数据并不是问题。我们只需要为每个代理指定权重（等于案例的数量）。
- en: '[PRE10]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: With aggregated data, we have roughly the same results for the effect of treatment.
    So, there’s no problem if you have only average numbers.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 对于汇总数据，我们得到的治疗效果的结果大致相同。所以，如果你只有平均数据，也没有问题。
- en: '![](../Images/34da6d9271c106fb0dcdad1e9df19225.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/34da6d9271c106fb0dcdad1e9df19225.png)'
- en: 'Use case: observational data'
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用案例：观察性数据
- en: 'We’ve looked at the A/B test examples for causal inference in detail. However,
    in many cases, we can’t conduct a proper randomised trial. Here are some examples:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经详细查看了用于因果推断的A/B测试例子。然而，在许多情况下，我们不能进行适当的随机试验。以下是一些例子：
- en: Some experiments are unethical. For example, you can’t push students to drink
    alcohol or smoke to see how it affects their performance at university.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有些实验是不道德的。例如，你不能强迫学生饮酒或吸烟，看它如何影响他们在大学的表现。
- en: In some cases, you might be unable to conduct an A/B test because of legal limitations.
    For example, you can’t charge different prices for the same product.
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，由于法律限制，你可能无法进行A/B测试。例如，你不能对同一产品收取不同的价格。
- en: Sometimes, it’s just impossible. For example, if you are working on an extensive
    rebranding, you will have to launch it globally one day with a big PR announcement.
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有时，这简直是不可能的。例如，如果你正在进行大规模的品牌重塑，你将不得不在某一天通过一个大的公关宣布全球推出。
- en: In such cases, you have to use just observations to make conclusions. Let’s
    see how our approach works in such a case. We will use the [Student Performance
    data set](https://archive.ics.uci.edu/dataset/320/student+performance) from the
    UC Irvine Machine Learning Repository.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，你必须仅凭观察数据得出结论。让我们看看在这种情况下我们的方法如何发挥作用。我们将使用[学生表现数据集](https://archive.ics.uci.edu/dataset/320/student+performance)来自加州大学欧文分校的机器学习库。
- en: Let’s use this real-life data to investigate how willingness to take higher
    education affects the math class’s final score. We will start with a trivial model
    and a causal chart.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用这个实际数据集来研究愿意接受高等教育的意愿如何影响数学课程的最终成绩。我们将从一个简单的模型和因果图开始。
- en: '![](../Images/b01f701a1cea9821fefc8cd9a1571485.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b01f701a1cea9821fefc8cd9a1571485.png)'
- en: Image by author
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: '[PRE11]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: We can see that willingness to continue education statistically significantly
    increases the final grade for the course by 3.8 points.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，继续教育的意愿在统计上显著地提高了课程的最终成绩，增加了3.8分。
- en: '![](../Images/47146d5433494b7f68d962b5a37459f9.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/47146d5433494b7f68d962b5a37459f9.png)'
- en: However, there might be some confounders that we have to control for. For example,
    parents’ education can affect both treatments (*children are more likely to plan
    to take higher education if their parents have it*) and outcomes (*educated parents
    are more likely to help their children so that they have higher grades*). Let’s
    add the mother and father’s education level to the model.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，可能存在一些混杂因素，我们必须加以控制。例如，父母的教育水平可能同时影响治疗效果（*如果父母受过教育，孩子更有可能计划接受高等教育*）和结果（*受过教育的父母更可能帮助孩子，因此孩子的成绩更高*）。让我们将母亲和父亲的教育水平添加到模型中。
- en: '![](../Images/4fab84acf7273347f617d81d79bc1166.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4fab84acf7273347f617d81d79bc1166.png)'
- en: Image by author
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: '[PRE12]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: We can see a statistically significant effect from the mother’s education. We
    likely improved the accuracy of our estimation.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到母亲的教育水平对结果有统计学上的显著影响。我们可能提高了估计的准确性。
- en: '![](../Images/1873559d8ab4425542352f47eeab6e91.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1873559d8ab4425542352f47eeab6e91.png)'
- en: However, we should treat any causal conclusions based on observational data
    with a pinch of salt. We can’t be sure that we’ve taken into account all confounders
    and that the estimation we’ve got is entirely unbiased.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们应该对任何基于观察性数据得出的因果结论持谨慎态度。我们不能确定是否已经考虑了所有混杂变量，并且我们得到的估计是否完全无偏。
- en: 'Also, it might be tricky to interpret the direction of the relation. We are
    sure there’s a correlation between willingness to continue education and final
    grade. However, we can interpret it in multiple ways:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，解释关系的方向可能会有些棘手。我们确信继续教育的意愿与最终成绩之间存在相关性。然而，我们可以从多个角度来解释这一点：
- en: Students who want to continue their education are more motivated, so they have
    higher final grades.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 希望继续接受教育的学生更有动力，因此他们的最终成绩较高。
- en: Students with higher final grades are inspired by their success in studying,
    and that’s why they want to continue their education.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成绩较高的学生受到学习成功的激励，这就是为什么他们想继续教育的原因。
- en: With observational data, we can only use our common sense to choose one option
    or the other. There’s no way to infer this conclusion from data.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在观察性数据中，我们只能凭借常识选择一种选项。我们无法仅通过数据推断出这个结论。
- en: Despite the limitations, we can still use this tool to try our best to come
    to some conclusions about the world. As I mentioned, causal inference is based
    significantly on domain knowledge and common sense, so it’s worth spending time
    near the whiteboard to think deeply about the process you’re modelling. It will
    help you to achieve excellent results.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管存在一些局限性，我们仍然可以使用这个工具尽力得出一些关于世界的结论。正如我提到的，因果推断在很大程度上依赖于领域知识和常识，因此值得花时间在白板旁深思熟虑你所建模的过程。这将有助于你取得卓越的成果。
- en: You can find complete code for these examples on [GitHub](https://github.com/miptgirl/miptgirl_medium/tree/main/causal_inference_linear_regression).
  id: totrans-196
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你可以在[GitHub](https://github.com/miptgirl/miptgirl_medium/tree/main/causal_inference_linear_regression)上找到这些示例的完整代码。
- en: Summary
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'We’ve discussed quite a broad topic of causal inference, so let me recap what
    we’ve learned:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 我们讨论了一个相当广泛的因果推断主题，让我来总结一下我们所学到的内容：
- en: The main goal of predictive analytics is to get accurate forecasts. The causal
    inference is focused on understanding the relationships, so we care more about
    the coefficients in the model than the actual predictions.
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预测分析的主要目标是获得准确的预测。因果推断侧重于理解变量之间的关系，因此我们更关心模型中的系数，而非实际的预测结果。
- en: We can leverage linear regression to get the causal conclusions.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以利用线性回归得出因果结论。
- en: Understanding what features we should add to the linear regression is an art,
    but here is some guidance.
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解我们应该在线性回归中添加哪些特征是一门艺术，但这里有一些指导。
- en: — You must include confounders (features that affect both treatment and outcome).
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: — 必须包括混杂变量（同时影响处理和结果的特征）。
- en: — Adding a feature that predicts the output variable and explains its variability
    can help you to get more confident estimations.
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: — 添加一个能预测输出变量并解释其变化的特征，可以帮助你获得更有信心的估计。
- en: — Avoid adding features that either affect only treatment or are the outcome
    of the output variable.
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: — 避免添加仅影响处理或是输出变量结果的特征。
- en: You can use this approach for both A/B tests and observational data. However,
    with observations, we should treat our causal conclusions with a pinch of salt
    because we can never be sure that we accounted for all confounders.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以将这种方法应用于A/B测试和观察性数据。然而，对于观察性数据，我们应当对因果结论持谨慎态度，因为我们无法确保已经考虑了所有混杂变量。
- en: Thank you a lot for reading this article. If you have any follow-up questions
    or comments, please leave them in the comments section.
  id: totrans-206
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 非常感谢你阅读这篇文章。如果你有任何后续问题或评论，请在评论区留言。
- en: Dataset
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据集
- en: '*Cortez, Paulo. (2014). Student Performance.* *UCI Machine Learning Repository
    (CC BY 4.0).* [https://doi.org/10.24432/C5TG7T](https://doi.org/10.24432/C5TG7T.)'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '*Cortez, Paulo. (2014). 学生表现。* *UCI机器学习库 (CC BY 4.0)。* [https://doi.org/10.24432/C5TG7T](https://doi.org/10.24432/C5TG7T.)'
- en: Reference
  id: totrans-209
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '*All the images are produced by the author unless otherwise stated.*'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '*除非另有说明，所有图片均由作者制作。*'
- en: This article is inspired by the book [Causal Inference for the Brave and True](https://matheusfacure.github.io/python-causality-handbook/landing-page.html)
    that gives a wonderful overview on the causal inference basics.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 本文的灵感来源于《[勇敢而真实的因果推断](https://matheusfacure.github.io/python-causality-handbook/landing-page.html)》一书，该书对因果推断的基础进行了精彩的概述。
