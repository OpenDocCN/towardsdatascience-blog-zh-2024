<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Python’s Parallel Paradigm Shift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Python’s Parallel Paradigm Shift</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pythons-parallel-paradigm-shift-2bb40d3c2dd0?source=collection_archive---------1-----------------------#2024-07-22">https://towardsdatascience.com/pythons-parallel-paradigm-shift-2bb40d3c2dd0?source=collection_archive---------1-----------------------#2024-07-22</a></blockquote><div><div class="em ff fg fh fi fj"/><div class="fk fl fm fn fo"><div class="fp"><div class="ab cb"><div class="fq fr fs ft fu fv cf fw cg fx ci bh"><figure class="gb gc gd ge gf fp gg gh paragraph-image"><div role="button" tabindex="0" class="gi gj ed gk bh gl"><div class="fy fz ga"><img src="../Images/f700ad20e272a5dedb6b7a27e49a6c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*w8rtq5WSDxMLZ5l4v2bfeg.png"/></div></div><figcaption class="go gp gq fy fz gr gs bf b bg z dx">Image by AI (Dalle-3)</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ew ex ey ez"><div><div class="speechify-ignore l"><div class="gb gc gd ge gf l"/><div class="cl ab gt"><div class="gw ab"><div class="bm" aria-hidden="false"><button class="l ay ao am" aria-label="Member-only story"><div class="h k j i d"><div><div class="bm" aria-hidden="false"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewbox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"/></svg></div></div></div><div class="s u w ea eb q"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewbox="0 0 64 64" class="gu gv"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"/></svg><p class="bf b bg z dx">Member-only story</p></div></button></div></div></div></div></div><div><h2 id="078f" class="pw-subtitle-paragraph hs gy gz bf b ht hu hv hw hx hy hz ia ib ic id ie if ig ih cq dx">Exploring the performance potential of a GIL-free Python</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="ii ij ik il im ab"><div><div class="ab in"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@thomas_reid?source=post_page---byline--2bb40d3c2dd0--------------------------------" rel="noopener follow"><div class="l io ip by iq ir"><div class="l ed"><img alt="Thomas Reid" class="l ep by dd de cx" src="../Images/c1b4e5f577272633ba07e5dbfd21c02d.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*9HLVlE34bSbCDExHKmVpvg.jpeg"/><div class="is by l dd de em n it eo"/></div></div></a></div></div><div class="iu ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--2bb40d3c2dd0--------------------------------" rel="noopener follow"><div class="l iv iw by iq ix"><div class="l ed"><img alt="Towards Data Science" class="l ep by br iy cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="is by l br iy em n it eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="iz ab q"><div class="ab q ja"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b jb jc bk"><a class="af ag ah ai aj ak al am an ao ap aq ar jd" data-testid="authorName" href="https://medium.com/@thomas_reid?source=post_page---byline--2bb40d3c2dd0--------------------------------" rel="noopener follow">Thomas Reid</a></p></div></div></div><div class="je jf l"><div class="ab jg"><div class="ab"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewbox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"/><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"/></svg></div></div></div><span class="jh ji" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b jb jc dx"><button class="jj jk ah ai aj ak al am an ao ap aq ar jl jm jn" disabled="">Follow</button></p></div></div></span></div></div><div class="l jo"><span class="bf b bg z dx"><div class="ab cn jp jq jr"><div class="js jt ab"><div class="bf b bg z dx ab ju"><span class="gu l jo">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar jd ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--2bb40d3c2dd0--------------------------------" rel="noopener follow"><p class="bf b bg z jv jw jx jy jz ka kb kc bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="jh ji" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">13 min read</span><div class="kd ke l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jul 22, 2024</span></div></span></div></span></div></div></div><div class="ab cp kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku"><div class="h k w ea eb q"><div class="lk l"><div class="ab q ll lm"><div class="pw-multi-vote-icon ed gu ln lo lp"><div class=""><div class="lq lr ls lt lu lv lw am lx ly lz lp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l ma mb mc md me mf mg"><p class="bf b dy z dx"><span class="lr">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao lq mi mj ab q ee mk ml" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="hq"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count mh hq">3</span></p></button></div></div></div><div class="ab q kv kw kx ky kz la lb lc ld le lf lg lh li lj"><div class="mm k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al mn an ao ap jl mo mp mq" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep mr cn"><div class="l ae"><div class="ab cb"><div class="fq fs fu ms mt gm ci bh"><div class="ab"/></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al mn an ao ap jl mu mv ml mw mx my mz na s nb nc nd ne nf ng nh u ni nj nk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al mn an ao ap jl mu mv ml mw mx my mz na s nb nc nd ne nf ng nh u ni nj nk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h2 id="7d0d" class="nl nm gz bf nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi bk">What’s happening?</h2><p id="26c7" class="pw-post-body-paragraph oj ok gz ol b ht om on oo hw op oq or nw os ot ou oa ov ow ox oe oy oz pa pb fk bk">One of the most anticipated changes in Python (removal of the GIL — see PEP 703) is ready to test right now. The current pre-release version of Python (3.13.0b4) has experimental support for running with the global interpreter lock disabled when built with the <code class="cx pc pd pe pf b">--disable-gil</code> flag. Pythons built with this flag are also referred to as <code class="cx pc pd pe pf b"><strong class="ol ha">free-threaded</strong></code>versions of Python.</p><blockquote class="pg ph pi"><p id="25ba" class="oj ok pj ol b ht pk on oo hw pl oq or nw pm ot ou oa pn ow ox oe po oz pa pb fk bk"><strong class="ol ha">NB Work on this is still ongoing, so bugs are to be expected. Don’t use this version on production systems.</strong></p></blockquote><p id="3f55" class="pw-post-body-paragraph oj ok gz ol b ht pk on oo hw pl oq or nw pm ot ou oa pn ow ox oe po oz pa pb fk bk">In this article, I’ll take you through how to build this version of Python and show some examples of code with and without the GIL enabled to see what differences it makes to run times.</p><h2 id="a85c" class="nl nm gz bf nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi bk">Why does this matter?</h2><p id="4312" class="pw-post-body-paragraph oj ok gz ol b ht om on oo hw op oq or nw os ot ou oa ov ow ox oe oy oz pa pb fk bk">In a word, <strong class="ol ha">“performance”.</strong></p><p id="d2fe" class="pw-post-body-paragraph oj ok gz ol b ht pk on oo hw pl oq or nw pm ot ou oa pn ow ox oe po oz pa pb fk bk">Because free-threaded execution can use all the available cores on your system simultaneously, code will often run faster. As data scientists, and ML or data engineers this applies not only to your code but also to the code that builds the systems, frameworks, and libraries that you rely on.</p><p id="925e" class="pw-post-body-paragraph oj ok gz ol b ht pk on oo hw pl oq or nw pm ot ou oa pn ow ox oe po oz pa pb fk bk">Many machine learning and data science tasks are CPU-intensive, particularly during model…</p></div></div></div></div>    
</body>
</html>