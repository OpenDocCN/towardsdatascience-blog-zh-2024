- en: 'MIT Battlecode Reflections: A First-Time Finalist’s Takeaways'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MIT Battlecode反思：一个首次进入决赛者的收获
- en: 原文：[https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07](https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07](https://towardsdatascience.com/battlecode-2024-finalist-ad3166c1acd5?source=collection_archive---------11-----------------------#2024-11-07)
- en: Key Takeaways from a First-Time Contestant
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第一次参赛者的关键收获
- en: '[](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)[![David
    Teather](../Images/16e6bce5266bfdc658bc55ed96e7f0ef.png)](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)
    [David Teather](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)[![David
    Teather](../Images/16e6bce5266bfdc658bc55ed96e7f0ef.png)](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)
    [David Teather](https://medium.com/@davidteather?source=post_page---byline--ad3166c1acd5--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)
    ·14 min read·Nov 7, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于[Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--ad3166c1acd5--------------------------------)
    ·14分钟阅读·2024年11月7日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/3b9036f444ead6e898e6e70e15fd3726.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3b9036f444ead6e898e6e70e15fd3726.png)'
- en: Image created by the author, using [Battlecode’s Engine](https://github.com/battlecode/battlecode24)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者制作，使用了[Battlecode引擎](https://github.com/battlecode/battlecode24)
- en: I was dragged into Battlecode 2024 by one of our teammates. I had never heard
    of Battlecode before, but I was excited to try it out. I had a lot of fun and
    I’m glad I did it, and we ended up qualifying for the finals and placing 13th
    overall. So I figured I’d write a blog post about the experience from the perspective
    of a first time participant.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我是被我们的一位队友拉进了Battlecode 2024的。我之前从未听说过Battlecode，但我很兴奋能尝试一下。我玩得很开心，也很高兴自己参与了，我们最终进入了决赛并获得了总排名第13。所以我决定从第一次参赛者的角度写一篇博客，分享这次经历。
- en: This was cross-posted from my [blog](https://dteather.com/blogs/battlecode24/),
    so if you’re interested check more out there.
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这篇文章也被发布在我的[博客](https://dteather.com/blogs/battlecode24/)上，如果你感兴趣，可以去那里查看更多内容。
- en: What is Battlecode?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是Battlecode？
- en: Battlecode is a contest where you write code to control a team of robots that
    have to accomplish some task. You can read more about it [here](https://www.battlecode.org/).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Battlecode 是一项比赛，你需要编写代码来控制一队机器人，完成某些任务。你可以在[这里](https://www.battlecode.org/)了解更多关于它的信息。
- en: This year the game was a duck based capture the flag game where our goal was
    to capture all 3 of the flags from the opponent. The game is played on a grid
    and each team has a base where they spawn ducks. Ducks can move around the map,
    build traps, and attack other ducks. The game is played in rounds, and each round
    the ducks are given a set amount of bytecode to execute their actions.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 今年的游戏是一个以鸭子为基础的夺旗游戏，我们的目标是从对方那里夺取3面旗帜。游戏在一个网格上进行，每支队伍都有一个基地，在那里它们生成鸭子。鸭子可以在地图上移动、建造陷阱并攻击其他鸭子。游戏分为多个回合，每个回合鸭子都会获得一定量的字节码来执行它们的行动。
- en: Here’s a quick snippet of what the game looks like
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个快速展示游戏样貌的片段
- en: '![](../Images/3b9036f444ead6e898e6e70e15fd3726.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3b9036f444ead6e898e6e70e15fd3726.png)'
- en: Example match inside of the [Battlecode’s Engine](https://github.com/battlecode/battlecode24),
    created by the author
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在[Battlecode引擎](https://github.com/battlecode/battlecode24)中进行的示例比赛，由作者创建
- en: There’s a lot going on in that gif so let’s break it down a little bit.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 那个动图里有很多内容，所以让我们稍微分析一下。
- en: Duck Actions
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 鸭子行动
- en: Each duck has a few actions to help attack or defend flags that it can perform
    each turn/round (shown at the bottom of the gif above). Each action has a specific
    cooldown so you can’t just spam the same action over and over again.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 每只鸭子有几个动作，可以帮助攻击或防守旗帜，这些动作每回合/回合内可以执行（如上面动图下方所示）。每个动作都有一个特定的冷却时间，所以你不能一遍又一遍地重复相同的动作。
- en: Move to a new tile
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移动到新方格
- en: 'Build traps: water, bombs, stuns, dig a water pit, and fill a water pit'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 建设陷阱：水、炸弹、眩晕、挖水坑、填水坑
- en: Pick up flag
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拿旗帜
- en: Attack an enemy duck
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击敌方小鸭子
- en: Heal
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 治疗
- en: Respawn
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复活
- en: '- When a duck dies, it can respawn at one of the team’s spawn points after
    ~20 rounds'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 当一只小鸭子死亡后，它将在大约20回合后从队伍的一个出生点复活'
- en: Crumbs
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 面包屑
- en: 'There’s also a currency called crumbs that you can get from two ways: a few
    spawn on the map each round which you can pick up, and you also get some for killing
    enemy ducks in their territory.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一种叫做面包屑的货币，你可以通过两种方式获得：每回合在地图上会生成一些，你可以去捡，另外，你还可以通过在敌方领土上击杀敌鸭来获得。
- en: Actions that build traps require crumbs, which requires you to be strategic
    about how you use your crumbs.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 建设陷阱的动作需要面包屑，这要求你在使用面包屑时必须有策略。
- en: Why It’s Difficult
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么这很困难
- en: Since the same code gets deployed to all the ducks, you have to write code that
    can handle a lot of different situations. Maybe you want some ducks to focus on
    defending and building around base, maybe you want some designated to go out and
    capture flags, and maybe you want some to be aggressive and attack the enemy ducks.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 由于相同的代码会部署到所有小鸭子上，你必须编写能够应对各种不同情况的代码。也许你希望一些小鸭子专注于防守并围绕基地建造，可能你希望一些小鸭子被指定去捕旗，或者你希望一些小鸭子积极进攻敌方小鸭子。
- en: 'A few things that make it difficult:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一些让这项工作变得困难的因素：
- en: There’s a limited size shared array that each duck can read and write
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每只小鸭子都有一个有限大小的共享数组，可以读取和写入
- en: '- This is the only way to communicate information between your ducks about
    the state of the game'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 这是你与队伍中的其他小鸭子之间沟通游戏状态的唯一方式'
- en: '- This means you have to be strategic about what information you store in the
    array and how you use it, and if you have all your ducks performing the same action
    based on the same information you have to be careful because otherwise they’ll
    cluster up doing the same thing so you have to be careful about how you distribute
    the work'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 这意味着你必须策略性地决定在数组中存储哪些信息以及如何使用这些信息，如果你让所有的小鸭子基于相同的信息执行相同的动作，你必须小心，因为否则它们会聚集在一起做相同的事，所以你需要小心如何分配任务'
- en: Each duck is given 25K bytecode to execute per turn
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每只小鸭子每回合被分配25K字节码来执行
- en: '- This means that each turn each duck gets to execute a certain number of actions,
    calculations, and memory reads and writes.'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 这意味着每回合每只小鸭子可以执行一定数量的动作、计算以及内存读取和写入。'
- en: '- If you want super good pathfinding (which we didn’t have) you have to be
    careful about how you use your bytecode in intensive calculations like this otherwise
    you’ll run out of bytecode and your ducks will just sit there and do nothing'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 如果你想要非常好的路径规划（而我们没有做到），你必须小心如何在这种密集的计算中使用字节码，否则你会用尽字节码，小鸭子就会停在那里什么都不做。'
- en: '- Luckily we didn’t have to worry about this too much since 25K is quite large
    and apparently in previous years its been much smaller'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 幸运的是，我们不需要太担心这个问题，因为25K已经很大了，而且据说往年它要小得多。'
- en: I also feel like it’s really hard to tell if your new bot is better than the
    previous version, like usually it’s better in some situations and worse in others.
    Unlike most software I’m used to working on it’s easy to tell if what you’ve made
    is better than before since if you added a new feature it’s better than before.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我还觉得很难判断新的机器人是否比以前的版本更好，通常它在某些情况下更好，而在其他情况下则更差。与我通常从事的软件开发不同，我能很容易判断出你开发的东西是否比以前更好，因为如果你添加了新功能，它就比之前更好。
- en: For this I’d say like at least half of the features I tried to develop didn’t
    work super well and just ended up scrapping the changes. There’s so many branches
    for dead features that just didn’t work out.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 就此而言，我想说，我尝试开发的至少一半功能并没有很好地工作，最后我不得不放弃这些改动。有很多已经死掉的功能分支，根本没有成功。
- en: The Contest Structure
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 比赛结构
- en: Ok so now that we have a basic understanding of the game, let’s talk about the
    actual competition.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，现在我们对游戏有了基本的了解，接下来我们来谈谈实际的比赛。
- en: Leaderboard
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 排行榜
- en: The leaderboard is one of the most important parts of the contest. It’s a semi-live
    leaderboard that shows the rankings of all the teams in the contest. Every 4 hours
    there would be ranked games played against your relative neighbors on the leaderboard
    and if you win you gain more points and if you lose you lose points.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 排行榜是比赛中最重要的部分之一。它是一个半实时排行榜，显示了比赛中所有队伍的排名。每4小时，会有与排行榜上相邻队伍的比赛，如果获胜，你将获得更多的积分，失败则会失去积分。
- en: Furthermore, you can manually queue your own ranked games against other teams
    as long as they allow it. This is important because you can’t just queue games
    against the same team over and over again to farm points.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你可以手动排队与其他队伍进行排名比赛，只要他们允许。这一点很重要，因为你不能仅仅反复与同一个队伍排队比赛来刷分。
- en: However, you can also queue unranked games against any team which is important
    for testing your bot against other teams to see if the changes you made are actually
    better than before against real opponents.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，你也可以排队进行与任何队伍的非排名游戏，这对测试你的机器人与其他队伍对抗的表现非常重要，这样你可以看到你所做的更改是否真的比之前更好，尤其是在与真实对手对战时。
- en: Sprints
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 冲刺赛
- en: Sprints are a separate part of the contest where the organizers run a bracket
    of games and livestream the results. Sprints are played across all teams whether
    they’re in your division or not. The sprints are a fun way to see how your bot
    is doing against other teams and it’s also a good way to see how the other teams
    are doing.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 冲刺赛是比赛的一个独立部分，组织者会进行一系列的比赛并直播结果。冲刺赛是跨所有队伍进行的，不论它们是否在同一赛区。冲刺赛是一种有趣的方式，可以看到你的机器人与其他队伍的表现，同时也是观察其他队伍表现的好机会。
- en: The seeding of your team in the sprints is based on your leaderboard ranking,
    so if you’re doing well in the leaderboard you’ll be seeded higher in the sprints.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 你在冲刺赛中的种子排名也是根据你在排行榜上的排名来确定的，因此如果你在排行榜上表现好，你在冲刺赛中的种子排名也会更高。
- en: Tournaments
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比赛
- en: Tournaments are also livestreamed and are played across the teams in your divison
    in the same way as the sprints. The seeding of your team in the tournaments is
    based on your leaderboard ranking, so if you’re doing well in the leaderboard
    you’ll be seeded higher in the tournaments.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 比赛也会进行直播，并在你所在赛区的队伍间进行，就像冲刺赛一样。你在比赛中的种子排名是根据你在排行榜上的排名来决定的，因此如果你在排行榜上表现良好，你在比赛中的种子排名也会更高。
- en: In our year the top 12 US college teams and the top 4 international teams qualified
    for the finals. In addition there’s other divisions like high school and new to
    battlecode teams that have their own tournament.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们这一年中，排名前12的美国大学队伍和前4的国际队伍晋级到了决赛。此外，还有高中组和新加入的Battlecode队伍，它们有自己独立的比赛。
- en: Our Robot
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们的机器人
- en: Ok now that we know more about what battlecode is and how the contest is structured,
    let’s talk about our robot and some of the strategies we used. This section is
    going to be a little bit blurry because I’m writing this ~2 months after the contest
    and I don’t remember everything we did.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，现在我们对Battlecode有了更多了解，也知道比赛的结构是怎样的，接下来我们来谈谈我们的机器人以及我们使用的一些策略。由于这是比赛结束大约两个月后写的，所以这一部分可能会有些模糊，我不记得我们做的所有事情。
- en: Our Strategies
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的策略
- en: We had a few different strategies and variations of our bot across the tournament
    that we tried out especially as the game got tweaked for balance and we learned
    more about the game.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在整个比赛过程中，我们尝试了几种不同的策略和机器人的变体，尤其是在游戏调整平衡和我们了解更多游戏细节后。
- en: Setup Phase
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置阶段
- en: '- For the first 200 out of the 250 rounds of setup we just had all of our ducks
    move around randomly to try to explore as much of it as we could'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 在前200轮设置阶段中，我们让所有的鸭子随机移动，尽可能多地探索地图。'
- en: '- After that we had our ducks move to the center of the map and build traps
    next to the wall dividing the two sides of the map'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 在那之后，我们让我们的鸭子移动到地图的中心，并在分隔两侧地图的墙旁边建造陷阱。'
- en: Base Defense
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基地防御
- en: '- We had designated ducks that would stay at all times guarding our flags and
    building traps around our base and especially right on the flag itself which we
    placed down bombs and stun traps right on the flag so that if the enemy tried
    to pick it up they would get stunned and we could attack them.'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们指定了几只鸭子，始终驻守在保护我们的旗帜，并在我们的基地周围建造陷阱，尤其是在旗帜本身上，我们在旗帜上放置了炸弹和眩晕陷阱，这样如果敌人试图捡起旗帜，他们就会被眩晕，我们就可以攻击他们。'
- en: '- We also decided to make a water moat checkboard grid pattern around our flags
    so that the enemy ducks would either have to spend crumbs trying to fill the water
    or go through on the diagonals which made sure that the enemy ducks couldnt completely
    swarm our base at once and it made them funnel through a few paths which made
    it easier for our ducks to defend.'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们还决定在我们的旗帜周围设置一个水池棋盘格图案，这样敌方的鸭子要么需要花费很多时间填充水池，要么只能通过对角线进攻，这确保了敌方的鸭子无法一次性完全包围我们的基地，并且让它们通过几个通道，这样我们的鸭子更容易进行防守。'
- en: '- If a duck was guarding the flag and it saw an enemy duck nearby it would
    set a global variable in the shared array that would call other ducks to come
    help defend the flag. We also made sure that if these defense points were called
    that we would prefer ducks to spawn nearby to help defend the flag.'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 如果一只鸭子在守护旗帜时看到附近有敌方鸭子，它会在共享数组中设置一个全局变量，调用其他鸭子来协助防守旗帜。我们还确保当这些防守点被触发时，鸭子会优先在附近生成，以帮助防守旗帜。'
- en: '- But we had to be careful about this because if we called too many ducks to
    defend the flag then we wouldn’t have enough ducks to go out and capture the enemy
    flags.'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 但我们必须小心这一点，因为如果我们调动太多鸭子来防守旗帜，就会没有足够的鸭子出去夺取敌方旗帜。'
- en: Flag Passing
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 旗帜传递
- en: '- We noticed that often our bots would get stuck surrounding the duck with
    the flag and preventing it from really moving anywhere so we implemented a flag
    passing strategy where it would pass the flag to another duck closer to where
    the flag needed to be captured'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们注意到我们的机器人经常会被困在围绕旗帜的鸭子周围，导致旗帜无法真正移动，因此我们实施了一种旗帜传递策略，旗帜会传递给另一只离目标位置更近的鸭子，以便旗帜能够被顺利捕获。'
- en: '- We added this pretty late in the tournament and it worked pretty well.'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们在比赛后期才加入了这个策略，并且效果不错。'
- en: Flag Return
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 旗帜归还
- en: '- When a duck was returning the flag we had logic to assign nearby ducks to
    escort the duck returning the flag to make sure that it could get back to our
    base safely'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 当鸭子返回旗帜时，我们有逻辑分配附近的鸭子来护送返回旗帜的鸭子，以确保它能安全返回基地。'
- en: '- It also targeted to return to the base that was closest to where the flag
    carrier was'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 它也旨在返回到离旗帜携带者最近的基地'
- en: Things To Improve
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 需要改进的地方
- en: Pathfinding
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路径规划
- en: '- We took code from a previous year’s bot for doing BugNav pathfinding but
    in their year the bytecode limit was much smaller so we had a lot more bytecode
    that we could’ve been using to do smarter pathfinding but didn’t move to something
    better.'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们从前一年机器人的代码中借用了BugNav路径规划的代码，但由于当时字节码限制较小，所以我们有更多的字节码可以用于更智能的路径规划，但我们并没有进一步改进。'
- en: '- Our pathfinding was so bad that in the sprints we would often get stuck trying
    to return the flag and often lost games because of it and the casters would make
    fun of us for it 😭 but it was funny so I didn’t mind'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们的路径规划很糟糕，在冲刺过程中，我们经常因为无法顺利归还旗帜而卡住，常常因此输掉比赛，而解说员会取笑我们😭，但其实也挺好笑的，所以我不介意。'
- en: Better Distribution of Specializations
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更好的专长分配
- en: '- One thing I didn’t mention was that when a duck does an action enough times
    it’ll specialize in that action and get more efficient at it. This specialization
    also limits it’s peak efficiency in other actions so we should’ve probably been
    more careful about this since for a lot of the tournament most of our ducks were
    specialized in healing and we didn’t really need that many ducks specialized in
    healing since it made us worse at fighting.'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 有一件事我没提到的是，当鸭子做某个动作足够多次时，它会在这个动作上变得更高效并形成专长。这个专长也会限制它在其他动作上的最高效率，因此我们应该更加小心，因为在大部分比赛中，我们的大部分鸭子都专注于治疗，而我们其实并不需要那么多专注治疗的鸭子，因为这让我们在战斗中变得更弱。'
- en: '- I did make this a little bit more well balanced between healers and fighters
    at the end but I think this is something we should’ve done in a more calculated
    way to try to maximize the most out of our ducks'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 在最后，我确实稍微平衡了一下治疗者和战斗者之间的比例，但我认为我们应该以更有计划的方式来做这件事，以最大限度地发挥我们鸭子的优势。'
- en: Stuck Flag Duck
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被困的旗帜鸭子
- en: '- We just didn’t write any code to handle the case where a duck picks up the
    enemy flag and gets stuck somewhere like on an island surrounded by water and
    were just too lazy to fix it and it didn’t happen often enough for us to care
    about it too much.'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们没有编写代码来处理鸭子捡起敌方旗帜后卡在某个地方，比如被水环绕的岛屿上，我们懒得修复这个问题，而且这种情况并不常发生，所以我们也没太在意。'
- en: Duck Standoff
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 鸭子对峙
- en: '- Sometimes our ducks would just sit there and do nothing and not move because
    both groups of ducks calculated that they were at a disadvantage and that they
    shouldn’t be aggressive which was annoying and we didn’t really have a good way
    to handle this.'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 有时我们的鸭子会停在那里什么都不做，因为两组鸭子都计算出它们处于劣势，不应采取攻击性策略，这让人很烦恼，我们也没有一个好的方式来处理这种情况。'
- en: Moving Flags
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移动旗帜
- en: '- We tried to move the flags around the map in setup which lets you change
    the location where your flags are but we didn’t invest enough time into this for
    it to be super effective.'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 我们尝试在设置阶段移动地图上的旗帜，这样就可以更改旗帜的位置，但我们没有投入足够的时间，因此这个策略并未取得显著效果。'
- en: '- Other teams were able to move their flags around the map in more effective
    ways. Especially when they were scoring spots of the map based on things like
    the # of walls around the flag and the distance away from friendly spawns and
    enemy spawns.'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 其他队伍能够更有效地在地图上移动他们的旗帜，特别是当他们根据如旗帜周围的墙壁数量以及距离友方和敌方重生点的距离来评分地图的位置时。
- en: '- This is definitely a feature that we should’ve spent more time on since it
    was pretty effective for other teams'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '- 这绝对是我们应该花更多时间处理的一个功能，因为它对其他队伍来说非常有效。'
- en: You can find our code [here](https://github.com/shrimpkin/battlecode_24)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[这里](https://github.com/shrimpkin/battlecode_24)找到我们的代码。
- en: Qualifying
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 资格赛
- en: I just thought this would be fun to include but to qualify for the finals we
    had to win this match and we were pretty excited when we did. Here’s a video of
    us [winning the match](https://www.youtube.com/watch?v=-2-E2DP2t6A)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 我觉得这个视频很有趣，我们需要赢得这场比赛才能晋级决赛，当我们赢了时我们都非常兴奋。这是我们[赢得比赛](https://www.youtube.com/watch?v=-2-E2DP2t6A)的视频。
- en: '![](../Images/94f8a8312176376021074ac793afccbd.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/94f8a8312176376021074ac793afccbd.png)'
- en: Us winning the qualifying game on livestream. Video by the author
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在直播中赢得资格赛的画面。视频由作者提供。
- en: The Finals
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 决赛
- en: This section is more dedicated to our experience in Boston for the finals, which
    was pretty amazing but if you want to skip this segment and go to reflection section
    below that’s cool too.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分主要讲述我们在波士顿参加决赛的经历，这段经历非常棒，不过如果你想跳过这一部分直接看下面的反思部分也完全没问题。
- en: The Experience
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 经历
- en: The finals were held at MIT in Boston, and we all got flown out there for the
    event and it was my first time in memory being in Boston and the city was really
    pretty. We also ended up staying in the MIT dorms which was exciting because of
    the other people we met there through being in the dorms. Although, if I were
    to do it again I would’ve probably stayed in a hotel because the dorms are well
    ya know college dorms and could’ve been cleaner and I could’ve had a comfortable
    bed.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 决赛在波士顿的麻省理工学院举行，我们都飞到了那里参加这个活动，这是我记忆中第一次去波士顿，这座城市真的很漂亮。我们还住在了麻省理工学院的宿舍里，这很令人兴奋，因为我们在宿舍遇到了很多有趣的人。不过，如果让我再来一次，我可能会选择住酒店，因为宿舍毕竟是大学宿舍，环境没有那么干净，床也不够舒适。
- en: We also all were invited to a dinner before the finals where we got to meet
    the other teams and the organizers. It was interesting to see where everyone was
    from in addition we got some really nice food from them for the dinner.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还都受邀参加了决赛前的晚宴，在那里我们见到了其他队伍和组织者。很有趣的是，我们了解到大家来自哪里，此外，他们还为我们提供了非常好吃的晚餐。
- en: The Results
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结果
- en: The finals was hosted in their auditorium and was pretty fun to watch even if
    we went 0–2, but we did place 13th overall and it was already a huge accomplishment
    to make it this far.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 决赛在他们的礼堂举行，观看比赛真的很有趣，尽管我们以0-2的成绩结束了比赛，但我们最终排名第13，这已经是一个巨大的成就，能走到这一步。
- en: 'Also they ran a estimathon where we had to guess a range on some question and
    I ended up winning a duck from correctly estimating the number of MIT dorm residents
    that offered to host teams for the finals. Here’s a video of me catching the duck:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 他们还举办了一个估算比赛，我们需要猜测某个问题的范围，我最终通过正确估计麻省理工学院宿舍居民的数量，赢得了一只鸭子作为奖励。这里有我抓鸭子的视频：
- en: '![](../Images/8273f9e7775dcef3ff69f981f814e6e5.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8273f9e7775dcef3ff69f981f814e6e5.png)'
- en: Video from the [Battlecode Finalist Livestream](https://www.youtube.com/watch?v=F0jzPA_6YB4)
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 来自[Battlecode决赛直播](https://www.youtube.com/watch?v=F0jzPA_6YB4)的视频
- en: Fun fact is that I put a notebook under my jacket when I before I went walking
    up there so the video looks kinda silly because of how I’m walking 😭
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 有个有趣的事实是，在我走到台上之前，我把一本笔记本放在了夹克下面，所以视频里看起来我走路的样子有点傻 😭
- en: Reflection
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 反思
- en: I’m definitely not an expert on Battlecode, but I do have a few key takeaways
    from the experience and things I’d improve on if I were to do it again.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 我绝对不是Battlecode的专家，但我确实从这次经历中得到了一些关键的收获，如果我再做一次，有些地方我会做得更好。
- en: '**Invest Time in Writing Organized and Clean Code**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**投入时间编写有条理且干净的代码**'
- en: Even though that it initially might seem like a fairly simple game even in a
    year where our game was relatively simple compared to other years it’s criticial
    to invest a lot of time in writing organized and clean code.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管最初看起来这可能是一个相对简单的游戏，但即便在我们这一年比赛相对简单的情况下，与其他年份相比，投入大量时间编写有条理且干净的代码依然至关重要。
- en: We didn’t do code reviews, and didn’t refactor our code as much as we should’ve
    and it ended up biting us throughout the rest of the tournament as we had to fix
    bugs and just try to understand what our code was doing. This is something that
    I would suggest everyone invests more time in especially at the beginning to set
    up a good foundation and structure for your project so that you can build on it
    and make changes more easily.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有进行代码审查，也没有像应该的那样重构代码，结果在比赛的剩余阶段给我们带来了麻烦，因为我们不得不修复bug，并试图理解我们的代码到底在做什么。这是我建议大家在开始阶段就花更多时间投入的部分，建立一个好的项目基础和结构，以便你能在此基础上进行扩展，并更轻松地进行修改。
- en: Part of the reason we didn’t do this is because we felt we were rushed to get
    features out for the sprints to see how we were doing against everyone else and
    wanted our games to be shown on the stream.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有这样做的部分原因是我们觉得必须赶在冲刺前推出功能，看看自己与其他队伍的对比表现，并且希望自己的比赛能出现在直播中。
- en: '**Sprints Aren’t Everything**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**冲刺并非一切**'
- en: This brings us into the next point that sprints aren’t everything and don’t
    matter too much. You definitely should focus on the main event itself and not
    getting too caught up in making your bot perfect for the sprints.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这引出了下一个要点，即冲刺并非一切，它们并不那么重要。你绝对应该专注于主要的比赛本身，而不是过于纠结于让你的机器人在冲刺中变得完美。
- en: In addition, if you don’t end up making it that far in the sprints it’s not
    the end of the world. We never got our games shown on the sprint stream and certaintly
    didn’t win them. At least our year it felt like the bracket we were in (US college)
    was relatively small and if you don’t end up making it super far in the sprint
    it’s not over for your team and you can still qualify for the finals.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如果你在冲刺中没有走得太远，也不意味着世界末日。我们从未让我们的比赛出现在冲刺直播中，也肯定没有赢得比赛。至少在我们那年，感觉我们所在的分组（美国大学组）相对较小，如果你没有在冲刺中走得很远，对你的队伍来说也不意味着一切结束，你依然可以晋级决赛。
- en: '**Scrimmage a Lot**'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**进行大量对抗赛**'
- en: As I mentioned earlier, it’s super difficult to tell if your new bot is better
    than the previous version since you can only locally test your bot against other
    variants of code that you have and in a lot of cases it’s not super helpful to
    test against your previous versions of your bot because if they’re too similiar
    they’ll often draw a lot or you’ll see that the change you made is better in some
    situations and worse in others.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我之前提到的，要判断你的新机器人是否比旧版本更好其实非常困难，因为你只能在本地与其他代码变体进行测试，在很多情况下，测试自己之前的机器人版本并不太有帮助，因为如果它们太相似，通常会经常平局，或者你会看到你所做的改动在某些情况下更好，而在另一些情况下则更差。
- en: This is why it’s important to scrimmage a lot of other teams to see if your
    changes are actually better than before against real opponents that you’ll likely
    face in ranked games and the tournaments.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这也是为什么与其他队伍进行大量对抗性比赛非常重要，看看你的改动是否在实际对手面前比以前更好，尤其是这些对手是你在排名赛和锦标赛中可能会遇到的。
- en: It didn’t cross my mind until the end of the tournament when another team shared
    that they did this, but I think it’s a really good idea to make a script to automatically
    queue games against other teams and with some sort of evaluation to see if your
    changes are actually better than before. One script is linked [here](https://github.com/chenyx512/battlecode24/blob/main/compare_bots.py)
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 直到比赛结束时，另一支队伍分享了他们的做法，我才想到这个点。其实我认为这是一个非常好的主意，可以编写一个脚本，自动匹配其他队伍的比赛，并通过某种评估方式，看看你的改动是否真的比以前更好。一个脚本链接[在这里](https://github.com/chenyx512/battlecode24/blob/main/compare_bots.py)
- en: Even if you don’t have a script to automatically do this, it’s still important
    to manually queue games against other teams to see if your changes are actually
    better than before with the changes you made. We didn’t and we still queued 818
    total unranked scrimmaged which is the 8th most of any team. And 7th most total
    scrimmages with 1,294 in total.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你没有脚本来自动进行这些操作，手动匹配其他队伍的比赛仍然非常重要，这样你可以看到你的改动是否比以前更好。我们没有这样做，但我们仍然匹配了818场总计的非排名对抗赛，是所有队伍中第8多的。而总对抗赛数量为1,294场，是第7多的。
- en: '**Watch Your Games**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**观看你的比赛**'
- en: One of the downsides to an automated script to queue games is that you probably
    wouldn’t be watching your games as often. It’s super valuable to watch the games
    that you’re playing to see what situations your bot is doing well in and what
    situations it’s doing poorly in.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 使用自动化脚本匹配比赛的一个缺点是，你可能不会那么频繁地观看自己的比赛。观看自己比赛的过程非常宝贵，因为你可以看到你的机器人在哪些情况表现得很好，哪些情况表现得很差。
- en: This gives you a lot of information about what you can potentially do to improve
    your bot and your strategies.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这会给你很多关于如何改进你的机器人和策略的信息。
- en: '**Watch the Other Teams**'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '**观察其他队伍**'
- en: It’s also equally important to watch the other teams games (especially if they
    have auto scrimmages off) to see what strategies they’re using and how their bot
    is doing.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 同样重要的是观看其他队伍的比赛（特别是如果他们关闭了自动训练的话），看看他们使用了哪些策略，他们的机器人表现如何。
- en: If you see a team that’s doing much better than you or you see some interesting
    strategies that they’re using, don’t be afraid to steal and augment their strategies
    to fit your bot potentially even better than how they’re using it.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到有队伍的表现比你强，或者看到他们使用了一些有趣的策略，不要害怕借鉴并增强他们的策略，使其更适合你的机器人，甚至可能比他们使用的方式更好。
- en: '**Use Community Resources**'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**利用社区资源**'
- en: The Battlecode community is super helpful and there’s a lot of resources out
    there to help you get started and improve your bot. There’s a lot of teams that
    have shared their code and strategies from previous years and it’s a great way
    to get started and see what other teams are doing.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Battlecode 社区非常乐于助人，而且有很多资源可以帮助你入门并改善你的机器人。很多队伍分享了他们过去几年的代码和策略，这是一个很好的途径，可以帮助你了解其他队伍在做什么。
- en: 'In addition there’s a lot of code from previous years that also works every
    year and is a great way to get started and see what other teams are doing. For
    example: shared array communication, pathfinding, etc. All of these are things
    that you can find in previous years code and use in your bot.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，过去几年的代码也有很多是每年都能使用的，这也是一个很好的起点，可以了解其他队伍在做什么。例如：共享数组通信、路径规划等。这些都是你可以在往年代码中找到并应用到自己机器人上的内容。
- en: '**Advice to New Participants**'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**给新手的建议**'
- en: 'It can be overwhelming to get started with Battlecode because there’s a lot
    of things to learn about: the game specifications, the contest structure, strategies,
    limitations on the game, how to communicate between your ducks, running games
    locally, etc.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 开始接触 Battlecode 可能会让人感到不知所措，因为需要学习很多内容：游戏规范、比赛结构、策略、游戏中的限制、如何在你的机器人之间进行通信、如何本地运行比赛等等。
- en: Not to mention that it can be difficult to start writing code because you have
    to get used to what methods exist and what actions you can perform and what information
    you can and cannot access and can be difficult to work with. I definitely highly
    suggest that you use an IDE with lots of autocomplete so you can preview all available
    methods. It feels a lot like working with a library like Pandas where there’s
    a lot of methods and you have to get used to what’s available and sort of feels
    like another language entirely.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 更不用说开始编写代码可能很困难，因为你必须熟悉现有的方法、可以执行的操作、能否访问某些信息以及如何与之交互，处理这些内容可能会让人感到有些棘手。我强烈建议你使用带有大量自动补全功能的集成开发环境（IDE），这样你可以预览所有可用的方法。它的感觉很像在使用像
    Pandas 这样的库，有很多方法，你需要习惯它们的存在，感觉就像在使用一种全新的语言。
- en: 'It definitely frustrated me at the start because I just wanted to add some
    basic features but as a combination of: our project not being super organized,
    me not being familiar with the game, or how to write code for it, it was quite
    annoying to get started. But it’s worth it to push through and get started because
    it’s a lot of fun and you’ll learn a lot.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一开始这确实让我感到很沮丧，因为我只是想加入一些基本功能，但由于我们的项目组织不够完善，我对游戏不熟悉，也不知道如何为其编写代码，开始时确实有些烦人。但推自己一把，开始动手是值得的，因为它非常有趣，而且你会学到很多。
