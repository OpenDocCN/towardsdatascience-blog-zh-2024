<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Dune — A Hidden Network</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Dune — A Hidden Network</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dune-a-hidden-network-5ed9dea5c52f?source=collection_archive---------2-----------------------#2024-03-19">https://towardsdatascience.com/dune-a-hidden-network-5ed9dea5c52f?source=collection_archive---------2-----------------------#2024-03-19</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><figure class="fr fs ft fu fv fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp fq"><img src="../Images/15da4170bfe982fa87481d66e4312b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9bFSYyqHJdzzGafGh6L26w.png"/></div></div></figure><div><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hg hh hi hj hk ab"><div><div class="ab hl"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@janosovm?source=post_page---byline--5ed9dea5c52f--------------------------------" rel="noopener follow"><div class="l hm hn by ho hp"><div class="l ed"><img alt="Milan Janosov" class="l ep by dd de cx" src="../Images/b7ede67b165cdd368d96f13f46c68ccb.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*ONtu-5PrUgdsazs0lKoNgQ.png"/><div class="hq by l dd de em n hr eo"/></div></div></a></div></div><div class="hs ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--5ed9dea5c52f--------------------------------" rel="noopener follow"><div class="l ht hu by ho hv"><div class="l ed"><img alt="Towards Data Science" class="l ep by br hw cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hq by l br hw em n hr eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hx ab q"><div class="ab q hy"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hz ia bk"><a class="af ag ah ai aj ak al am an ao ap aq ar ib" data-testid="authorName" href="https://medium.com/@janosovm?source=post_page---byline--5ed9dea5c52f--------------------------------" rel="noopener follow">Milan Janosov</a></p></div></div></div><div class="ic id l"><div class="ab ie"><div class="ab"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewbox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"/><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"/></svg></div></div></div><span class="if ig" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hz ia dx"><button class="ih ii ah ai aj ak al am an ao ap aq ar ij ik il" disabled="">Follow</button></p></div></div></span></div></div><div class="l im"><span class="bf b bg z dx"><div class="ab cn in io ip"><div class="iq ir ab"><div class="bf b bg z dx ab is"><span class="it l im">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar ib ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--5ed9dea5c52f--------------------------------" rel="noopener follow"><p class="bf b bg z iu iv iw ix iy iz ja jb bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="if ig" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">9 min read</span><div class="jc jd l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Mar 19, 2024</span></div></span></div></span></div></div></div><div class="ab cp je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt"><div class="h k w ea eb q"><div class="kj l"><div class="ab q kk kl"><div class="pw-multi-vote-icon ed it km kn ko"><div class=""><div class="kp kq kr ks kt ku kv am kw kx ky ko"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kz la lb lc ld le lf"><p class="bf b dy z dx"><span class="kq">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kp li lj ab q ee lk ll" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lh"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count lg lh">6</span></p></button></div></div></div><div class="ab q ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki"><div class="lm k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al ln an ao ap ij lo lp lq" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lr cn"><div class="l ae"><div class="ab cb"><div class="ls lt lu lv lw gb ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al ln an ao ap ij lx ly ll lz ma mb mc md s me mf mg mh mi mj mk u ml mm mn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al ln an ao ap ij lx ly ll lz ma mb mc md s me mf mg mh mi mj mk u ml mm mn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al ln an ao ap ij lx ly ll lz ma mb mc md s me mf mg mh mi mj mk u ml mm mn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="3b56" class="mo mp gf bf mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bk">In this article, with <span class="ig"><span class="ig" aria-hidden="false"><a class="nm ih nn" href="https://medium.com/u/6f5de121c728?source=post_page---user_mention--5ed9dea5c52f--------------------------------" rel="noopener" target="_blank">Patrik Szigeti</a></span></span>, we designed a data and network methodology supported by graph visuals to outline the complex social network behind the original Dune trilogy.</h1><p id="2284" class="pw-post-body-paragraph no np gf nq b nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi oj ok ol fj bk">Following the success of Dune both at the box office and with the critics in 2021, Dune: Part Two was one of the most anticipated movies of 2024, and it didn’t disappoint. On track to earn more, and holding higher ratings both on Rotten Tomatoes and iMDB than its prequel at the time of writing this article, with its ever changing political landscape, Dune is the perfect franchise to dive into through network science. In this short piece, we aimed to explore the connections between the different Houses and people of the Impremium based on the first three books of Frank Herbert — Dune (1965), Dune Messiah (1969) and Children of Dune (1976).</p><p id="892b" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">In the first part of this article, we present a Python-based approach to collecting character profile data from the <a class="af or" href="https://dune.fandom.com/wiki/Dune_Wiki" rel="noopener ugc nofollow" target="_blank">Dune Wiki</a> and turn those profiles into a catchy network graph. Then, in the second — rather spoiler-heavy — section, we dive into the depth of the network and extract all the stories it has to say about the first trilogy of the Dune.</p><p id="551a" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk"><em class="os">All images were created by the authors.</em></p><h1 id="cc24" class="mo mp gf bf mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bk">1 Building the Network</h1><p id="4f57" class="pw-post-body-paragraph no np gf nq b nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi oj ok ol fj bk">First, we use Python to collect the full list of Dune characters. Then, we download their biography profiles from each character’s fan wiki site and count the number of times each character’s story mentions any other character’s story, assuming these mentions encode various interactions between any two pairs of characters. Then, we will use network science to turn these relationships into a complex graph.</p><p id="7b17" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk"><strong class="nq gg">1.1 Collecting the list of characters</strong></p><p id="56f0" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">First off, we collected the list of all relevant characters from the Dune fan wiki site. Namely, we by used urllib and bs4 to extracted the names and fan wiki id-s of each character mentioned and has its own wiki page encpoded by their id. We did this for the first three books: Dune, Dune Messiah and Childen of Dune. These three books cover the rise of the house of Atreides.</p><p id="045e" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Sources:</p><ul class=""><li id="3e22" class="no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol ot ou ov bk"><a class="af or" href="https://dune.fandom.com/wiki/Dune_(novel)" rel="noopener ugc nofollow" target="_blank">https://dune.fandom.com/wiki/Dune_(novel)</a></li><li id="ed8c" class="no np gf nq b nr ow nt nu nv ox nx ny nz oy ob oc od oz of og oh pa oj ok ol ot ou ov bk"><a class="af or" href="https://dune.fandom.com/wiki/Dune_Messiah" rel="noopener ugc nofollow" target="_blank">https://dune.fandom.com/wiki/Dune_Messiah</a></li><li id="19a1" class="no np gf nq b nr ow nt nu nv ox nx ny nz oy ob oc od oz of og oh pa oj ok ol ot ou ov bk"><a class="af or" href="https://dune.fandom.com/wiki/Children_of_Dune_(novel)" rel="noopener ugc nofollow" target="_blank">https://dune.fandom.com/wiki/Children_of_Dune_(novel)</a></li></ul><p id="d0f5" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">First, download the character listing site’s html:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="fe0b" class="pk mp gf ph b bg pl pm l pn po">dune_meta = {<br/>    'Dune': {'url': 'https://dune.fandom.com/wiki/Dune_(novel)'},<br/>    'Dune Messiah': {'url': 'https://dune.fandom.com/wiki/Dune_Messiah'},<br/>    'Children of Dune': {'url': 'https://dune.fandom.com/wiki/Children_of_Dune_(novel)'}<br/>}<br/><br/>for book, url in dune_meta.items():<br/>    sauce = urlopen(url['url']).read()<br/>    soup  = bs.BeautifulSoup(sauce,'lxml')<br/>    dune_meta[book]['chars'] = soup.find_all('li')</span></pre><p id="d012" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">A little manual help to fine-tune the character name and id:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="a5c0" class="pk mp gf ph b bg pl pm l pn po">dune_meta['Dune']['char_start'] = 'Abulurd'<br/>dune_meta['Dune']['char_end'] = 'Arrakis'<br/>dune_meta['Dune Messiah']['char_start'] = 'Abumojandis'<br/>dune_meta['Dune Messiah']['char_end'] = 'Arrakis'<br/>dune_meta['Children of Dune']['char_start'] = '2018 Edition'<br/>dune_meta['Children of Dune']['char_end'] = 'Categories'</span></pre><p id="4666" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Then, we extracted all the potentially relevant names and the corresponding profile urls. Here, we manually checked from which tag blocks the names start (e.g. as opposed to the outline of the character listing site). Additionally, we decided to drop the characters marked by ‘XD’ and ‘DE’ corresponding to the extended series, as well as characters that were “Mentioned only” in a certain book:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="bc78" class="pk mp gf ph b bg pl pm l pn po">for k, v in dune_meta.items():<br/>    names_urls = {}<br/>    keep_row = False<br/>    print(f'----- {k} -----')<br/>    for char in v['chars']:<br/>        if v['char_start'] in char.text.strip():<br/>            keep_row = True<br/>        if v['char_end'] in char.text.strip():<br/>            keep_row = False<br/>        if keep_row and 'Video' not in char.text:<br/>            try:<br/>                url = 'https://dune.fandom.com' + str(char).split('href="')[1].split('" title')[0]<br/>                name = char.text.strip()<br/>                if 'wiki' in url and 'XD' not in name and 'DE' not in name and '(Mentioned only)' not in name:<br/>                    names_urls[name] = url<br/>                    print(name)<br/>            except:<br/>                pass<br/>    dune_meta[k]['names_urls'] = names_urls</span></pre><p id="c1af" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">This code block then outputs the list of characters, such as:</p><figure class="pb pc pd pe pf fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp pp"><img src="../Images/7e6b5e9b0d8ed11ae35d2bd9eb9cd2ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3iPT6X6EPtXGqHqs5bXnvw.png"/></div></div><figcaption class="pq pr ps fo fp pt pu bf b bg z dx">Example on extracted names.</figcaption></figure><p id="e43c" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Finally, we check the number of characters we collected and save their profile URLs and identifiers for the next subchapter.</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="3a07" class="pk mp gf ph b bg pl pm l pn po">dune_names_urls = {}<br/>for k, v in dune_meta.items():<br/>    dune_names_urls.update(dune_meta[k]['names_urls'])<br/><br/>names_ids  = {n : u.split('/')[-1] for n, u in dune_names_urls.items()}<br/><br/>print(len(dune_names_urls))</span></pre><p id="dca8" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The outputs of this cell, showing 119 characters with profile URLs:</p><figure class="pb pc pd pe pf fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp pv"><img src="../Images/7e61799e86e6600f8898effb400031cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OuZ8A1h_Zxcd7ZiTMmhFmA.png"/></div></div></figure><p id="c3d2" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk"><strong class="nq gg">1.2 Downloading character profiles</strong></p><p id="fbab" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Our goal is to map out the social network of the Dune characters — which means that we need to figure out who interacted with whom. In the previous sub chapter, we got the list of all the ‘whom,’ and now we will get the info about their personal stories. We will get those stories by again using simple web scraping techniques, and then save the source of each characters personal site in a separate file locally:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="88ba" class="pk mp gf ph b bg pl pm l pn po"># output folder for the profile htmls<br/>folderout = 'fandom_profiles'<br/>if not os.path.exists(folderout):<br/>    os.makedirs(folderout)<br/>      <br/># crawl and save the profile htmls<br/>for ind, (name, url) in enumerate(dune_names_urls.items()):<br/>    if not os.path.exists(folderout + '/' + name + '.html'):<br/>        try:<br/>            fout = open(folderout + '/' + name + '.html', "w")<br/>            fout.write(str(urlopen(url).read()))<br/>        except:<br/>            pass</span></pre><p id="d6de" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The result of running this code will be a folder in our local directory with all the fan wiki site profiles belonging to every single selected character.</p><h2 id="909d" class="pw mp gf bf mq px py pz mu qa qb qc my nz qd qe qf od qg qh qi oh qj qk ql qm bk">1.3 Building the network</h2><p id="4288" class="pw-post-body-paragraph no np gf nq b nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi oj ok ol fj bk">To build the network between characters, we count the number of times each character’s wiki site source references any other character’s wiki identifier using the following logic. Here, we build up the edge list — the list of connections which contain both the source and the target node (character) of the connections as well as the weight (co-reference frequency) between the two characters’ pages.</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="fe1a" class="pk mp gf ph b bg pl pm l pn po"># extract the name mentions from the html sources<br/># and build the list of edges in a dictionary<br/>edges = {}<br/><br/>for fn in [fn for fn in os.listdir(folderout) if '.html' in fn]:<br/><br/>    name = fn.split('.html')[0]<br/>    <br/>    with open(folderout + '/' + fn) as myfile:<br/>        text = myfile.read()<br/>        soup  = bs.BeautifulSoup(text,'lxml')<br/>        text = ' '.join([str(a) for a in soup.find_all('p')[2:]])<br/>        soup = bs.BeautifulSoup(text,'lxml')<br/>        <br/>        <br/>        for n, i in names_ids.items():<br/>            <br/>            w = text.split('Image Gallery')[0].count('/' + i) <br/>            if w&gt;0:<br/>                edge = '\t'.join(sorted([name, n]))<br/>                if edge not in edges:<br/>                    edges[edge] = w<br/>                else:<br/>                    edges[edge] += w<br/><br/>len(edges)</span></pre><p id="704d" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Once we run this block of code, we will get the result of 307 as the number of edges connecting the 119 Dune characters.</p><p id="858b" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Next, we use the NetworkX graph analytics library to turn the edge list into a graph object and output the number of nodes and edges the graph has:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="94d8" class="pk mp gf ph b bg pl pm l pn po">#  create the networkx graph from the dict of edges<br/>import networkx as nx<br/>G = nx.Graph()<br/>for e, w in edges.items():<br/>    if w&gt;0:<br/>        e1, e2 = e.split('\t')<br/>        G.add_edge(e1, e2, weight=w)<br/><br/>G.remove_edges_from(nx.selfloop_edges(G))<br/><br/>print('Number of nodes: ', G.number_of_nodes())<br/>print('Number of edges: ', G.number_of_edges())</span></pre><p id="eedd" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The result of this code block:</p><figure class="pb pc pd pe pf fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp qn"><img src="../Images/aa07ed552c575246b9ba952c33094bbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmG6fmgIXFT9vUQb_BSRVA.png"/></div></div></figure><p id="f2ca" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The number of nodes is only 72, meaning 47 characters were not linked to any central member in their — probably rather brief — wiki profiles. Additionally, we see a decrease of four in the number of edges because a few self-loops were removed as well.</p><p id="e4ee" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Let’s take a brief view of the network using the built-in Matplotlib plotter:</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="6cd7" class="pk mp gf ph b bg pl pm l pn po"># take a very brief look at the network<br/>import matplotlib.pyplot as plt<br/>f, ax = plt.subplots(1,1,figsize=(15,15))<br/>nx.draw(G, ax=ax, with_labels=True)</span></pre><p id="55b9" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The output of this cell:</p><figure class="pb pc pd pe pf fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp qo"><img src="../Images/9e39fce207d89c086a0d9021a20011bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eafGSn5ByNWStnqMgzgFXA.png"/></div></div><figcaption class="pq pr ps fo fp pt pu bf b bg z dx">Initial network visualization of the Dune characters.</figcaption></figure><p id="66cd" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">While this visual already shows some network structure, we exported the graph into a Gephi file using the following line of code, and designed the network attached on the figure below (the how-to of such network visuals will be the topic of an upcoming tutorial article):</p><pre class="pb pc pd pe pf pg ph pi bp pj bb bk"><span id="4aa4" class="pk mp gf ph b bg pl pm l pn po">nx.write_gexf(G, 'dune_network.gexf')</span></pre><p id="2b6a" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The full Dune network:</p></div></div><div class="fw"><div class="ab cb"><div class="ls qp lt qq lu qr cf qs cg qt ci bh"><figure class="pb pc pd pe pf fw qu qv paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp fq"><img src="../Images/ecc0ef482242cf4d3dda675e0ed11865.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*46QC3YcdAPTB8ZQdWFDugw.png"/></div></div><figcaption class="pq pr ps fo fp pt pu bf b bg z dx">The entire network of Dune characters. Networks correspond to network communities (densely interconnected subgraphs) with a few minor manual tweaks, while nodes are sized based on the number of connections they have.</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="f59c" class="mo mp gf bf mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bk">2 Reading the Network</h1><blockquote class="qw qx qy"><p id="1ef2" class="no np os nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Warning: the following paragraphs contain spoilers from the first three books of the Dune franchise. The two movies (Dune and Dune: Part Two) are based on the first book.</p></blockquote><p id="acb1" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">It’s no surprise that we would find Paul Atreides (also known as Lisan al-Gaib, Muad’Dib, Usul, Kwisatz Haderach, and many others) in the middle of our network. He’s the protagonist of the first book (and the movies), and he’s a central figure who, in the end, takes his place as the emperor of the Imperium. During the second book, Dune Messiah, we meet a different Paul, a leader who, after years of fighting and being cursed by the gift of foresight, walks into the desert as a blind Fremen, offering himself up to Shai–Hulud. He then appears in Children of Dune as The Preacher, a mysterious figure operating and preaching from the desert, and eventually meeting his end. During this journey he crosses paths with many other characters. This is perfectly illustrated by the fact that his so-called ego network — the subgraph of all his connections and the connections between those — contains about half of all the nodes and 64% of all the links. Also, the figure is shown below.</p><figure class="pb pc pd pe pf fw fo fp paragraph-image"><div role="button" tabindex="0" class="fx fy ed fz bh ga"><div class="fo fp qz"><img src="../Images/9ab29b6bb8fda8e979e04b9846d23b69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KP7p2bQFOnSwPxyarC_PbA.png"/></div></div><figcaption class="pq pr ps fo fp pt pu bf b bg z dx">The ego network of Paul.</figcaption></figure><p id="2e3b" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">As we keep reading the network, we can see House Atreides in the middle of it, and of course, centered around Paul is his family. His parents, Lady Jessica, the concubine of Leto Atreides I, and Reverend Mother of the Bene Gesserit. Jessica is the daughter of Vladimir Harkonnen of House Harkonnen, giving us the first connection between the yellow and light blue node groups. We can see a strong connection between Paul and his Fremen concubine, Chani, further connecting to their children, Leto II and Ghanima. Paul is also closely connected to his mentors and good friends, Duncan Idaho and Gurney Halleck, as well as Reverend Mother Gaius Helen Mohiam, who keeps popping up across the books to strengthen the Bene Gesserit’s cause.</p><p id="d4da" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Even though the network is clearly centered on Paul, and we can see the distinct groups of House Corrino (brown), House Harkonnen (light blue), and the Fremens (blue), what’s really interesting is how much this simple network created based on Wikipedia articles tells us about the plot unfolding during these three books.</p><p id="ff3e" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">We see Liet Kynes, the de facto leader of the Fremen and platenologist, whose dream was to see the barren planet of Arrakis become rich in green pastures and water supplies. His daughter, Chani, connects to Stilgar, a prominent figure in Paul’s life, a religious follower, and through him to all of the Fremen. But edged between them is Scytale, who plotted to destroy the royal family after Muad’Dib’s Jihad through Hayt, the ghola (an artificially created human replicated from a dead individual) of Duncan Idaho. To those who only saw the movies, it may come as a surprise that Duncan is such a central figure in our network, but after serving as the swordmaster of House Atreides, and falling in the Desert War on Arrakis, he came back as the aforementioned ghola, and played an important part — marrying Alia Atreides, daughter of Lady Jessica, sister of Paul.</p><p id="6d3e" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">Movie-seers might also be surprised by the coloring of Thufir Hawat as part of House Harkonnen. He was a Mentat responsible for the security of House Atreides, but after the Harkonnens replaced the Atreides as rulers of Arrakis, he was forced into their service, and plotted against them, even though his true goal was always to revenge the death of his beloved Duke, thinking Lady Jessica was behind the attack. He later gained redemption by refusing to kill Paul and committing suicide instead.</p><p id="aa10" class="pw-post-body-paragraph no np gf nq b nr om nt nu nv on nx ny nz oo ob oc od op of og oh oq oj ok ol fj bk">The most fascinating part about this network, however, is no matter how small a character’s node appears, that doesn’t mean they didn’t play an important role in the plot. They might have said the right thing to the wrong audience (Bronso of Ix claiming Paul lost something essential to his humanity before becoming Muad’Dib), became the lover of Alia Atreides (Javid), or plotted to kill the Atreides twins, Leto and Ghanima (Tyekanik). We could go on and on, these are just a few examples of the intriguing interconnected political landscape of Frank Herbert’s Dune.</p><h1 id="2c74" class="mo mp gf bf mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl bk">3 Conclusion</h1><p id="39bf" class="pw-post-body-paragraph no np gf nq b nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh oi oj ok ol fj bk">With this article, we aimed to create a bridge between data science fans and Dune fans — and potentially entertain the already existing overlapping communities between these two. First, we presented a relatively generic framework in Python that allows us to map out the social network of any fan wiki site that we come across. Second, we also gave detailed interpretations of how these network visuals show entire stories unfolding — a picture worth a thousand words, or even more — a trilogy.</p></div></div></div></div>    
</body>
</html>