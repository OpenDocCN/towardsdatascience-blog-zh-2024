- en: 'OMOP & DataSHIELD: A Perfect Match to Elevate Privacy-Enhancing Healthcare
    Analytics?'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/omop-datashield-a-perfect-match-to-elevate-privacy-enhancing-healthcare-analytics-041b425d532a?source=collection_archive---------5-----------------------#2024-07-03](https://towardsdatascience.com/omop-datashield-a-perfect-match-to-elevate-privacy-enhancing-healthcare-analytics-041b425d532a?source=collection_archive---------5-----------------------#2024-07-03)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Exploring synergies between DataSHIELD and OHDSI/OMOP for collaborative healthcare
    analytics
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@eric.boernert?source=post_page---byline--041b425d532a--------------------------------)[![Eric
    Boernert](../Images/3038e5e8f0cd468ec69794caecf32bba.png)](https://medium.com/@eric.boernert?source=post_page---byline--041b425d532a--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--041b425d532a--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--041b425d532a--------------------------------)
    [Eric Boernert](https://medium.com/@eric.boernert?source=post_page---byline--041b425d532a--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--041b425d532a--------------------------------)
    ·8 min read·Jul 3, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: Context
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Cross-border or multi-site data sharing can be challenging due to variations
    in regulations and laws, as well as concerns around data privacy, security, and
    ownership. However, there is a growing demand for conducting
  prefs: []
  type: TYPE_NORMAL
- en: large-scale cross-country and multi-site clinical studies to generate more robust
    and timely evidence for better healthcare. To address this, the Federated Open
    Science team at Roche believes in Federated Analytics (privacy-enhancing decentralized
    statistical analysis) as a promising solution to facilitate more multi-site and
    data-driven collaborations.
  prefs: []
  type: TYPE_NORMAL
- en: The availability and accessibility of high-quality (curated) patient-level data
    remains a persistent bottleneck to progress. A federated model is one of the enablers
    for collaborative analytics and machine learning in the medical domain without
    moving any sensitive patient-level data.
  prefs: []
  type: TYPE_NORMAL
- en: Federated model for analytics
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The idea of the federated paradigm is to bring analysis to the data, not data
    to the analysis.
  prefs: []
  type: TYPE_NORMAL
- en: That means that data remains within the boundaries of its respective organizations
    and collaborative analytical effort does not mean copying the data outside local
    infrastructure nor giving unlimited access to queries against the data.
  prefs: []
  type: TYPE_NORMAL
- en: 'It has many advantages including:'
  prefs: []
  type: TYPE_NORMAL
- en: Reduced data exposure risk
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: No data copies that are hard to track and manage leave premises
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Avoiding the up front cost and effort of building data lakes
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Crossing regulatory boundaries
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Interactive way of trying different analytical approaches and functions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s use a simplified example of diabetes patients from three different hospitals.
    Let’s say the external data scientist would like to analyze the mean age of patients.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5e30176600ca047060ef46fb712f4bea.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Simplified illustration of a federated analysis* (Image by author)'
  prefs: []
  type: TYPE_NORMAL
- en: Remote data scientists are not fully trusted by the data owners, are not supposed
    to access the data, have no access to any row level data and cannot send any query
    they like (such as DataFrame.get) but they can call federated functions and get
    aggregated mean values in the network.
  prefs: []
  type: TYPE_NORMAL
- en: Data owners enable remote data scientists to run federated function **mean**
    against the specified cohorts and variables (for example **Age**).
  prefs: []
  type: TYPE_NORMAL
- en: Such advanced analytical capabilities are a great added value and support when
    conducting observational studies to e.g. assess treatment effectiveness in diverse
    populations across regions.
  prefs: []
  type: TYPE_NORMAL
- en: This is how it looks from the data scientist perspective who uses a popular
    Federated Analytics solution called DataSHIELD.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5243a22870b0e232b17949683c8d8604.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Screenshot of analysis script* (Image by author)'
  prefs: []
  type: TYPE_NORMAL
- en: DataSHIELD what is it?
  prefs: []
  type: TYPE_NORMAL
- en: '[DataSHIELD](https://wiki.datashield.org/en/comms/2023conf/workshops/exercises)
    is a system to allow you to analyze sensitive data without viewing it or deducing
    any revealing information about the subjects contained therein.'
  prefs: []
  type: TYPE_NORMAL
- en: It is driven from the academic DataSHIELD project (University Liverpool) and
    from obiba.org (McGill University).
  prefs: []
  type: TYPE_NORMAL
- en: It’s an open source solution available on [GitHub](https://github.com/datashield),
    which helps with trust and transparency, as this code is running behind firewalls
    inside data owner infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: It’s more than [ten years on the market](https://pubmed.ncbi.nlm.nih.gov/25261970/)
    and was used in multiple successful projects.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d8633140f81d9b6bf4650691d5dfde4c.png)'
  prefs: []
  type: TYPE_IMG
- en: '*RStudio or Jupyter R notebooks are common ways to interact with federated
    networks.* (Image by author)'
  prefs: []
  type: TYPE_NORMAL
- en: 'The main advantages of DataSHIELD are:'
  prefs: []
  type: TYPE_NORMAL
- en: Advanced federated analytical functions with disclosure checks and smart aggregation
    of the results
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Federated authentication and authorization, empowering data owners to be in
    full control of who does what against their data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: APIs for automation of all the parts of the architecture
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Built-in extensibility mechanism to create custom federated functions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Community packages of additional functions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Full transparency, all the code available on GitHub
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Data owners are responsible for:'
  prefs: []
  type: TYPE_NORMAL
- en: Deploying local DataSHIELD Opal and Rock node in their infrastructure
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Managing users, permissions (functions to variables)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configuration of disclosure check filters
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Review and acceptance of custom functions and their local deployment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Data analysts are:'
  prefs: []
  type: TYPE_NORMAL
- en: Calling federated functions and aggregating the results, usually with high accuracy
    instead of meta-analysis, always with data disclosure protection
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Writing and testing their custom federated functions which then are shared with
    the network to be deployed in all the nodes by data owners and then used in collaborative
    analytical efforts
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Observational Health Data Sciences and Informatics advantages
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[OHDSI](https://www.ohdsi.org/) is best known for their data harmonization
    and standardization known as [Observational Medical Outcomes Partnership (OMOP)
    Common Data Model (CDM)](https://ohdsi.github.io/CommonDataModel/).'
  prefs: []
  type: TYPE_NORMAL
- en: The current version of the standard is 5.4, while it’s evolving to accommodate
    the feedback from real world applications and new requirements, it’s already mature
    and supported by tools from OHDSI ecosystem such as [ATLAS](https://github.com/OHDSI/Atlas/wiki),
    [HADES](https://ohdsi.github.io/Hades/) and [Strategus](https://ohdsi.github.io/Strategus/index.html).
  prefs: []
  type: TYPE_NORMAL
- en: The OHDSI stack is more than ten years old with many successful practical implementations.
  prefs: []
  type: TYPE_NORMAL
- en: OHDSI does not require hospitals and other data sources to expose their data
    nor APIs to the internet so the analysis may be performed by delivering analysis
    specification to the data owner who executes analytical queries and algorithms,
    reviews outputs and sends them over secure channels to the analytical side. OHDSI
    provides end to end tools to support all the steps of this workflow.
  prefs: []
  type: TYPE_NORMAL
- en: Business value of integration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: DataSHIELD, while it requires connectivity to its analytical server APIs (Opal),
    enables interactive ways of analyzing data while preserving data privacy using
    a set of non-disclosive analytical functions and built-in advanced disclosure
    checks.
  prefs: []
  type: TYPE_NORMAL
- en: This makes the analysis more agile, exploratory (to an extent), and enables
    data analysts to try different analytical methods to learn from data.
  prefs: []
  type: TYPE_NORMAL
- en: In case of traditional OHDSI approach the code is fixed in defined study definition
    and is executed manually by data owners. This leads to longer wait times to get
    the results (human dependency) up to weeks and months depending on the particular
    organization. In the case of the described Federated Analytics approach the results
    are available within seconds.
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand there’s no manual review of the results sent back to the external
    analysts, data owners are expected to trust built-in federated functions and disclosure
    checks. Also, internet connectivity is required for federated approaches.
  prefs: []
  type: TYPE_NORMAL
- en: 'Summary of benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: DataSHIELD enables results available immediately and automatically
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: built-in federated aggregation leads to improved accuracy
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: disclosure protection protects raw data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: reusing investment in OMOP CDM data harmonization
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: improved data quality through harmonization using OMOP → higher quality analysis
    results
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In other words, one could get the best of both worlds for improved analytical
    results in real-world healthcare applications.
  prefs: []
  type: TYPE_NORMAL
- en: Integration scenarios
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We, in collaboration with the [DataSHIELD team](https://www.linkedin.com/company/datashield-os/),
    identified four main integration scenarios. Our role (Federated Open Science Team)
    was not only to express our interest and business justification for the integration,
    but to define viable integration architectures and a proof of concept definition.
  prefs: []
  type: TYPE_NORMAL
- en: Option 1\. Extract, Load and Transform (ETL) data from OMOP CDM data source
    to DataSHIELD data store (at start of project).
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/832de0d9f699bd3b92b3742b397c26f4.png)'
  prefs: []
  type: TYPE_IMG
- en: (Image by author)
  prefs: []
  type: TYPE_NORMAL
- en: In this approach we use the classical ETL approach to extract data from OHDSI
    data source and transform it into data that is going to become data source, then
    add it as a resource or import directly to the DataSHIELD Opal server.
  prefs: []
  type: TYPE_NORMAL
- en: Option 2\. OMOP CDM as a natively supported data source in DataSHIELD.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/f2edd26c41ea173eb3423d54b33a61d5.png)'
  prefs: []
  type: TYPE_IMG
- en: (Image by author)
  prefs: []
  type: TYPE_NORMAL
- en: DataSHIELD supports various data sources (flat files such as CSV, structured
    data such as XML, JSON, relational databases, and others) but does not provide
    direct support for OHDSI OMOP CDM data source.
  prefs: []
  type: TYPE_NORMAL
- en: The goal of dsOMOP library (under development) is to provide extension to DataSHIELD
    to provide first class support for OMOP CDM data sources.
  prefs: []
  type: TYPE_NORMAL
- en: Option 3\. Use REST API to retrieve subsets of data as needed.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/14dde9eebe5002ba84bdf1ab1887684b.png)'
  prefs: []
  type: TYPE_IMG
- en: (Image by author)
  prefs: []
  type: TYPE_NORMAL
- en: This option does not bypass API layers of OHDSI stack and works as DataSHIELD
    API to OHDSI tools API bridge, orchestration and translation layer.
  prefs: []
  type: TYPE_NORMAL
- en: Option 4\. Embed DataSHIELD in OHDSI stack.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![](../Images/bd8f59f45e2a7b9e23fe6b6a65e3995f.png)'
  prefs: []
  type: TYPE_IMG
- en: (Image by author)
  prefs: []
  type: TYPE_NORMAL
- en: This means deep integration of both ecosystems to maximize the benefits, at
    the expense of the high effort and coordination between two teams (DataSHIELD
    and OHDSI technology teams).
  prefs: []
  type: TYPE_NORMAL
- en: Adoption barriers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Both solutions and communities have a track record of successful analytical
    projects using their respective tools and approaches. There were limited attempts
    in the past on the DataSHIELD side to embrace OMOP CDM and query libraries (i.e.
    [GitHub — sib-swiss/dsSwissKnife](https://github.com/sib-swiss/dsSwissKnife),
    early [https://github.com/isglobal-brge/dsomop](https://github.com/isglobal-brge/dsomop)).
  prefs: []
  type: TYPE_NORMAL
- en: The main problem we try to address is the continued limited awareness of the
    federated model, which we gladly presented at the [OHDSI Europe 2024](https://ohdsi-europe.org/symposium-event)
    Symposium in Rotterdam with very positive feedback, recognizing the benefits of
    future integration. Hands-on demonstrations of how Federated Analytics works from
    a data analyst perspective were very helpful to convey the message. The main question
    asked about the planned integration was “when” not “why”, we perceive that as
    a good sign and encouragement for the future.
  prefs: []
  type: TYPE_NORMAL
- en: Both technology ecosystems (DataSHIELD, OHDSI) are mature, however their integration
    is under development (as of June 2024) and not production ready yet. DataSHIELD
    can be and is used without OMOP CDM and while the problem of data quality and
    harmonization are recognized, OMOP was never a direct requirement nor guidance
    for federated projects.
  prefs: []
  type: TYPE_NORMAL
- en: The value of federated networks also could be higher if the projects were focused
    more on longer term collaborations instead of one-off analysis, the initial cost
    of building the networks (from all the perspectives) could be reused when there
    would be more than a single study executed in the consortia. There are signs of
    progress in this area, while the majority of the federated projects are single
    study projects.
  prefs: []
  type: TYPE_NORMAL
- en: Future steps
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Our views on the potential and future of the integration of OHDSI and DataSHIELD
    are optimistic. This is what industry expects to happen and was well received
    by both communities.
  prefs: []
  type: TYPE_NORMAL
- en: The development of [dsOMOP R libraries](https://github.com/isglobal-brge/dsomop)
    for DataSHIELD has accelerated recently.
  prefs: []
  type: TYPE_NORMAL
- en: The results are expected to deliver an end to end solution for the data source
    integration (strategy number 2) and allow further development and closer collaboration
    of both ecosystems. Practical applications of the expected integration are always
    the best way to gather invaluable feedback and detect issues.
  prefs: []
  type: TYPE_NORMAL
- en: 'The author would like to thank [Jacek Chmiel](https://www.linkedin.com/in/jacekchmiel/)
    for significant impact on the blog post itself, as well as the people who helped
    shaping this effort: [Jacek Chmiel](https://www.linkedin.com/in/jacekchmiel/),
    [Rebecca Wilson](https://www.linkedin.com/in/drbeccawilson/), [Olly Butters](https://www.linkedin.com/in/ollybutters/)
    and [Frank DeFalco](https://www.linkedin.com/in/frank-j-defalco/) and the Federated
    Open Science team at Roche.'
  prefs: []
  type: TYPE_NORMAL
