["```py\nfirst_stage <- lm(coupon_use ~ treatment + income + age, data = data)\nsecond_stage <- ivreg(future_purchases ~ coupon_use + income + age | treatment + income + age, data = data)\n```", "```py\nmean_compliers - mean_non_compliers # difference in means between compliers and non-compliers\nmean_compliers - mean_control # difference in means between compliers and control\n```"]