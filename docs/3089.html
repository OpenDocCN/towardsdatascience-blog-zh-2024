<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Understanding the Optimization Process Pipeline in Linear Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Understanding the Optimization Process Pipeline in Linear Programming</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-the-optimization-process-pipeline-in-linear-programming-15569d92ba94?source=collection_archive---------4-----------------------#2024-12-27">https://towardsdatascience.com/understanding-the-optimization-process-pipeline-in-linear-programming-15569d92ba94?source=collection_archive---------4-----------------------#2024-12-27</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="ee26" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">The post describes the backend and frontend processes in linear programming including the mathematical programming system (mps) files, problem matrix, optimization processes, results extraction, and solution files using an open-source solver called HiGHS with its Python wrapper called highspy.</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@himalaya.birshrestha?source=post_page---byline--15569d92ba94--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Himalaya Bir Shrestha" class="l ep by dd de cx" src="../Images/9766140c1c44381029d0a78154217775.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*lJ98JUmwLo6o5791TmzNJQ.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--15569d92ba94--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@himalaya.birshrestha?source=post_page---byline--15569d92ba94--------------------------------" rel="noopener follow">Himalaya Bir Shrestha</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--15569d92ba94--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Dec 27, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="018b" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In this 2021 <a class="af ne" href="https://medium.com/towards-data-science/linear-programming-with-python-and-julia-be9e045a5d17" rel="noopener">post</a>, I demonstrated how linear optimization problems could be solved using the Pyomo package in Python and the JuMP package in Julia. I also introduced different types of commercial and non-commercial solvers available for solving linear, mixed integer, or non-linear optimization problems.</p><p id="74ca" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In this post, I will introduce mathematical programming system (mps) files used to represent optimization problems, the optimization process of a solver, and the solution file formats. For this purpose, I will use the same problem as in the previous post but with additional bounds. I am going to use an open-source solver called <a class="af ne" href="https://highs.dev/" rel="noopener ugc nofollow" target="_blank">HiGHS</a> for this purpose. HiGHS has been touted as one of the most powerful solvers among the open-source ones to solve linear optimization problems. In Python, I get access to this solver simply by installing the <code class="cx nf ng nh ni b">highpy</code> <a class="af ne" href="https://ergo-code.github.io/HiGHS/dev/interfaces/python/" rel="noopener ugc nofollow" target="_blank">package</a> with <code class="cx nf ng nh ni b">pip install highspy</code>.</p><p id="cd40" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Without further ado, let’s get started.</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk nl"><img src="../Images/bc13eb6eeae2ae8d5ca037f2172c3e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*I7reL0U1Jovrs0Qs"/></div></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">Photo by <a class="af ne" href="https://unsplash.com/@uns__nstudio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unseen Studio</a> on <a class="af ne" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div></div><div class="ab cb oc od oe of" role="separator"><span class="og by bm oh oi oj"/><span class="og by bm oh oi oj"/><span class="og by bm oh oi"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h2 id="61e7" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Problem Statement</h2><p id="9d14" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">The problem statement is given below. <code class="cx nf ng nh ni b">x</code> and <code class="cx nf ng nh ni b">y</code> are the two decision variables. The objective is to maximize profit subject to three constraints. Both x and y have lower and upper bounds respectively.</p><pre class="nm nn no np nq pk ni pl bp pm bb bk"><span id="fae5" class="pn ol fq ni b bg po pp l pq pr">Profit = 90x + 75y<br/>Objective: maximize Profit subject to:<br/>3x+2y≤66<br/>9x+4y≤180<br/>2x+10y≤200<br/><br/>Bounds:<br/>2≤x≤8<br/>10≤y≤40</span></pre><h2 id="e458" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Optimization using highspy</h2><p id="1600" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">In the code below, I initiate the model as <code class="cx nf ng nh ni b">h</code>. Then, I introduce my decision variables <code class="cx nf ng nh ni b">x</code> and <code class="cx nf ng nh ni b">y</code> along with their lower bounds and upper bounds respectively, and also assign the names. Next, I add the three constraint inequalities which I have referred to as c0, c1 and c2 respectively. Each constraint has coefficient for x and y, and a RHS value. Then, I maximized the value of 90x+75y, which is the objective function. The model is run in this line.</p><pre class="nm nn no np nq pk ni pl bp pm bb bk"><span id="640e" class="pn ol fq ni b bg po pp l pq pr">import highspy<br/>import numpy as np<br/><br/>#initiate the model<br/>h = highspy.Highs()<br/><br/>#define decision variables<br/>x = h.addVariable(lb = 2, ub = 8, name = “x”)<br/>y = h.addVariable(lb = 10, ub = 40, name = “y”)<br/><br/>#h.setOptionValue("solver", "ipm")<br/><br/>#define constraints<br/>h.addConstr(3*x + 2*y&lt;=66) #c0<br/>h.addConstr(9*x + 4*y&lt;=180) #c1<br/>h.addConstr(2*x + 10*y&lt;=200) #c2<br/><br/>#objective<br/>h.maximize(90*x + 75*y)</span></pre><h2 id="dcea" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">What happens in the backend during the optimization process?</h2><p id="733e" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">When the model runs, one can see the following progress happening in the terminal window. But what exactly is going on here? I describe it below:</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk ps"><img src="../Images/cf6bb0a465fd15ca4313ce515293e6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mD6fW2tU8PTzg442qPpPnA.png"/></div></div></figure><p id="6305" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><strong class="mk fr">Problem size:</strong></p><p id="9df3" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The constraints in the linear problem can be represented in the matrix form as Ax≤b, wherein, A is the matrix of constraint coefficients, x is the vector containing decision variables, and b is the matrix of RHS values. For the given problem, the constraints are represented in the matrix format as shown below:</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk pt"><img src="../Images/3016e6b7873348fafadeaf26fdbec02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQcMOwEeKdHNLV1JRj2jvA.png"/></div></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">Representing constraints in the form of matrix. Illustration by Author.</figcaption></figure><p id="d285" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The problem matrix size is characterized by rows, columns and non-zero elements. Row refers to the number of constraints (here 3), column refers to the number of decision variables (here 2), and elements/non-zeros refer to the coefficients, which don’t have zero values. In all three constraints, there are no coefficient with zero value. Hence the total number of non-zero elements is six.</p><p id="8a8a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">This is an example of a very simple problem. In reality, there can be problems where the number of rows, columns and non-zero elements can be in the order of thousands and millions. An increase in the problem size increases the complexity of the model, and the time taken to solve it.</p><p id="c60a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><strong class="mk fr">Coefficient ranges</strong><br/>The coefficients of x and y in the problem range from 2 to 10. Hence, the matrix coefficient range is displayed as [2e+00, 1e+01].</p><p id="f355" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Cost refers to the objective function here. Its coefficient is 90 for x and 75 for y. As a result, Cost has a coefficient range of [8e+01, 9e+01].</p><p id="dd7d" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Bounds for x and y range between 2 and 40. Hence, Bound has a coefficient range of [2e+00, 4e+01]</p><p id="24b5" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Coefficients of RHS range between 66 and 200. Hence, RHS has a coefficient range of [7e+01, 2e+02].</p><p id="b94a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><strong class="mk fr">Presolving<br/></strong><a class="af ne" href="https://lpsolve.sourceforge.net/5.5/Presolve.htm#:~:text=Presolve%20is%20a%20preprocess%20of,model%20and%20likely%20solves%20faster" rel="noopener ugc nofollow" target="_blank">Presolve</a> is the initial process when a solver tries to solve an optimization problem, it tries to simplify the model at first. For example, it might treat a coefficient beyond a certain value as infinity. The purpose of the <a class="af ne" href="https://support.gurobi.com/hc/en-us/articles/360024738352-How-does-presolve-work" rel="noopener ugc nofollow" target="_blank">presolve</a> is to create a smaller version of the problem matrix, with identical objective function and with a feasible space that can be mapped to the feasible space of the original problem. The reduced problem matrix would be simpler, easier, and faster to solve than the original one.</p><p id="52f1" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In this case, the presolve step was completed in just two iterations resulting in an empty matrix. This also means that the solution was obtained and no further optimization was required. The objective value it returned was 2100, and the run time of the HiGHS solver was just 0.01 seconds. After the solution is obtained from the optimization, the solver can use the postsolve/unpresolve step wherein, the solution is mapped to the feasible space of the original problem.</p><h2 id="02e1" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Mathematical Programming System (MPS) format</h2><p id="627a" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">Mathematical Programming System (MPS) is a <a class="af ne" href="https://en.wikipedia.org/wiki/MPS_(format)" rel="noopener ugc nofollow" target="_blank">file format</a> for representing linear and mixed integer linear programming problems. It is a relatively old format but accepted by all commercial linear program solvers. Linear problems can also be written in other formats such as LP, AMPL, and GAMS.</p><p id="40fd" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">One can use <code class="cx nf ng nh ni b">highspy</code> to write mps file by simply using <code class="cx nf ng nh ni b">h.writeModel("foo.mps")</code>. And reading the mps file is as simple as <code class="cx nf ng nh ni b">h.readModel("foo.mps")</code>.</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk pu"><img src="../Images/5035e99707bba76399dca7eda3b78193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFU1rTbxul1yYcABzE4Ckw.png"/></div></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">MPS format of the given LP problem. Illustration by Author.</figcaption></figure><p id="84b5" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The structure of the MPS file of the given optimization problem is shown above. It starts with the NAME of the LP problem. OBJSENSE indicates whether the problem is a minimization (MIN) or maximization (MAX), here the latter. The ROWS section indicates the objective, names of all constraints, and their types in terms of equality/inequality. E stands for equality, G stands for greater than or equal rows, L stands for less than or equal rows, and N stands for no restriction rows. Here, the three constraints are given as __c0, __c1, and __c2 while Obj is the abbreviation for the objective.</p><p id="fbd9" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In the COLUMNS section, the names of the decision variables (here x and y) are assigned on the left, and their coefficients which belong to objective or constraints inequalities are provided on the right. The RHS section contains the right-hand side vectors of the model constraints. The lower and upper bounds of the decision variables are defined in the BOUNDS section. The MPS file closes with ENDATA.</p><h2 id="1936" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Optimization Process and Getting Results</h2><p id="a24b" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">HiGHS uses <a class="af ne" href="https://ergo-code.github.io/HiGHS/dev/options/definitions/#option-solver" rel="noopener ugc nofollow" target="_blank">algorithms</a> such as simplex or interior point method for the optimization process. To explain these algorithms deserve a separate post of their own. I hope to touch upon them in the future.</p><p id="d74b" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The code used to extract the results is given below. The model status is optimum. I extract the objective function value and the solution values of the decision variables. Furthermore, I print the number of iterations, the status of primal and dual solutions, and basis validity.</p><pre class="nm nn no np nq pk ni pl bp pm bb bk"><span id="c55a" class="pn ol fq ni b bg po pp l pq pr">solution = h.getSolution()<br/>basis = h.getBasis()<br/>info = h.getInfo()<br/><br/>model_status = h.getModelStatus()<br/>print("Model status = ", h.modelStatusToString(model_status))<br/>print()<br/><br/>#Get solution objective value, and optimal values for x and y<br/>print("Optimal objective = ", info.objective_function_value)<br/>print ("Optimal value of x:", solution.col_value[0])<br/>print ("Optimal value of y:", solution.col_value[1])<br/><br/>#get model run characteristics<br/>print('Iteration count = ', info.simplex_iteration_count)<br/>print('Primal solution status = ', h.solutionStatusToString(info.primal_solution_status))<br/>print('Dual solution status = ', h.solutionStatusToString(info.dual_solution_status))<br/>print('Basis validity = ', h.basisValidityToString(info.basis_validity))</span></pre><figure class="nm nn no np nq nr nj nk paragraph-image"><div class="nj nk pv"><img src="../Images/7f69ec7b81599082ddbdb184c9ac2de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*4J-hhRjtbqgOzjmpyDMQdw.png"/></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">Printing results of the code above. Illustration by Author.</figcaption></figure><h2 id="4f06" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Solution Files</h2><p id="fbb2" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">After the optimization process, HiGHS allows writing the solution into a solution file with a <code class="cx nf ng nh ni b">.sol</code> extension. Further, the solution can be written in different formats as given <a class="af ne" href="https://ergo-code.github.io/HiGHS/dev/options/definitions/#write_solution_style" rel="noopener ugc nofollow" target="_blank">here</a>. 1 stands for HiGHS pretty format, and 3 stands for Glpsol pretty format respectively.</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk pw"><img src="../Images/04c4e9bb7f3902eafe29504488db543e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Va2UmKq0MbSeL9T1BtudYQ.png"/></div></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">Solution file styles available with HiGHS. Illustration based on <a class="af ne" href="https://ergo-code.github.io/HiGHS/dev/options/definitions/#write_solution_style" rel="noopener ugc nofollow" target="_blank">HiGHS documentation</a>.</figcaption></figure><p id="3084" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">To get the solution in style 3, I used <code class="cx nf ng nh ni b">h.writeSolution("mysolution.sol", 3)</code>. The problem statistics are provided at the top. The optimal solution values are provided in the Activity column. The St column specifies the status of the solution. For example, B stands for Basic- the variable or constraint is part of the basis solution (optimal). NU refers that the solution is non-basic and is the same as the upper bound. The value in the Marginal column (often referred to as the shadow price or dual value) <a class="af ne" href="https://or.stackexchange.com/questions/3070/glpk-meaning-of-the-marginal-column-in-the-solution-output" rel="noopener ugc nofollow" target="_blank">refers to</a> how much the objective function would vary with the unit change in the non-basic variable. For more information on the GLPK solution file information, one can refer to <a class="af ne" href="https://en.wikibooks.org/wiki/GLPK/Solution_information" rel="noopener ugc nofollow" target="_blank">here</a>.</p><figure class="nm nn no np nq nr nj nk paragraph-image"><div role="button" tabindex="0" class="ns nt ed nu bh nv"><div class="nj nk px"><img src="../Images/8f70b5d2ff64dc95a4efeca4af1fc8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AtTcCMkQA2kXcrounbSeFg.png"/></div></div><figcaption class="nx ny nz nj nk oa ob bf b bg z dx">Structure of the solution file in Glpsol pretty style. Illustration by Author.</figcaption></figure><h2 id="5c55" class="ok ol fq bf om on oo op oq or os ot ou mr ov ow ox mv oy oz pa mz pb pc pd pe bk">Conclusion</h2><p id="cc33" class="pw-post-body-paragraph mi mj fq mk b go pf mm mn gr pg mp mq mr ph mt mu mv pi mx my mz pj nb nc nd fj bk">In this post, I presented an example of solving a simple linear optimization problem using an open-source solver called HiGHS with the <code class="cx nf ng nh ni b">highspy</code> package in Python. Next, I explained how the optimization problem size can be inferred using the coefficient matrix, decision variable vector and RHS vector. I introduced and explained different components of mathematical programming system (mps) files for representing optimization problem. Finally, I demonstrated the optimization process of a solver, steps for extracting results and analyzing the solution file.</p><p id="2027" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The notebook and relevant files for this post is available in this GitHub <a class="af ne" href="https://github.com/hbshrestha/Optimization" rel="noopener ugc nofollow" target="_blank">repository</a>. Thank you for reading!</p></div></div></div></div>    
</body>
</html>