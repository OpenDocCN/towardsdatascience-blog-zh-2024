<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Leveraging Large Language Models for Business Efficiency</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Leveraging Large Language Models for Business Efficiency</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/leveraging-large-language-models-for-business-efficiency-b06cb943a286?source=collection_archive---------2-----------------------#2024-03-01">https://towardsdatascience.com/leveraging-large-language-models-for-business-efficiency-b06cb943a286?source=collection_archive---------2-----------------------#2024-03-01</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="cef3" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Implementing Large Language Models for Business Improvement: A Step-by-Step Guide</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@benoit_courty?source=post_page---byline--b06cb943a286--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Benoît Courty" class="l ep by dd de cx" src="../Images/3c68e22acdb98c15c7fdd5a33be6d260.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*GTXT1LQRKRhBbH7yuME0rA.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--b06cb943a286--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@benoit_courty?source=post_page---byline--b06cb943a286--------------------------------" rel="noopener follow">Benoît Courty</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--b06cb943a286--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">15 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Mar 1, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="d64c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><strong class="mk fr">TL;DR:</strong> This article talks about how Large Language Models can improve your company process. Its target audience is people with technical backgrounds like software architects or CTO. The article shows the options to use LLM efficiently, you will learn how to use modern techniques like Retrieval Augmented Generation (RAG), function calling and fine-tuning with examples on a use case.</p><p id="2d1e" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Table of content</p><p id="d407" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">· <a class="af ne" href="#46f5" rel="noopener ugc nofollow">Identifying a Business Need</a><br/>· <a class="af ne" href="#e419" rel="noopener ugc nofollow">Explore an idea by yourself</a><br/>· <a class="af ne" href="#4336" rel="noopener ugc nofollow">Creating an Evaluation Dataset</a><br/>· <a class="af ne" href="#2e17" rel="noopener ugc nofollow">Considering Internal Industrialization</a><br/>· <a class="af ne" href="#5f9c" rel="noopener ugc nofollow">Customizing Responses with Company Data</a><br/>· <a class="af ne" href="#ef52" rel="noopener ugc nofollow">Function Calling to use APIs</a><br/>· <a class="af ne" href="#4391" rel="noopener ugc nofollow">Breaking Down Tasks into Multiple Prompts</a><br/>· <a class="af ne" href="#a809" rel="noopener ugc nofollow">Fine-tuning to improve performance</a><br/>· <a class="af ne" href="#0397" rel="noopener ugc nofollow">Combining Model</a><br/>· <a class="af ne" href="#5549" rel="noopener ugc nofollow">Conclusion</a></p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng nh"><img src="../Images/2ff7d5145d86e9094d2342638cf3ce6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LWfkZDINN2a38sql"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Photo by <a class="af ne" href="https://unsplash.com/@santesson89?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andrea De Santis</a> on <a class="af ne" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div></div><div class="ab cb ny nz oa ob" role="separator"><span class="oc by bm od oe of"/><span class="oc by bm od oe of"/><span class="oc by bm od oe"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="e2db" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In the rapidly evolving landscape of technology, Artificial Intelligence (AI) and Machine Learning (ML) have emerged as pivotal forces driving innovation, efficiency, and competitive advantage across industries. For Chief Technology Officers, IT Directors, Tech Project Managers, and Tech Product Managers, understanding and integrating these technologies into business strategies is no longer optional; it’s imperative.</p><p id="9f6a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">It’s not a surprise, Large language Models (LLMs) like ChatGPT could do more than chat.</p><p id="f9e2" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We will explore step by step strategies to prevent data distortion, enhance operational efficiency, and better use your company’s resources.</p><h1 id="46f5" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Identifying a Business Need</h1><p id="efd6" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">You already know that Large Language Models (LLMs) such as ChatGPT, Gemini, Mistral, etc… have emerged as powerful tools that can automate tasks and enhance customer service. As a business decision-maker, understanding the capabilities and limitations of LLMs can help you make informed decisions about their implementation.</p><p id="1668" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The first step in leveraging LLMs is to identify a task that can be automated to improve customer service or relieve employees of repetitive tasks. For instance, LLMs can be used to automate information retrieval in documents, write reports, or process customer requests.</p><h1 id="e419" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Explore an idea by yourself</h1><p id="ceb1" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">Once you have identified a business case, the next step is to manually evaluate this with ChatGPT (or Gemini) to estimate if the current reasoning capabilities of generative AI are sufficient to meet the need.</p><p id="51d3" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">You can create a list of sample inputs and evaluate the accuracy of the responses generated by ChatGPT.</p><p id="9e70" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Let’s say you want to automate the dispatching of emails your company receives.<br/>You have to get some emails and test if an online LLM is able to sort them and prepare an answer.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng ph"><img src="../Images/532ebdc0bb344935bdbd2ff2c95786c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UJa_zdfAZ4SlyABj"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Photo by <a class="af ne" href="https://unsplash.com/@serhatbeyazkaya?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Serhat Beyazkaya</a> on <a class="af ne" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="02d2" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Here is a sample prompt:</p><pre class="ni nj nk nl nm pi pj pk bp pl bb bk"><span id="1288" class="pm oh fq pj b bg pn po l pp pq">Our company is organized into several departments, each with distinct functions and areas of responsibility. Here's a brief overview:<br/>Sales Department: This team is responsible for generating new business leads, negotiating deals, and maintaining relationships with existing clients.<br/><br/>Marketing Department: This department focuses on promoting our products and services, managing our brand reputation, and conducting market research.<br/><br/>Customer Service Department: This team handles inquiries, complaints, and support requests from our customers.<br/><br/>Human Resources Department: This department manages employee relations, recruitment, training, and benefits.<br/><br/>Technical Support Department: This team provides assistance with technical issues related to our products and services.<br/><br/>Finance Department: This department is responsible for managing the company's financial resources, including budgeting, forecasting, and financial reporting.<br/><br/>We want you to categorize the following email. I would like you to analyze the content of the email to determine the most suitable department. Here are some guidelines to help you with your analysis:<br/>Look for keywords and phrases that indicate the email is related to sales, marketing, customer service, HR, technical support, or finance.<br/><br/>Consider the tone and context of the email. For example, an email that expresses frustration with a product may be best suited for the customer service department.<br/><br/>If an email contains multiple topics, categorize it based on the most prominent or urgent issue.<br/><br/>Part 3: Once you have analyzed the email and determined the most suitable department, please append your recommendations. Please ensure that your recommendations are accurate and consistent, as this will help us to improve our response times and provide better service to our customers.<br/>Part 4: Write a model of response for the department<br/>Here is the email:<br/>```<br/>Hi,<br/>I hope this email finds you well. I am writing to request time off from work for the upcoming holiday season. Specifically, I would like to take the following days off:<br/>Monday, December 20th<br/><br/>Tuesday, December 21st<br/><br/>Wednesday, December 22nd<br/><br/>Thursday, December 23rd<br/><br/>Friday, December 24th<br/><br/>I understand that this is a busy time of year for the company, and I apologize for any inconvenience my absence may cause. However, I have accrued enough vacation time to cover these days, and I believe that taking this time off will allow me to come back refreshed and ready to tackle the new year.<br/>Please let me know if there are any issues with my request, or if you need any additional information from me. Thank you for your time and consideration.<br/>Best regards, [Employee Name]<br/>```</span></pre><p id="48ff" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The model answer:</p><pre class="ni nj nk nl nm pi pj pk bp pl bb bk"><span id="bb4a" class="pm oh fq pj b bg pn po l pp pq">Based on the content of the email, I would recommend categorizing it under the<br/>__Human Resources Department.__<br/>The email contains keywords such as "time off," "vacation time," and "absence,"<br/>which are related to employee relations and benefits, which fall under the <br/>responsibilities of the HR department. The tone of the email is polite and <br/>professional, and the context indicates that the employee is requesting <br/>time off for personal reasons.<br/>__Here is a model response for the HR department:__<br/>Dear [Employee Name],<br/>Thank you for your email and for providing ample notice regarding your time off request for the upcoming holiday season. We appreciate your consideration for the busy time of year and your accrued vacation time to cover your absence.<br/>I am pleased to inform you that your request for time off from Monday, December 20th to Friday, December 24th has been approved. Please ensure that you have communicated your absence to your team and made any necessary arrangements to cover your responsibilities during your time off.<br/>If you have any further questions or concerns, please do not hesitate to reach out to the Human Resources Department.<br/>Thank you for your hard work and dedication to the company. We hope that you have a relaxing and enjoyable holiday season.<br/>Best regards,<br/>[Your Name] Human Resources Department.</span></pre><p id="1cc8" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">⚠️ Don’t hesitate to iterate with your prompting until you get the intended form of response you want to reproduce. This could take some time to get used to it. Don’t stop at first failure, nor first success. Don’t hesitate to restart from scratch. You could even challenge the model to write a prompt for you.</p><p id="c680" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">⚠️ Don’t forget to test edge cases, be sure to evaluate at least for 80% of your use case.</p><h1 id="4336" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Creating an Evaluation Dataset</h1><p id="8ed8" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">It’s time to expand your test. Previously you proved that it worked with few examples, now try again with more data to measure the accuracy.</p><p id="0bd0" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Creating a dataset is essential to evaluate a process. You can use this dataset to test the model, ensuring that it meets your business needs. The dataset should be representative of the real-world scenarios that your business will encounter. Ideally, one should use code to create a reproducible evaluation chain. For example, by calling OpenAI’s API from a list of questions and automatically comparing expected answers.</p><p id="5151" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">With a ChatGPT subscription if you look at Explore GPTs you can also try Data Analyst to upload an Excel file and interact with the AI on it.</p><ul class=""><li id="3b68" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd pr ps pt bk"><strong class="mk fr">Compile an Email Dataset</strong>: Start by assembling an Excel file containing 100 sample emails that your company might receive.</li><li id="38d1" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Draft a Detailed Prompt</strong></li></ul><p id="e61e" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">In this case you can structure your prompt in three segments:</p><ul class=""><li id="0ce2" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd pr ps pt bk"><strong class="mk fr">Part 1</strong>: Detail the various departments within your company, outlining their specific functions and areas of responsibility.</li><li id="3aac" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Part 2</strong>: Introduce the dataset to the model, instructing it to analyze the content of each email to determine the most suitable department.</li><li id="d38d" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Part 3</strong>: Direct the model to append its recommendations in a new column within your Excel file, effectively categorizing each email.</li><li id="8285" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Execute and Evaluate</strong>: Utilize the prompt to task the model with identifying the correct recipient department for each email. Following the model’s processing, review its suggestions to assess accuracy and relevance.</li></ul><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng pz"><img src="../Images/f617610727359982d5d6ecf15c73d01d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86SRCRezTcgvtT2yOgBl3w.png"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Screenshot of a sample dataset (AI generated by the autor with Mistral-medium)</figcaption></figure><p id="c39b" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Before considering going further you can manually rate each answer and compute the average to evaluate if the result is good enough for this use case. In our example, remember that the use case is a &lt;human&gt;(email) to &lt;machine&gt; (routing &amp; proposed answer) to &lt;human&gt; (department) workflow, so an error can be tolerated : the human could modify the answer, or a department can reroute an email to another… If it happens on ten emails in a hundred it can be good enough.</p><h1 id="2e17" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Considering Internal Industrialization</h1><p id="ba07" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">You can fastrack a production ready solution by using an API provided by an external provider.</p><p id="664a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">You can use OpenAI API or others for your MVP, but there are several factors that you should consider, including:</p><ul class=""><li id="9c6d" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd pr ps pt bk"><strong class="mk fr">All the Data you provide to an external API or chat is recorded somewhere</strong></li><li id="3977" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">You should anonymize your data even if the service provider claims that it is not using your data…</li><li id="80ad" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Risk of industrial <strong class="mk fr">secret leakage</strong>: If you are outside of the US, be aware that OpenAI is subject to the <a class="af ne" href="https://en.wikipedia.org/wiki/CLOUD_Act" rel="noopener ugc nofollow" target="_blank">Cloud Act</a>.</li><li id="c93d" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Speed limitations</strong>: It often takes several seconds to obtain a complete response from OpenAI, which may not be fast enough for certain use cases.</li><li id="99dc" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Call limitations</strong>: The number of calls per second <a class="af ne" href="https://platform.openai.com/docs/guides/rate-limits?context=tier-five" rel="noopener ugc nofollow" target="_blank">are limited</a>, as well as maximum monthly expenses</li><li id="d5c8" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Environmental impact</strong>: Large generalist models have a <a class="af ne" rel="noopener" target="_blank" href="/chatgpts-energy-use-per-query-9383b8654487">significant environmental impact</a>, and this should be taken into account when considering their use.</li><li id="2fdd" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Cost variation</strong>: ie OpenAI APIs are subject to cost variation, which can impact your budget.</li><li id="f63b" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Difficulty in asserting a <strong class="mk fr">competitive advantage</strong>: It can be challenging to assert a competitive advantage when using OpenAI APIs, as they are available to all businesses.</li><li id="db70" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk"><strong class="mk fr">Stability</strong>: LLM private models like Gemini, Mistral, Claude2, GPT4 … are not always stable and you should consider monitoring the quality and stability of the answers provided. You also have to add rail guards to protect your service quality and you &amp; your customers from hazardous behaviors coming from in and out. Problems can occur from the input or the output.</li></ul><p id="13bc" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">To avoid some of these pitfalls, you can turn to open-source models such as LLAMA or Mistral. These open-source alternatives offer several advantages:</p><ol class=""><li id="0de5" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd qa ps pt bk"><strong class="mk fr">Privacy and Security</strong>: Self hosted models, reduce the risk of industrial secret leakage.</li><li id="99b5" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk"><strong class="mk fr">Customization</strong>: You can fine-tune open-source models to better suit your specific business needs.</li><li id="ff18" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk"><strong class="mk fr">Lower Costs</strong>: Open-source models are often less expensive than proprietary solutions, especially when considering the limitations on the number of calls and monthly expenses.</li><li id="6a57" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk"><strong class="mk fr">Environmental Impact</strong>: Open-source models are smaller and can be optimized for specific use cases, potentially reducing their environmental footprint. You could measure it with <a class="af ne" href="https://codecarbon.io/" rel="noopener ugc nofollow" target="_blank">CodeCarbon</a>.</li><li id="0318" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk"><strong class="mk fr">Competitive Advantage</strong>: By customizing an open-source model, you can create a unique solution that sets your business apart from competitors.</li></ol><p id="3c2b" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Now you have automated the routing of the email, let’s improve the quality of the answer. A way to do it is to add company documents to the capability of the model. This will allow the model to find answers in your document instead of his “memory”.</p><h1 id="5f9c" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Customizing Responses with Company Data</h1><p id="a4a6" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">Customizing responses from a LLM with company data will create a more accurate and tailored experience for users.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qb"><img src="../Images/3443cc7f2e6867538d16ab5847fde206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*i1pRtWMDCObtVaCr"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Photo by <a class="af ne" href="https://unsplash.com/@yasamine?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Yasamine June</a> on <a class="af ne" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3d79" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">You can’t send all company data within the prompt. That’s why <a class="af ne" href="https://docs.aws.amazon.com/sagemaker/latest/dg/jumpstart-foundation-models-customize-rag.html" rel="noopener ugc nofollow" target="_blank"><strong class="mk fr">Retrieval Augmented Generation</strong></a><strong class="mk fr"> </strong>(RAG) is useful, it’s a technique that combines information retrieval from a database and generation capabilities of a LLM. By using RAG, you can improve the accuracy of responses. And you could tell to the user which documents have been used for the answer.</p><p id="abfb" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">RAG technique can be simply presented by this formula:</p><p id="7ec9" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">&lt;LLM trained with billion of data&gt; + &lt;<strong class="mk fr">Your prompt</strong>&gt; + &lt;<strong class="mk fr">Your company dataset</strong>&gt; = <strong class="mk fr">Responses aligned with your context</strong></p><p id="979a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">RAG is often done with a vector database as it works in most cases, here is how to create the database:</p><ol class=""><li id="9d45" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd qa ps pt bk">Split your documents by shorts chapters</li><li id="db35" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">Convert chapters to vectors using an <a class="af ne" rel="noopener" target="_blank" href="/neural-network-embeddings-explained-4d028e6f0526">embedding model</a>. The vector on the same subjects will be near in the n-dimensional spaces. Typical vector is an array of 1,024 floats values. Think of it like if each value represents a characteristic, like color, size, gender… It’s not hard coded, the model finds the value by himself in training.</li><li id="ce46" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">Store them in a vector database</li></ol><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qc"><img src="../Images/9e9f8462bd722e026c4a767adfe505b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mZ4EhDRKzEBq1FiH"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Image by the author</figcaption></figure><p id="4d8b" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">When you receive an email, you will use RAG like this:</p><ol class=""><li id="4a82" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd qa ps pt bk">Convert the email of your customer to a vector</li><li id="8003" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">Query the database with this vector to retrieve the 10 nearest vectors of paragraphs</li><li id="59b9" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">Take the text of these paragraphs and add them to the prompt</li><li id="34fe" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">Ask the LLM for an answer</li><li id="4491" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd qa ps pt bk">The answer will be based on the data provided in the prompt</li></ol><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qd"><img src="../Images/25cdc87b81e0f1bef58cf2c207b834a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QAnGfyx4EtGKaj5F"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Image by the author</figcaption></figure><p id="882c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">If you want to learn more, read <a class="af ne" href="https://blogs.nvidia.com/blog/what-is-retrieval-augmented-generation/" rel="noopener ugc nofollow" target="_blank"><strong class="mk fr">Retrieval Augmented Generation</strong></a><strong class="mk fr"> </strong>(RAG)</p><p id="c079" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Now your answer will be using your data, so it helps prevent what is called <em class="qe">hallucination</em>.</p><p id="e3b9" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">ℹ️ Model Hallucination is not an easy problem to manage. Because the “memory” of a LLM is more like a human memory (compressed representation of the world) than a computer’s exact memory. And models are trained to help you so they will try to, even when they don’t know the answer, misleading information will be presented as fact. RAG helps cope with this problem by providing relevant data to the model.</p><p id="3922" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">RAG is really good for unstructured data, but sometimes you have a better way to answer the question like tabular data with pricing for each product, or you may even want to compute taxes, or looking for a slot in an agenda to arrange a meeting. Let’s see how to do that with <em class="qe">function calling</em>.</p><h1 id="ef52" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Function Calling to use APIs</h1><p id="a619" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">Function calling is a way to allow interaction between a LLM and your enterprise API, like:</p><ul class=""><li id="6237" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd pr ps pt bk">Salesforce, SAP for your ERP</li><li id="75be" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Service Now or other ticketing services</li><li id="3741" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Agendas</li><li id="bef4" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Invoice, pricing</li><li id="9d04" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Custom API to do anything in your company</li><li id="abba" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Third party API</li></ul><p id="17d3" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><a class="af ne" href="https://platform.openai.com/docs/guides/function-calling" rel="noopener ugc nofollow" target="_blank">Function calling</a> is an essential feature that allows you to use APIs without exposing them to the outside world. This feature opens up many possibilities beyond simple chat applications. For instance, you can integrate specialized internal services or tools into the LLM, making it more versatile and valuable for your business. You can take a mail from a customer requesting a price, send it to the LLM to turn it into a parameter to call your pricing API, then use the API answer to ask the LLM back to write the answer to the customer.</p><p id="b468" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Given the request:</p><blockquote class="qf qg qh"><p id="0a4e" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">“<br/><em class="fq">Hello,<br/>I really like your company. I would like to order you a solar panel mounting rail, what would be the price ?<br/>Best regards<br/></em>“</p></blockquote><p id="e444" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">You send the request to the LLM, with the definitions of the API that exist in your company:</p><pre class="ni nj nk nl nm pi pj pk bp pl bb bk"><span id="a819" class="pm oh fq pj b bg pn po l pp pq">{<br/> "type": "function",<br/> "function": {<br/>  "name": "multiply",<br/>  "description": "Get product price.",<br/>  "parameters": {<br/>    "type": "object",<br/>    "properties": {<br/>      "product_name": {<br/>      "description": "Name of the product",<br/>      "type": "string"<br/>      },<br/>    "required": [ "product_name" ]<br/>    }<br/>  }<br/>}</span></pre><p id="946c" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">So the LLM extract the product name from the mail and give you the JSON to make the API call:</p><pre class="ni nj nk nl nm pi pj pk bp pl bb bk"><span id="f851" class="pm oh fq pj b bg pn po l pp pq">{<br/> "product_name": "solar panel mounting rail"<br/>}</span></pre><p id="0256" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">It’s up to you to call the API, so it is totally secured : the LLM never knows where your API is, just what it can do.</p><p id="98c6" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The answer of the API could be sent back to the LLM to build a natural language answer.</p><blockquote class="qf qg qh"><p id="c8de" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="fq">Can you answer this email given that the price for a “solar panel mounting rail” is $10 without a VAT of 5% ? “Hello, I really like your company. I would like to order you a solar panel mounting rail, what would be the price ? Best regards Your customer “</em></p></blockquote><p id="7e84" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The answer will be:</p><blockquote class="qf qg qh"><p id="2884" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="fq">Hello,</em></p><p id="7a84" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="fq">Thank you for your interest in our company and for considering our solar panel mounting rail. The price for the mounting rail is 10 before taxes, with a VAT of 5%, so $10.50 taxes included.</em></p><p id="f31c" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="fq">Please let me know if you have any other questions or if you would like to proceed with the order.</em></p><p id="7d0f" class="mi mj qe mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk"><em class="fq">Best regards,</em></p></blockquote><p id="b8cd" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">So you now have a system that can use your internal services to better prepare answers for your customers. That’s a game changer if you have already <a class="af ne" href="https://blog.dreamfactory.com/api-first-the-advantages-of-an-api-first-approach-to-app-development/" rel="noopener ugc nofollow" target="_blank">invested in APIs</a>.</p><p id="e220" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We just saw that we may call a LLM more than once for a single task, let see that in more detail.</p><h1 id="4391" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Breaking Down Tasks into Multiple Prompts</h1><p id="0c80" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">It’s important to note that a single prompt is often not enough for complex tasks. Your project will likely require breaking down the task into multiple prompts that will chain together and combine several techniques.</p><p id="998a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">For exemple <a class="af ne" href="https://360learning.com/" rel="noopener ugc nofollow" target="_blank">https://360learning.com/</a> build a platform to help building online courses with AI from a single text document as input. Their pipelines make use of 9 prompts, used for 30 OpenAI calls, and RAG to achieve their goal. A first prompt asks for a resume of the document, a second asks for a plan for an online course from the resume, then RAG is used to retrieve each part of the document from the title, and so on.</p><p id="cf10" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Here is some slides of their presentation:</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qi"><img src="../Images/fd6966165afb053a352611e5d59bade0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*muHUR58QA56z-ezY"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Caption from <a class="af ne" href="https://360learning.com/" rel="noopener ugc nofollow" target="_blank">360learning</a></figcaption></figure><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qj"><img src="../Images/2afd654348d284f9094fc757ec7440ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ulY3Ho8GfWiHL28V"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx">Caption from <a class="af ne" href="https://360learning.com/" rel="noopener ugc nofollow" target="_blank">360learning</a></figcaption></figure><p id="32e1" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Video source : <a class="af ne" href="https://www.youtube.com/watch?v=1Eyc2GypnF4" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=1Eyc2GypnF4</a> (in French)</p><p id="23ec" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">They are using LangChain, a framework that helps to create these types of LLM pipelines.</p><p id="d44a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">ℹ️ You probably heard of “AI Agents”: they are <em class="qe">just</em> a way to combine prompts, but without writing them in advance. An agent is a call to a LLM to get a list of tasks. Then, make a call to LLM for each task, and so on. It works best with giving the ability to the LLM to call external tools like browsing the web using functions like we saw before.</p><p id="eb17" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Now you have a powerful pipeline, but how to improve the model itself to have faster and better answers ? You can fine tune a model.</p><h1 id="a809" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Fine-tuning to improve performance</h1><p id="cc2b" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">Fine-tuning can often improve the model’s performance and reduce its size while maintaining equal performance, because you could use smaller models, like <a class="af ne" href="https://mistral.ai/news/announcing-mistral-7b/" rel="noopener ugc nofollow" target="_blank">Mistral-7B</a>, or even <a class="af ne" href="https://www.microsoft.com/en-us/research/blog/phi-2-the-surprising-power-of-small-language-models/" rel="noopener ugc nofollow" target="_blank">Phi-2</a>.</p><p id="38e9" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Very few companies could afford to train a LLM from scratch because it requires a huge dataset and hundreds of GPUs, almost 2 millions GPU hours for Llama2–70B for example. But you can take an already pre-trained model and fine-tune it, only an afternoon of fine-tuning is needed in most cases.</p><p id="44c9" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">The drawback is that you have to build a training dataset with hundreds of questions and answers.</p><h1 id="0397" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Combining Model</h1><p id="b9a5" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">It’s a new technique to combine multiple models in one. The result is a big model, called <a class="af ne" href="https://medium.aiplanet.com/create-your-own-mixture-of-experts-model-with-mergekit-and-runpod-8b3e91fb027a" rel="noopener ugc nofollow" target="_blank">Mixture of Experts</a> (MoE), with better capabilities than a single of the same size. The easiest way to do that is with <a class="af ne" href="https://medium.com/towards-data-science/merge-large-language-models-with-mergekit-2118fb392b54" rel="noopener">MergeKit</a>.</p><figure class="ni nj nk nl nm nn nf ng paragraph-image"><div role="button" tabindex="0" class="no np ed nq bh nr"><div class="nf ng qk"><img src="../Images/29ea2b44bbdd41147283fb765f16bdd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gBTpA6oFX98Nn7utczujQ.jpeg"/></div></div><figcaption class="nt nu nv nf ng nw nx bf b bg z dx"><strong class="bf oi">Generated with AI </strong>— Bing Copilot — “An image of a mathematician, a physicist and a mechanical engineer working on the same problem around a desk featuring a dismantled uav”</figcaption></figure><p id="5288" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">This could help you if it’s difficult to decide which model to use : with MoE, it’s the model who decides which one to use.</p><h1 id="5549" class="og oh fq bf oi oj ok gq ol om on gt oo op oq or os ot ou ov ow ox oy oz pa pb bk">Conclusion</h1><p id="6af4" class="pw-post-body-paragraph mi mj fq mk b go pc mm mn gr pd mp mq mr pe mt mu mv pf mx my mz pg nb nc nd fj bk">Customizing responses from LLMs with company data and API create a more accurate and tailored experience for users. Fine-tuning can improve the performance, and breaking down tasks into multiple prompts can help tackle complex tasks.</p><p id="b140" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">While all of this may seem complex and reserved for specialists, abundant documentation and numerous libraries are available to facilitate implementation. Popular libraries include <a class="af ne" href="https://github.com/huggingface/transformers" rel="noopener ugc nofollow" target="_blank">HuggingFace</a>, <a class="af ne" href="https://python.langchain.com/docs/get_started/introduction" rel="noopener ugc nofollow" target="_blank">Langchain</a>, <a class="af ne" href="https://haystack.deepset.ai/" rel="noopener ugc nofollow" target="_blank">HayStack</a>, <a class="af ne" href="https://github.com/OpenAccess-AI-Collective/axolotl" rel="noopener ugc nofollow" target="_blank">Axolotl</a> and so on…</p><p id="5787" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">However, don’t forget the cost of integration. As with any project, there is a significant cost associated with moving from a functional prototype to a fully industrialized solution within an existing IT system. You will often discover that the process of your company is more complex than expected. Or that the data needs a bit of cleaning to be processed.</p><p id="d34a" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">While large language models offer many advantages, don’t neglect the benefits of “older” machine learning techniques like <a class="af ne" href="https://www.ibm.com/topics/random-forest" rel="noopener ugc nofollow" target="_blank">random forest</a> or <a class="af ne" href="https://huggingface.co/docs/transformers/model_doc/distilbert" rel="noopener ugc nofollow" target="_blank">DistiliBert</a>. These techniques can still provide values, including faster processing, easier integration into existing tools, no need for GPUs, better explainability, and lower costs.</p><p id="2924" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">We hope that this article provides a view on how to include LLM in your software architecture.</p><p id="bf73" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">Article written in february 2024 by Benoît Courty, data scientist, with the help of Stéphane Van-Bosterhaudt, CEO of <a class="af ne" href="https://upscaleparis.ai/" rel="noopener ugc nofollow" target="_blank">UpScale</a>.</p><p id="4947" class="pw-post-body-paragraph mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd fj bk">More readings on the subject:</p><ul class=""><li id="632f" class="mi mj fq mk b go ml mm mn gr mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd pr ps pt bk">Cloud Act:<a class="af ne" href="https://en.wikipedia.org/wiki/CLOUD_Act" rel="noopener ugc nofollow" target="_blank"> https://en.wikipedia.org/wiki/CLOUD_Act</a></li><li id="26c8" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">RAG: <a class="af ne" href="https://blogs.nvidia.com/blog/what-is-retrieval-augmented-generation/" rel="noopener ugc nofollow" target="_blank">https://blogs.nvidia.com/blog/what-is-retrieval-augmented-generation/</a></li><li id="5cae" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Embeddings: <a class="af ne" rel="noopener" target="_blank" href="/neural-network-embeddings-explained-4d028e6f0526">https://towardsdatascience.com/neural-network-embeddings-explained-4d028e6f0526</a></li><li id="4e7b" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Function calling: <a class="af ne" href="https://platform.openai.com/docs/guides/function-calling" rel="noopener ugc nofollow" target="_blank">https://platform.openai.com/docs/guides/function-calling</a></li><li id="eae5" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Fine-tuning: <a class="af ne" href="https://mlabonne.github.io/blog/posts/A_Beginners_Guide_to_LLM_Finetuning.html" rel="noopener ugc nofollow" target="_blank">https://mlabonne.github.io/blog/posts/A_Beginners_Guide_to_LLM_Finetuning.html</a></li><li id="31b5" class="mi mj fq mk b go pu mm mn gr pv mp mq mr pw mt mu mv px mx my mz py nb nc nd pr ps pt bk">Mixture of Experts: <a class="af ne" href="https://medium.aiplanet.com/create-your-own-mixture-of-experts-model-with-mergekit-and-runpod-8b3e91fb027a" rel="noopener ugc nofollow" target="_blank">https://medium.aiplanet.com/create-your-own-mixture-of-experts-model-with-mergekit-and-runpod-8b3e91fb027a</a></li></ul></div></div></div></div>    
</body>
</html>