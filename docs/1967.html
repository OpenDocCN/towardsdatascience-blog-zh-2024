<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Document Extraction Is GenAI’s Killer App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Document Extraction Is GenAI’s Killer App</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/document-extraction-is-genais-killer-app-9e9c816e6caf?source=collection_archive---------0-----------------------#2024-08-13">https://towardsdatascience.com/document-extraction-is-genais-killer-app-9e9c816e6caf?source=collection_archive---------0-----------------------#2024-08-13</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="30f7" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">The future is here and you don’t get killer robots. You get great automation for tedious office work.</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://urimerhav.medium.com/?source=post_page---byline--9e9c816e6caf--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Uri Merhav" class="l ep by dd de cx" src="../Images/d2fbdefa4b6e76357ffba91b0f5268a2.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*gTd4BGn8mzlHsAKb1VtuuA.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--9e9c816e6caf--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://urimerhav.medium.com/?source=post_page---byline--9e9c816e6caf--------------------------------" rel="noopener follow">Uri Merhav</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--9e9c816e6caf--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">9 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Aug 13, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">9</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="1d03" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Almost a decade ago, I worked as a Machine Learning Engineer at LinkedIn’s illustrious data standardization team. From the day I joined to the day I left, we still couldn’t automatically read a person’s profile and reliably understand someone’s seniority and job title across all languages and regions.</p><p id="8a81" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">This looks simple at first glance. “software engineer” is clear enough, right? How about someone who just writes “associate”? It might be a low seniority retail worker, if they’re in Walmart, or a high ranking lawyer if they work in a law firm. But you probably knew that — do you know what’s a <a class="af nf" href="https://www.indeed.com/q-java-fresher-jobs.html" rel="noopener ugc nofollow" target="_blank">Java Fresher</a>? What’s <a class="af nf" href="https://en.wikipedia.org/wiki/Voluntary_social_year" rel="noopener ugc nofollow" target="_blank"><em class="ng">Freiwilliges Soziales Jahr</em></a>? This isn’t just about knowing the German language — it translates to “Voluntary Social year”. But what’s a good standard title to represent this role? If you had a large list of known job titles, where would you map it?</p><p id="b050" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">I joined LinkedIn, I left LinkedIn. We made progress, but making sense of even the most simple regular texts — a person’s résumé, was elusive.</p><h1 id="68ae" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">Very hard becomes trivial</h1><p id="8324" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">You probably won’t be shocked to learn that this problem is trivial for an LLM like GPT-4</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj ok"><img src="../Images/aecaaab3fe2a139fe32b077ff5839d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0CtvKCvYl-Qg2Js2.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Easy peasy for GPT (source: me. and GPT)</figcaption></figure><p id="9512" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">But wait, we’re a company, not a guy in a chat terminal, we need structured outputs.</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj ok"><img src="../Images/018900c647e69c4c7e8eaa916628d35c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OJa8amG_lKvXF7Q7.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">(source: GPT)</figcaption></figure><p id="eb45" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Ah, that’s better. You can repeat this exercise with the most nuanced and culture-specific questions. Even better, you can repeat this exercise when you get an entire person’s profile, that gives you more context, and with code, which gives you the ability to use the results consistently in a business setting, and not only as a one off chat. With some more work you can coerce the results into a standard taxonomy of allowable job titles, which would make it indexable. It’s not an exaggeration to say if you copy &amp; paste all of a person’s resume and prompt GPT just right, you will exceed the best results obtainable by some pretty smart people a decade ago, who worked at this for years.</p><h1 id="0918" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">High Value Office Work == Understanding Documents</h1><p id="ba2b" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">The specific example of standardizing reumès is interesting, but it stays limited to where tech has always been hard at work — at a tech website that naturally applies AI tools. I think there’s a deeper opportunity here. A large percent of the world’s GDP is office work that boils down to expert human intelligence being applied to extract insights from a document repeatedly, with context. Here are some examples at increasing complexity:</p><ol class=""><li id="9d23" class="mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne pb pc pd bk">Expense management is reading an invoice and converting it to a standardized view of what was paid, when, in what currency, and for which expense category. Potentially this decision is informed by background information about the business, the person making the expense, etc.</li><li id="be17" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">Healthcare claim adjudication is the process of reading a tangled mess of invoices and clinican notes and saying “ok so all told there was a single chest X-ray with a bunch of duplicates, it cost $800, and it maps to category 1-C in the health insurance policy”.</li><li id="aee8" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">A loan underwriter might look at a bunch of bank statements from an applicants and answer a sequence of questions. Again, this is complex only because the inputs are all over the place. The actual decision making is something like “What’s the average inflow and outflow of cash, how much of it is going towards loan repayment, and which portion of it is one-off vs actual recurring revenue”.</li></ol><h1 id="a85c" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">Reasoning about text is LLM’s home turf</h1><p id="7e64" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">By now LLMs are notorious for being prone to hallucinations, a.k.a making shit up. The reality is more nuanced: hallucinations are in fact <strong class="ml fr">a</strong> <strong class="ml fr">predictable result</strong> in some settings, and are pretty much <strong class="ml fr">guaranteed not to happen</strong> in others.</p><p id="ec2a" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">The place where hallucinations occur is when you ask it to answer factual questions and expect the model to just “know” the answer from its innate knowledge about the world. LLMs are bad and introspecting about what they know about the world — it’s more like a very happy accident that they can do this at all. They weren’t explicitly trained for that task. What they were trained for is to generate a predictable completion of text sequences. When an LLM is grounded against an input text and needs to answer questions about the content of that text, <strong class="ml fr">it does not hallucinate. </strong>If you copy &amp; paste this blog post into chatGPT and ask does it teach you how to cook a an American Apple Pie, you will get the right result 100% of the time. For an LLM this is a very predictable task, where it sees a chunk of text, and tries to predict how a competent data analyst would fill a set of predefined fields with predefined outcomes, one of which is <code class="cx pj pk pl pm b">{“is cooking discussed”: false}</code>.</p><p id="5cec" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Previously as an AI consultant, we’ve repeatedly solved projects that involved extracting information from documents. Turns out there’s a lot of utility there in insurance, finance, etc. There was a large disconnect between what our clients feared (“LLMs hellucinate”) vs. what actually destroyed us (we didn’t extract the table correctly and all errors stem from there). LLMs did fail — when we failed them present it with the input text in a clean and unambiguous way. There are two necessary ingredients to build automatic pipelines that reason about documents:</p><ol class=""><li id="9e94" class="mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne pb pc pd bk"><strong class="ml fr">Perfect Text extraction</strong> that converts the input document into clean, understandable plain text. That means handling tables, checkmarks, hand-written comments, variable document layout etc. The entire complexity of a real world form needs to convert into a clean plaintext that makes sense in an LLM’s mind.</li><li id="0c85" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk"><strong class="ml fr">Robust Schemas</strong> that define exactly what outputs you’re looking from a given document type, how to handle edge cases, what data format to use, etc.</li></ol><h1 id="4a66" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">Text extraction is trickier than first meets the eye</h1><p id="507d" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">Here’s what causes LLMs to crash and burn, and get ridiculously bad outputs:</p><ol class=""><li id="8acb" class="mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne pb pc pd bk">The input has complex formatting like a double column layout, and you copy &amp; pasted in text from e.g. a PDF from left to right, taking sentences completely out of context.</li><li id="4306" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">The input has checkboxes, checkmarks, hand scribbled annotations, and you missed them altogether in conversion to text</li><li id="51ef" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">Even worse: you thought you can get around converting to text, and hope to just paste a picture of a document and have GPT reason about it on its own. THIS gets your into hallucination city. Just ask GPT to transcribe an image of a table with some empty cells and you’ll se it happily going apeshit and making stuff up willy nilly.</li></ol><p id="6d84" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">It always helps to remember what a crazy mess goes on in real world documents. Here’s a casual tax form:</p><figure class="ol om on oo op oq oi oj paragraph-image"><div class="oi oj pn"><img src="../Images/427b0482e504398b3c2761391d9b1482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*RsExeSpQjYEGloNV"/></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Of course real tax forms have all these fields filled out, often in handwriting</figcaption></figure><p id="0a8d" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Or here’s my resumè</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj po"><img src="../Images/66cd7e1b0b1bf5c98cad07d1c48456ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HlWgJ35w4lI8yKjJ.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Source: my resume</figcaption></figure><p id="d41b" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Or a publicly available example lab report (this is a front page result from Google)</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj pp"><img src="../Images/127803e926e7457e11d51d5c864d5b33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zqmA3sGlY0S_YhCT.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Source: <a class="af nf" href="https://www.researchgate.net/figure/The-table-below-is-a-summary-of-laboratory-results-for-blood-Full-blood-count-FBC_tbl1_370627188" rel="noopener ugc nofollow" target="_blank">research gate</a>, public domain image</figcaption></figure><p id="741b" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">The absolute worst thing you can do, by the way, is ask GPT’s multimodal capabilities to transcribe a table. Try it if you dare — it looks right at first glance, and absolutely makes random stuff up for some table cells, takes things completely out of context, etc.</p><h1 id="d747" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">If something’s wrong with the world, build a SaaS company to fix it</h1><p id="a1f2" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">When tasked with understanding these kinds of documents, my cofounder <span class="ia"><span class="ia" aria-hidden="false"><a class="pq ib pr" href="https://medium.com/u/47700d6c6e7b?source=post_page---user_mention--9e9c816e6caf--------------------------------" rel="noopener" target="_blank">Nitai Dean</a></span></span> and I were befuddled that there aren’t any off-the-shelf solutions for making sense of these texts.</p><p id="4cc1" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Some people claim to solve it, like AWS Textract. But they make numerous mistakes on any complex document we’ve tested on. Then you have the long tail of small things that are necessary, like recognizing checkmarks, radio button, crossed out text, handwriting scribbles on a form, etc etc.</p><p id="0950" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">So, we built <a class="af nf" href="https://www.docupanda.io/" rel="noopener ugc nofollow" target="_blank">Docupanda.io</a> — which first generates a clean text representation of any page you throw at it. On the left hand you’ll see the original document, and on the right you can see the text output</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj ok"><img src="../Images/803c1c01bb2650c7931f990593190f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qbIJUFlwUGnee13u.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Source: docupanda.io</figcaption></figure><p id="2c57" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">Tables are similarly handled. Under the hood we just convert the tables into huuman and LLM-readable markdown format:</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj ok"><img src="../Images/6dfd9a9d4449d5fb10c093660ca8736e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XIsblq6NeBl39JCo.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Source: docupanda.io</figcaption></figure><p id="1623" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">The last piece to making sense of data with LLMs is generating and adhering to rigid output formats. It’s great that we can make AI mold its output into a json, but in order to apply rules, reasoning, queries etc on data — we need to make it behave in a regular way. The data needs to conform to a predefined set of slots which we’ll fill up with content. In the data world we call that a <strong class="ml fr">Schema</strong>.</p><h1 id="9365" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">Building Schemas is a trial an error process… That an LLM can do</h1><p id="c7a7" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">The reason we need a schema, is that data is useless without regularity. If we’re processing patient records, and they map to “male” “Male” “m” and “M” — we’re doing a terrible job.</p><p id="6388" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">So how do you build a schema? In a textbook, you might build a schema by sitting long and hard and staring at the wall, and defining that what you want to extract. You sit there, mull over your healthcare data operation and go “I want to extract patient name, date, gendfer and their physician’s name. Oh and gender must be M/F/Other.”</p><p id="3e59" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">In real life, in order to define what to extract from documents, you freaking stare at your documents… a lot. You start off with something like the above, but then you look at documents and see that one of them has a LIST of physicians instead of one. And some of them also list an address for the physicians. And some addresses have a unit number and a building number, so maybe you need a slot for that. On and on it goes.</p><p id="0934" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">What we came to realize is that being able to define exactly what’s all the things you want to extract, is both non-trivial, difficult, and very solvable with AI.</p><p id="5824" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">That’s a key piece of DocuPanda. Rather than just asking an LLM to improvise an output for every document, we’ve built the mechanism that lets you:</p><ol class=""><li id="9974" class="mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne pb pc pd bk">Specify what things you need to get from a document in free language</li><li id="77bf" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">Have our AI map over <em class="ng">many </em>documents and figure out a schema that answers all the questions and accommodates the kinks and irregularities observed in actual documents.</li><li id="4323" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pb pc pd bk">Change the schema with feedback to adjust it to your business needs</li></ol><p id="4051" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">What you end up with is a powerful JSON schema — a template that says exactly what you want to extract from every document, and maps over hundreds of thousands of them, extracting answers to all of them, while obeying rules like always extracting dates in the same format, respecting a set of predefined categories, etc.</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj ps"><img src="../Images/d650427366300fef5c2dad18c7eaae96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a1TsmKRpZwFf8wUO.png"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">Source: docupanda.io</figcaption></figure><h1 id="53ac" class="nh ni fq bf nj nk nl gq nm nn no gt np nq nr ns nt nu nv nw nx ny nz oa ob oc bk">Plenty More!</h1><p id="e7c7" class="pw-post-body-paragraph mj mk fq ml b go od mn mo gr oe mq mr ms of mu mv mw og my mz na oh nc nd ne fj bk">Like with any rabbit hole, there’s always more stuff than first meets the eye. As time went by, we’ve discovered that more things are needed:</p><ul class=""><li id="f46a" class="mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne pt pc pd bk">Often organizations have to deal with an incoming stream of anonymous documents, so we automatically classify them and decide what schema to apply to them</li><li id="0702" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pt pc pd bk">Documents are sometimes a concatenation of many documents, and you need an intelligent solution to break apart a very long documents into its atomic, seperate components</li><li id="6e79" class="mj mk fq ml b go pe mn mo gr pf mq mr ms pg mu mv mw ph my mz na pi nc nd ne pt pc pd bk">Querying for the right documents using the generated results is super useful</li></ul><p id="cdc4" class="pw-post-body-paragraph mj mk fq ml b go mm mn mo gr mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne fj bk">If there’s one takeaway from this post, it’s that you should look into harnessing LLMs to make sense of documents in a regular way. If there’s two takeawways, it’s that you should also try out <a class="af nf" href="https://www.docupanda.io/" rel="noopener ugc nofollow" target="_blank">Docupanda.io</a>. The reason I’m building it is that I believe in it. Maybe that’s a good enough reason to give it a go?</p><figure class="ol om on oo op oq oi oj paragraph-image"><div role="button" tabindex="0" class="or os ed ot bh ou"><div class="oi oj pu"><img src="../Images/efa501bf785c4e8f347589ffa7ba0728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JFnl2YcdMHxqrCD2ibSHqw.jpeg"/></div></div><figcaption class="ow ox oy oi oj oz pa bf b bg z dx">A future office worker (Source: unsplash.com)</figcaption></figure></div></div></div></div>    
</body>
</html>