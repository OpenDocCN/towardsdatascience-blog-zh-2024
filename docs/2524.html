<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Marketing Mix Modeling (MMM): How to Avoid Biased Channel Estimates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Marketing Mix Modeling (MMM): How to Avoid Biased Channel Estimates</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/marketing-mix-modeling-mmm-how-to-avoid-biased-channel-estimates-f9201fc3e91d?source=collection_archive---------2-----------------------#2024-10-16">https://towardsdatascience.com/marketing-mix-modeling-mmm-how-to-avoid-biased-channel-estimates-f9201fc3e91d?source=collection_archive---------2-----------------------#2024-10-16</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="e955" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Learn which variables you should and should not take into account in your model</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@felixgermaine1?source=post_page---byline--f9201fc3e91d--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Felix Germaine" class="l ep by dd de cx" src="../Images/04b126f95a0a0af4a5974d840ac36a87.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*0-901bLgqNhxw33SJSUbVQ@2x.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--f9201fc3e91d--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@felixgermaine1?source=post_page---byline--f9201fc3e91d--------------------------------" rel="noopener follow">Felix Germaine</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--f9201fc3e91d--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">14 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Oct 16, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">6</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk ml"><img src="../Images/2d2468694e7a3b6f516b57329e794593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HojAeCqsrX-W2e61iKlt_Q.jpeg"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Photo by <a class="af nc" href="https://unsplash.com/@chicken_rice_on_cameras" rel="noopener ugc nofollow" target="_blank">Fredrick Suwandi</a> on <a class="af nc" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3635" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">“How will sales be impacted by an X Dollar investment in each marketing channel?”</em> This is the causal question a Marketing-Mix-Model should answer in order to guide companies in deciding how to attribute their marketing channel budgets in the future. As we will see, the results to this question highly depend on which variables you account for: Omitting important variables, or including “wrong” variables in your model will introduce bias and lead to wrong causal estimates. This is a huge problem, as wrong causal estimates will eventually turn into bad marketing decisions and financial losses. In this article, I want to address this issue and give guidance on how to determine which variables should and should not be taken into account in your MMM, with the following structure:</p><ul class=""><li id="979e" class="nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny oa ob oc bk">In 1. we will see why variable selection is so critical in Marketing-Mix-Models, by seeing how greatly channel estimates can vary depending on the set of variables you take into account in a simulated example.</li><li id="c746" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk">In 2. we will dive into potential sources of bias. You will understand which types of variables you should absolutely take into account, and which ones you should absolutely <em class="nz">not</em> take into account. This chapter is based on theory from standard works in the domain of causal inference by Judea Pearl [1][2] and on Matheus Facure’s very insightful website [3].</li><li id="a87b" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk">In 3. we apply these learnings to our example with simulated data.</li></ul><h1 id="b78f" class="oi oj fq bf ok ol om gq on oo op gt oq or os ot ou ov ow ox oy oz pa pb pc pd bk">1. On the importance of variable selection in MMM’s</h1><p id="af4e" class="pw-post-body-paragraph nd ne fq nf b go pe nh ni gr pf nk nl nm pg no np nq ph ns nt nu pi nw nx ny fj bk">Let’s go through a simple example to showcase how critical variable selection is in MMMs. In order to keep things simple, and focus on the actual variable selection problem, we will stick to using simple linear regression. Keep in mind that the variable selection problem remains equally critical if using more complex MMM’s (e.g. Bayesian Models with Saturation &amp; Carry-over effects).</p><p id="f9ac" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Assume you work for the marketing department of an online sports shop, and your department has been advertising your platform through TV, Youtube and Instagram for 3 years. Now the time has come to estimate the contribution of each of these marketing channels on sales. You start by gathering weekly data on marketing channel spending, and company sales, and it looks as follows:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pj"><img src="../Images/5d8cfc642db61ee04f7b588e64b3883f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhQJbgDGMB_RExXT9fxrgg.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Sales &amp; Marketing Spends across time</figcaption></figure><p id="f462" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">The most minimalistic approach for an MMM would be to fit the sales by a linear regression on the marketing channels:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pk"><img src="../Images/7d4177201a1592b2b89c605ebbf7ff56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUsZNlNXmoKDkW_ZdvmYyQ.png"/></div></div></figure><p id="a3f2" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">However, you know that there are many additional variables that can have an impact on sales, and you wonder whether you should include them in your model. These are:</p><ul class=""><li id="c8b9" class="nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny oa ob oc bk"><strong class="nf fr">Seasonal variables </strong>as you know that sales have a natural seasonal patterns</li><li id="9a60" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">A football world cup indicator variable </strong>as you know that sales go up during major sports events</li><li id="7f3d" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">Price </strong>as you assume that sales vary strongly with price</li><li id="9f7f" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">Website visits </strong>as you know that sales go up when there are more visits on your website</li></ul><p id="e458" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Given that you have the above data/variables, you decide to fit 5 different linear regression models, taking into account 5 different sets of variables:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pl"><img src="../Images/8720dfc3c29f7ff099281d4b04bf1f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zeRQxrLRqUmafZd7kFcY1w.png"/></div></div></figure><p id="9a33" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Finally leading to the channels’ estimates represented below:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pm"><img src="../Images/5f24482c4402d83bbf38d4a7a270e9fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nUPUQL029VnXRQQpbWuLgQ.png"/></div></div></figure><p id="d650" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">As you can see, the estimates for the different channels depend very strongly on the set of variables you take into account. This means that if you want to take model based marketing decisions, you will come to very different conclusions depending on which set of variables you choose. For instance:</p><p id="4dc1" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">What if you wanted to know whether to invest more on TV advertisement? </em>According to Model 1, a 1$ investment on TV brings you about 3$ in sales, so you should invest more in it. In contrast, according to model 5 the generated sales will not even cover your advertising expenses (&lt;0.5$ dollars sales for a 1$ expense) so you should cut down the TV spendings.</p><p id="bb03" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">W<em class="nz">hat if you wanted to know which channel has the biggest impact on sales, so that you can invest more in it? </em>According to model 1, your most impactful channel is TV, according to model 2,3,4 it is YouTube, and according to Model 5 it is Instagram.</p><p id="cba1" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Bottomline </strong>— if you do not carefully select the variables in your MMM, you might as well take marketing decisions by rolling a dice. But don’t worry! Thanks to causal inference theory, there is a way to guide you in determining which variables you should take into account and which not! In the remainder of this article I will explain how, finally enabling you to know which out of the 5 sets of variables (if any) leads to accurate causal estimates.</p><p id="23d9" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Spoiler alert: </strong>Is “selecting the variables that lead to the most accurate predictions of sales” a good method?<strong class="nf fr"><em class="nz"> No!</em> </strong>Remember<strong class="nf fr">, </strong>we are ultimately not interested in predicting sales, rather we want to determine the causal effect of marketing channels on sales. These are two very different things! As you will see, some variables that are very good predictors of sales, can lead to biased estimations of the causal effect of your marketing channels on sales.</p><h1 id="ba11" class="oi oj fq bf ok ol om gq on oo op gt oq or os ot ou ov ow ox oy oz pa pb pc pd bk">2. Sources of Bias</h1><p id="bcac" class="pw-post-body-paragraph nd ne fq nf b go pe nh ni gr pf nk nl nm pg no np nq ph ns nt nu pi nw nx ny fj bk"><strong class="nf fr">Source 1: Omitting confounder variables</strong></p><p id="84bd" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In order to achieve unbiasedness of your estimates, you should put a lot of thought into determining which variables are so-called <em class="nz">confounder variables</em>. These are variables you absolutely need to account for in your model, or you will have biased estimates. Let’s see why!</p><p id="7f95" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">What is a confounder variable?</em></p><p id="177d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">A confounder variable is a variable that has both a causal effect on the company sales, and on one or more of your marketing channels. For instance, in our online sports shop example, the variable “Football World Cup” is a confounder variable. Indeed, the company invests more in TV advertisement because of the World Cup, and the football World Cup leads to increased football jersey sales. Hence, leading to the following causal relationships:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pn"><img src="../Images/8a559aa3ede43b9e7d5e5a494ec2aa5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IV5BYOOt-pkXd2Bx8_oAKA.png"/></div></div></figure><p id="3e4a" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">Why do we need to account for confounder variables?</em></p><p id="3d79" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">The problem if we do not account for this kind of confounding variable, is that our MMM “mixes-up” the effect of TV advertisement with the effect of the World Cup. Indeed, as the W<em class="nz">orld Cup</em> makes <em class="nz">TV</em> spendings and <em class="nz">Sales</em> both go up, it looks like the additional Sales generated by the <em class="nz">World Cup</em> are generated by the additional <em class="nz">TV</em> adds, when they are in fact largely due to the <em class="nz">World Cup</em>. This leads to a biased estimate of TV on sales. But luckily, this bias disappears if our model takes into account the “World Cup” confounder variable. Schematically, we can represent this as follows:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk po"><img src="../Images/2d936b08c27d1150302fee6aeca7e7f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnoU11LUigY40WKUCiJFQg.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Left: Regression of Sales on TV | Right: Regression of Sales on TV and World Cup</figcaption></figure><p id="cf2d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">On the left, the model does not account for the effect of the world cup, and we can see that the estimated effect of <em class="nz">TV </em>on <em class="nz">Sales</em> is huge (large beta_1). This is due to the fact that the linear model confuses the causal effect of <em class="nz">TV</em> with the effect of the <em class="nz">World Cup</em>, which leads to a bias. On the right hand side, the estimated effect of <em class="nz">TV</em> is now substantially smaller, because the model rightly attributes the additional sales during the <em class="nz">world cup</em> period, to the <em class="nz">World Cup</em> itself (large beta_2, small beta_1).</p><p id="f3e1" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">How to identify confounder variables in MMMs?</em></p><p id="4062" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In order to identify all confounders, you need to know all factors that have both a causal impact on your marketing channels, and on your company’s sales. A huge difficulty here is that the concept of causality is very theoretical, and only resides on assumptions! Hence, there is no way of knowing which variables have a causal impact just by looking at the data. You need to think conceptually, about which variables could impact sales and your marketing channel spendings. While it will be nearly impossible to list all factors that could have a causal impact on sales, as these are very diverse (e.g. inflation, state of economy, competition…), it should be much easier to identify the factors that influence your channel spendings, as these decisions / processes are made within your company, and can thus be investigated by talking to the relevant persons internally! In the end, if you identify the subset of factors that impact both channel spendings and sales, you’re good!</p><p id="06f7" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">Examples of confounders in MMMs</em></p><ul class=""><li id="6283" class="nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny oa ob oc bk"><strong class="nf fr">Seasonality:</strong> In most use-cases both sales and marketing budgets are very much impacted by the season of the year (e.g. sales &amp; advertisement peak because of Christmas). In this case, seasonality is a confounder.</li><li id="87ec" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">Discounts: </strong>If your company launched a discount campaign that led to additional advertisement on the marketing channels, it is a confounder. Indeed, in this case, discounts impact both channel budgets and sales.</li><li id="0424" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">Marketing competition:</strong> If your company reacts to an advertisement offensive of your competitor by investing more on marketing channels, this is a confounder. Indeed, the marketing campaign of your competitor has a (negative) causal impact on your sales, and it also leads your company to invest more on its own marketing channels.</li><li id="c644" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny oa ob oc bk"><strong class="nf fr">New product campaigns: </strong>Imagine your company launches a revolutionizing new product, that everybody wants to purchase, and it also decides to invest more in marketing channels in order to advertise that new product. Again, this is a confounder, as the new product will impact sales by itself, and also your marketing channel budgets.</li></ul><p id="734d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">As you have probably realized by now, this list could get very long, and depends very much on your company/use-case. There is no generic recipe that will give you all confounders. You need to become a detective, and watch out for them in your specific use-case, by understanding how marketing budgets are attributed.</p><p id="ebda" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">What if there is a confounder you cannot measure?</em></p><p id="8c06" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In some cases, there will be confounder variables, for which you have no data, or that are simply not measurable. If these are strong confounders, you will also have strong biases, and you might consider dropping the MMM project entirely. Sometimes it is just better to have no estimates than to blindly trust wrong estimates.</p><p id="e3f6" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">We have now seen what goes wrong when we do not or cannot take into account confounder variables. Let’s now see what can go wrong when we take the wrong variables into account.</p><p id="169d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Source 2: Including mediator variables</strong></p><p id="7681" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Oftentimes, we tend to think that “nothing can go wrong if we just control for one more variable”. But as will see shortly, this statement is false. Indeed, if you control for so-called <em class="nz">mediator variables</em>, the causal estimates for your marketing channels will be biased!</p><p id="c555" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">What is a mediator variable?</em></p><p id="330d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In a context where you want to measure the impact of TV advertisement on sales, a mediator variable is a variable through which TV indirectly impacts Sales. For instance, TV advertisement might impact sales indirectly by increasing the number of visitors to your online shop:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pp"><img src="../Images/a46c2c5c1c70fd2eb2b93ef07f813add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zZy_NXyj9VSnORlbyi0KRg.png"/></div></div></figure><p id="5d4a" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">Why does accounting for mediators create bias?</em></p><p id="aaf2" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">If you do not take into account the mediator “visits”, your model’s estimate for the impact of TV on Sales will account both for the direct effect (TV → Sales) and the indirect effect (TV → Visits → Sales). This is what you want! In contrast, if you take into account the variable “visits”, your TV estimate will only account for the direct effect on sales (TV → Sales). The indirect effect (TV -&gt; Visits -&gt; Sales) will instead be captured by your model’s estimate for the impact of increased visits. Hence, your TV estimate does not account for the fact that TV increases sales through visits, leading to a bias of your causal estimate of TV on sales!</p><p id="0388" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Let’s see this with equations! Assume the sales can be described by the following linear equation:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pq"><img src="../Images/8f70b8f0289fcbe2032c12b3730c0c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*16UVXnsufmtFchDOR93yDw.png"/></div></div></figure><p id="46f2" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">If you specify a linear regression model that takes into account both TV and visits, you will estimate the direct causal effect of TV on sales, but the indirect effect remains hidden through the variable “visits”:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pr"><img src="../Images/ccde7beb58416c4acc251e19d4e24345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rv9WzGOvcW98teQdmVqgUQ.png"/></div></div></figure><p id="1ff1" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In contrast, if you do not take into account the variable “visits” in your linear model, you will correctly estimate the causal effect of TV to be the sum of its direct and indirect effect on sales:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk ps"><img src="../Images/a41ad3ec8bbde17e56be7e6521ef9f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NNci_RqLjHqGHNUvkvooyQ.png"/></div></div></figure><p id="715e" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">Challenges with mediators in MMMs</em></p><p id="f954" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In most cases it is easy to avoid the mistake of taking into account a mediator variable in your MMM use-case. For each variable you plan to take into account, ask yourself whether one of your marketing channels have a causal impact on it. If yes, drop this variable! Easy. However, a problem arises when that mediator variable is actually also one of your marketing channels! This can actually happen, for instance, if you estimate the impact of your company’s paid search channel, along with the impact of your other marketing channels (e.g. <em class="nz">TV</em>). Indeed, advertising your product via <em class="nz">TV</em> might lead customers to search your product online, which will increase your paid search expenses. Hence the <em class="nz">paid-search </em>channel would be a mediator for the effect of <em class="nz">TV</em> on <em class="nz">sales</em>:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pt"><img src="../Images/b2e4f57b1aa1ccce7527c7e8b0233fa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hSASmXzCtRGu9N7WveibpQ.png"/></div></div></figure><p id="3336" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">This case is challenging, as there is no way of getting an unbiased estimates for both <em class="nz">TV</em> and <em class="nz">paid-search</em>. Indeed, you only remain with the following options:</p><ol class=""><li id="3939" class="nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny pu ob oc bk">You drop the variable <em class="nz">paid-search</em>, so you obtain an unbiased estimate for <em class="nz">TV</em>. However, you do not get any estimate for your <em class="nz">paid-search</em> channel.</li><li id="b84f" class="nd ne fq nf b go od nh ni gr oe nk nl nm of no np nq og ns nt nu oh nw nx ny pu ob oc bk">You keep the variable <em class="nz">paid-search, </em>enabling you to get an unbiased causal estimate for<em class="nz"> paid-search. </em>However, this leaves<em class="nz"> </em>you with a biased estimate for <em class="nz">TV.</em></li></ol><p id="5efb" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Option 1 or 2 — Your choice to make!</p><p id="ba49" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Source 3: Including collider variables</strong></p><p id="bd1f" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Another type of variable that would introduce bias, if taken into account in your MMM are so-called<em class="nz"> collider</em> variables.</p><p id="64ce" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">What is a collider variable?</em></p><p id="6c69" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">A collider variable for the effect of TV on sales is a variable that is causally impacted both by TV and by Sales:</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pv"><img src="../Images/ee576fe42b35dd4d3f104c90a6db1ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XTvCLJDrY5VSw8ncfr2uA.png"/></div></div></figure><p id="a918" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">Examples of colliders in MMMs</em></p><p id="125d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">One example for a collider variable in an MMM setting would be <em class="nz">company profits.</em> Indeed, a marketing channel (e.g. TV) impacts profits negatively through its costs, and profits are impacted positively by sales. Although it is possible to come up with such examples of collider variables in the context of MMM’s, it would be really uncommon for anyone to consider such a variable in the first place. For that reason, I will not dive deeper into <em class="nz">why </em>taking into account collider variables would lead to bias. If you are interested in more details, I invite you to have a look at Mattheus Facure’s website [3]</p><h1 id="1712" class="oi oj fq bf ok ol om gq on oo op gt oq or os ot ou ov ow ox oy oz pa pb pc pd bk"><strong class="al">3. Simulation results</strong></h1><p id="ed6d" class="pw-post-body-paragraph nd ne fq nf b go pe nh ni gr pf nk nl nm pg no np nq ph ns nt nu pi nw nx ny fj bk">Now that we know how to select the right variables for our MMM, let’s jump back to our initial example and determine which variables to select. First, let’s display how the data in our example was generated.</p><p id="7f26" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Simulated data:</strong></p><p id="02e8" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">The marketing budgets were specified as follows:</em></p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pw"><img src="../Images/4cdf8d2846845e36d5c1c98b5e0305ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4QjMnPoSHKa8SspTBR1D7A.png"/></div></div></figure><p id="7053" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">So in short, the three channels are causally impacted by the <em class="nz">season</em>, the <em class="nz">world-cup</em> and the <em class="nz">price</em>. The rest of the variation is random.</p><p id="9809" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><em class="nz">The sales amount on the website was specified as follows:</em></p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk px"><img src="../Images/ed364b2323f00f9fe413f2d82bfc914f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oFx9AV6VRkwqaECG8y47WQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Sales equation</figcaption></figure><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk py"><img src="../Images/1e9d51603c6970ec81b25a36f5149b8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMM_zCpWBy5HJ5jRBOknQQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Visits equation</figcaption></figure><p id="c72e" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In short, the sales depend on the <em class="nz">season</em>, the budget in the <em class="nz">marketing channels</em>, the <em class="nz">prices</em>, the<em class="nz"> world-cup</em> and the <em class="nz">visits</em> on the website. Note that the visits themselves depend on the marketing budgets and the season.</p><p id="499c" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">Now that we know the causal relationships between variables in the simulated data, we can determine which variables are <em class="nz">confounders</em>, <em class="nz">mediators</em> or <em class="nz">colliders</em> for the causal relationships to be estimated ( → Causal effect of marketing channels on sales).</p><p id="2e5a" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Variable types:</strong></p><p id="c234" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">As we can see in the formulas, the <em class="nz">season</em>, <em class="nz">worldcup</em> and <em class="nz">price</em> impact both the budget allocation to <em class="nz">marketing channels</em> and the <em class="nz">sales</em>. Hence, these 3 variables are confounders and should thus be accounted for in our MMM.</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk pz"><img src="../Images/f6cdcdd69959f9c4d06d717a4f51e302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4C7trIArPtMFKTNSBEWqA.png"/></div></div></figure><p id="152f" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">As we can see in the formulas, the variable <em class="nz">visits</em> is a mediator. Indeed, marketing channels causally impact visits and visits causally impact sales. Hence, this variable should not be accounted for in the model.</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk qa"><img src="../Images/63b23db900ca0e32cc678f336a76c001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNpIeJQhFMmB9VqUTVI-VA.png"/></div></div></figure><p id="9c4a" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">True causal effect:</strong></p><p id="82d1" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">From the equations that specify how we generated the simulated data, we can easily retrieve the true causal effect of the marketing channels.</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk px"><img src="../Images/ed364b2323f00f9fe413f2d82bfc914f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oFx9AV6VRkwqaECG8y47WQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Sales equation</figcaption></figure><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk py"><img src="../Images/1e9d51603c6970ec81b25a36f5149b8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMM_zCpWBy5HJ5jRBOknQQ.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Visits equation</figcaption></figure><p id="24a3" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">The true causal effect of a channel is composed of a direct effect on sales (channel → sales), and an indirect effect via the increase of visits (channel → visits → sales). For instance, a 1$ increase in the youtube channel directly increases sales by 1$ (resp. 1.2$ for instagram, and 0.4$ for TV), see the <em class="nz">“sales”</em> equation above. A 1$ incease on the youtube channel increases the number of visits by 0.3 (resp. 0.08 for instagram, and 0.1 for TV), see the <em class="nz">“visits”</em> equation. In turn each visit increases sales by 5$, see the “sales” equation. Leading to a total causal effect of youtube of 1 + 0.3*5 = 2.5$ (resp. 1.2 + 0.08*5 =1.6$ for instagram and 0.4+0.1*5 = 0.9$).</p><p id="fb74" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Estimated causal effects with different sets of variables:</strong></p><p id="9080" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">We have now the knowledge of the true causal effects, and we can compare them with the estimations we would get when selecting different sets of variables (the sets specified in part 1).</p><figure class="mm mn mo mp mq mr mj mk paragraph-image"><div role="button" tabindex="0" class="ms mt ed mu bh mv"><div class="mj mk qb"><img src="../Images/17a28dad5c938bce16201322d43fd62e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_bQlYP_fBZ9PPfElS1AI0Q.png"/></div></div><figcaption class="mx my mz mj mk na nb bf b bg z dx">Estimated linear effect of marketing channels on sales for different sets of variables</figcaption></figure><p id="77c4" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">As we can see on the figure above, the true causal effect of the marketing channels on sales is only estimated correctly when all confounder variables are taken into account ( → Season, World Cup, Price) and the mediators are not taken into account ( → Website visits). In contrast, one can observe large biases in the estimates of the marketing channels, when either the season, the world cup, or the price variables have been omitted. For instance, when all confounders are omitted, we estimate TV to have an impact three times higher than it actually has. We can also observe that taking into account the mediator variable leads to significant biases as well. For instance, we estimate the impact of the youtube channel less than half its real value when taking into account the variable visits into the MMM.</p><p id="04af" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Conclusion</strong></p><p id="f06d" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">In conclusion, selecting the right set of variables is critical to obtaining unbiased causal estimates in Marketing Mix Modeling. As we could see in our example, not accounting for confounders or including variables such as mediators or colliders can significantly distort the results of your MMM, leading to misguided marketing decisions and potential financial losses. This should underline the importance of deeply think about the causal relationships involved between the variables you model. Once these are identified, you now know which variables you should take into account and which not to get unbiased channels estimates! For diving deeper, I highly recommend taking a read of the causal inference literature attached.</p><p id="5080" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Note: </strong>Unless otherwise noted, all images and graphs are by the author.</p><p id="8d3e" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Code &amp; Data</strong></p><p id="813a" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">For those interested in taking a closer look at the code and the data, feel free to take a look here: <a class="af nc" href="https://github.com/felix-germaine/Medium/blob/main/MMM_HowToAvoidBiasedChannelEstimates.ipynb" rel="noopener ugc nofollow" target="_blank">MMM_HowToAvoidBiasedChannelEstimates.ipynb</a></p><p id="764c" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk"><strong class="nf fr">Literature:</strong></p><p id="7554" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">[1] J. Pearl — The Book of Why: The New Science of Cause and Effect (2018)</p><p id="3e33" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">[2] J. Pearl — Causality: Models, Reasoning, and Inference (2000)</p><p id="7e5c" class="pw-post-body-paragraph nd ne fq nf b go ng nh ni gr nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny fj bk">[3] M. Facure — Causal Inference for the Brave and the True <a class="af nc" href="https://matheusfacure.github.io/python-causality-handbook/landing-page.html" rel="noopener ugc nofollow" target="_blank">https://matheusfacure.github.io/python-causality-handbook/landing-page.html</a></p></div></div></div></div>    
</body>
</html>