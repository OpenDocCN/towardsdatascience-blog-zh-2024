- en: CTE Vs. Subqueries in SQL — 3 Practical Tips to Make a Right Choice
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/cte-vs-subqueries-in-sql-3-practical-tips-to-make-a-right-choice-a144c47a3229?source=collection_archive---------3-----------------------#2024-09-16](https://towardsdatascience.com/cte-vs-subqueries-in-sql-3-practical-tips-to-make-a-right-choice-a144c47a3229?source=collection_archive---------3-----------------------#2024-09-16)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Data Science
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Master the key differences between CTEs and subqueries to know exactly when
    and where to use each!
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@17.rsuraj?source=post_page---byline--a144c47a3229--------------------------------)[![Suraj
    Gurav](../Images/f5dca32861f8c1c428e66fbe2174c04b.png)](https://medium.com/@17.rsuraj?source=post_page---byline--a144c47a3229--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--a144c47a3229--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--a144c47a3229--------------------------------)
    [Suraj Gurav](https://medium.com/@17.rsuraj?source=post_page---byline--a144c47a3229--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--a144c47a3229--------------------------------)
    ·6 min read·Sep 16, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fe4f7cb942a0366cc6e26d98e1abdcc9.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo clicked by Author
  prefs: []
  type: TYPE_NORMAL
- en: Should I use a CTE or a Subquery in SQL?? — you must be asking this question
    quite often.
  prefs: []
  type: TYPE_NORMAL
- en: I had it too!
  prefs: []
  type: TYPE_NORMAL
- en: A subquery, as its name suggests, is a query within another query, whereas CTE
    or a Common Table Expression is a temporary result set that you define separately.
    Both subquery and CTE can be as simple as using some filter and as complex as
    doing a complex data transformation.
  prefs: []
  type: TYPE_NORMAL
- en: And this similarity is often the source of confusion about why and when to use
    either of them.
  prefs: []
  type: TYPE_NORMAL
- en: When I started with data science, I always struggled to make this choice. However,
    as years passed, I realized, it is less about “better”, and **more about the right
    fit to get the job done**.
  prefs: []
  type: TYPE_NORMAL
- en: For example, when I work on a project with complex logic, where I need to break
    down data transformations or work with hierarchical data — I use CTEs. But I use
    subqueries when I need to do one-off calculations or filtering.
  prefs: []
  type: TYPE_NORMAL
- en: For a detailed discussion on CTE, I highly recommend reading —
  prefs: []
  type: TYPE_NORMAL
