<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>How Lucky is a Bowl of Lucky Charms?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>How Lucky is a Bowl of Lucky Charms?</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-lucky-is-a-bowl-of-lucky-charms-9040fe2cc560?source=collection_archive---------5-----------------------#2024-03-16">https://towardsdatascience.com/how-lucky-is-a-bowl-of-lucky-charms-9040fe2cc560?source=collection_archive---------5-----------------------#2024-03-16</a></blockquote><div><div class="em ff fg fh fi fj"/><div class="fk fl fm fn fo"><div class="ab cb"><div class="ci bh ew ex ey ez"><div><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="gs gt gu gv gw ab"><div><div class="ab gx"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@gjkernsysu?source=post_page---byline--9040fe2cc560--------------------------------" rel="noopener follow"><div class="l gy gz by ha hb"><div class="l ed"><img alt="G. Jay Kerns" class="l ep by dd de cx" src="../Images/90cd81ec764a7a0823a449451c03be4c.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*GUMC0732KEiip14kgAMpWw.jpeg"/><div class="hc by l dd de em n hd eo"/></div></div></a></div></div><div class="he ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--9040fe2cc560--------------------------------" rel="noopener follow"><div class="l hf hg by ha hh"><div class="l ed"><img alt="Towards Data Science" class="l ep by br hi cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hc by l br hi em n hd eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hj ab q"><div class="ab q hk"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hl hm bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hn" data-testid="authorName" href="https://medium.com/@gjkernsysu?source=post_page---byline--9040fe2cc560--------------------------------" rel="noopener follow">G. Jay Kerns</a></p></div></div></div><span class="ho hp" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hl hm dx"><button class="hq hr ah ai aj ak al am an ao ap aq ar hs ht hu" disabled="">Follow</button></p></div></div></span></div></div><div class="l hv"><span class="bf b bg z dx"><div class="ab cn hw hx hy"><div class="hz ia ab"><div class="bf b bg z dx ab ib"><span class="ic l hv">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hn ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--9040fe2cc560--------------------------------" rel="noopener follow"><p class="bf b bg z id ie if ig ih ii ij ik bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="ho hp" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">16 min read</span><div class="il im l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Mar 16, 2024</span></div></span></div></span></div></div></div><div class="ab cp in io ip iq ir is it iu iv iw ix iy iz ja jb jc"><div class="h k w ea eb q"><div class="js l"><div class="ab q jt ju"><div class="pw-multi-vote-icon ed ic jv jw jx"><div class=""><div class="jy jz ka kb kc kd ke am kf kg kh jx"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l ki kj kk kl km kn ko"><p class="bf b dy z dx"><span class="jz">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao jy kr ks ab q ee kt ku" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="kq"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count kp kq">4</span></p></button></div></div></div><div class="ab q jd je jf jg jh ji jj jk jl jm jn jo jp jq jr"><div class="kv k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al kw an ao ap hs kx ky kz" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep la cn"><div class="l ae"><div class="ab cb"><div class="lb lc ld le lf lg ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al kw an ao ap hs lh li ku lj lk ll lm ln s lo lp lq lr ls lt lu u lv lw lx"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al kw an ao ap hs lh li ku lj lk ll lm ln s lo lp lq lr ls lt lu u lv lw lx"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al kw an ao ap hs lh li ku lj lk ll lm ln s lo lp lq lr ls lt lu u lv lw lx"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><p id="9c4b" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk"><code class="cx mw mx my mz b"><strong class="ma fs">tl;dr</strong></code><strong class="ma fs"> version:</strong> A team of students helped design and carry out an experiment to determine whether bowls of Lucky Charms are equally “lucky” over the course of a box of cereal. Turns out, not so much. We estimate a decrease of approximately 2.7 total charms per additional bowl on average. This corresponds to more than a 50% drop-off in charms from the first bowl to the last. The weight of cereal also appears to play a role, and for each 1g of cereal we estimate approximately 0.5 more charms on average with bowl held constant. The interaction between bowl and weight is not statistically significant.</p><p id="e22e" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">See <a class="af na" href="https://github.com/gjkerns/luckyCharms" rel="noopener ugc nofollow" target="_blank">this GitHub repository</a> for the data, code, photos, <em class="nb">etc</em>.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd ne"><img src="../Images/3caa39c0eb2d0d19288406fd963ca120.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*8TX_UEh-jfzKSApIVumWww.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 1: They’re Magically Delicious! (<em class="nr">Image by author</em>)</figcaption></figure><h2 id="ba0a" class="ns nt fr bf nu nv nw nx ny nz oa ob oc mj od oe of mn og oh oi mr oj ok ol om bk">Background</h2><p id="8ddb" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">In the early 2010’s there was a kerfuffle on the Internet over an investigation into whether or not “Double Stuf” Oreos were actually double-stuffed. (They’re not.) It was an engaging idea, and a substantial amount of material has been written about it since, <a class="af na" href="http://blog.recursiveprocess.com/2013/03/03/oreo-original-vs-double-vs-mega/" rel="noopener ugc nofollow" target="_blank">see here for starters</a>. The discussion caused enough splash that some teachers were evidently repeating the experiment as an activity in their classrooms, and local students have reported performing similar experiments at their own schools more than 10 years later.</p><h2 id="5def" class="ns nt fr bf nu nv nw nx ny nz oa ob oc mj od oe of mn og oh oi mr oj ok ol om bk">Introduction</h2><p id="c27b" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">One morning in the summer of 2023 I was eating a bowl of Lucky Charms for breakfast. The box was nearly empty and I sighed to myself, “Can’t wait until this box is done so I can open up a new one…” Now, if you’re anything like me, or millions of other people, then you love Lucky Charms, and you’ve loved them for as long as you can remember, <a class="af na" href="https://en.wikipedia.org/wiki/Lucky_Charms" rel="noopener ugc nofollow" target="_blank">being around for 60 years</a> and all. They truly are <em class="nb">Magically Delicious.</em> But sitting there on that summer morning of discontent with a spoon in my hand it struck me that the bowl of cereal I was eating just didn’t quite seem as <em class="nb">magical</em> as the earlier bowls had been. It was missing something. (The charms, of course.) Was it my imagination? Could this effect be real? And if so, could it be measured?</p><p id="23ff" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">I happened to be teaching an undergraduate probability &amp; statistics course at the time and the four students and I were determined to find out.</p><h1 id="dbce" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Experiment and data</h1><p id="bfe8" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">After some discussion, the team decided on the following materials and methods.</p><h2 id="a60a" class="ns nt fr bf nu nv nw nx ny nz oa ob oc mj od oe of mn og oh oi mr oj ok ol om bk">Materials</h2><ul class=""><li id="bf39" class="ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv pm pn po bk">Six (6) boxes of Family-size Lucky Charms (18.6oz, 527g)</li><li id="dc2d" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">Electronic kitchen scale</li><li id="985e" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">Two plastic “bowls”, Container A and Container B, measuring 40.125g and 28.375g respectively</li><li id="d65d" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">Large bowl for discards, some trash bags, other ancillaries</li></ul><p id="cd2b" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">The Lucky Charms were purchased from our local retailer—Wal-Mart. There was nothing special about <em class="nb">n</em> = 6 boxes, it was simply the number of boxes a person could carry with two hands to the 6th floor of Cafaro Hall in a single trip. The kitchen scale was for measuring the weight of cereal, which the team thought might be important, and the scale would also help with data collection because we didn’t want to be overly preoccupied with sampling the exact same amount of cereal every time.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pu"><img src="../Images/992a73324ae33367314a8c8aaf466d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*U3kWzelyhxm0s5icZ9aHYw.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 2: Weighing in. (<em class="nr">Image by author</em>)</figcaption></figure><h1 id="4726" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Methods</h1><p id="a73a" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">For the purposes of this experiment, a “bowl” was taken to be approximately 1 serving of cereal as recommended by the box (1 cup or 36g), even though it is ridiculous for anybody but a tiny magic leprechaun to get by on 36g of Lucky Charms for breakfast. The team was not especially picky about maintaining bowl size consistency, anything close to 1 cup was considered good enough. We were accounting for mass of cereal with the kitchen scale anyway and were shooting for a healthy range of observed weights.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pu"><img src="../Images/e09a2e7c9bfe2af06ed95619969c03e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*LLwBwCx_S615bcwrJ366ug.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 3. Gavin Duwe (L.) and Brenna Brocker (R.) (<em class="nr">Image by author</em>)</figcaption></figure><p id="c8c9" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Each bowl of cereal was poured directly from the box into the plastic container, weighed, and then emptied onto the table surface for counting. The toasted oats were separated from the marshmallows and discarded. Next the following eight (8) charm types were recognized and their number recorded: Pink Hearts, Rainbows, Purple Horseshoes, Blue Moons, Green Clovers, Unicorns, Tasty Red Balloons, and Orange Stars.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pu"><img src="../Images/0d848871a144d7c6c924eab8cde57c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*tvCiW3_tng_AxxR5iDBldQ.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 4. This was counted as 3 Purple Horseshoes. (<em class="nr">Image by author</em>)</figcaption></figure><p id="5686" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Occasionally there were little marshmallow bits in the bowl; not every charm was 100% intact. To deal with this, the team attempted to classify the bit into the type of charm (Green Clover, Blue Moon, <em class="nb">etc</em>.), and if the type could be determined, then that bit was counted as 1 in the respective category. If the bit was nondescript or too small for type identification then it was discarded.</p><h1 id="cd4d" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">The data</h1><p id="8baa" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">Data were collected during two separate class meetings. The students worked in pairs to pour and count the charms. I helped with the scale and recording a hard copy of weight values as they were called out for entry into the computer. The team got into a data collection groove and by the end of the experiment all 4 students were pouring and counting charms independently.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pv"><img src="../Images/7118fa7d073caf5464f72e929ea426cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*YQzaKHZwtUmoEoOKt5nJ-Q.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 5. Data don’t get much rawer than this. (<em class="nr">Image by author</em>)</figcaption></figure><p id="811a" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">The plastic container + cereal were weighed together each round, and the weight of the container (measured at the start of the experiment) was subtracted from the observed total weight. The charms were entered into their respective columns and totaled.</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pu"><img src="../Images/446a02c9dc9e996577ab7c73ac9bab22.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*Z_5ortrx4VTrrnJQKXIdoA.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 6. Pictured: Kate Coppola (<em class="nr">Image by author</em>)</figcaption></figure><h1 id="fb99" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Measured variables</h1><ul class=""><li id="7a9b" class="ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Box</code>: the box number (1 through 6)</li><li id="de35" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Bowl</code>: the sequential bowl for each box (ranges from 1 to 13)</li><li id="c4e0" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Observation</code>: the observed order of bowls across boxes (1 to 69)</li><li id="1d8a" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Totweight</code>: weight of the plastic container + cereal, in grams</li><li id="60e0" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Weight</code>: of cereal in grams, after subtracting the weight of the container</li><li id="fce7" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Hearts</code>, <code class="cx mw mx my mz b">Stars</code>, <em class="nb">etc</em>: how many of that charm in that bowl</li><li id="208b" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><code class="cx mw mx my mz b">Totcharms</code>: sum total of the assorted charms</li></ul><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd pu"><img src="../Images/78b6c49ca2e52ae833f526c39251a47f.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*mT2fVf09SiCFeyoKKRIJhQ.jpeg"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 7. Pictured: Haziq Rabbani (<em class="nr">Image by author</em>)</figcaption></figure><p id="194d" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Here is some <a class="af na" href="https://www.r-project.org/" rel="noopener ugc nofollow" target="_blank">R</a> code to read in and show the top of the dataset (first 6 rows). The data and all code are shared in <a class="af na" href="https://github.com/gjkerns/luckyCharms" rel="noopener ugc nofollow" target="_blank">this GitHub repository</a>.</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="d5c3" class="pz nt fr mz b bg qa qb l qc qd">library(readxl)<br/>Lucky &lt;- read_excel("Lucky.xlsx")<br/>Lucky$Box &lt;- as.factor(Lucky$Box)<br/>head(Lucky)</span></pre><figure class="nf ng nh ni nj nk"><div class="qe id l ed"><div class="qf qg l"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">The first 6 rows of the Lucky Charms dataset.</figcaption></figure><p id="a967" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Equipped with these data we can report things like the mean observed <code class="cx mw mx my mz b">Weight</code> was approximately 46.3g, the maximum number of a particular charm in any one bowl was 15 (Pink Hearts tied with Purple Horseshoes), and so forth. Indeed, we could spend all day computing statistics on this dataset to our Pink Heart’s content, but at the moment we are primarily focused on <code class="cx mw mx my mz b">Totcharms</code> and how it relates to <code class="cx mw mx my mz b">Bowl</code> and maybe <code class="cx mw mx my mz b">Weight</code> to a lesser extent.</p><p id="11b7" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Here is a graph of <code class="cx mw mx my mz b">Totcharms</code> by <code class="cx mw mx my mz b">Bowl</code>, colored by <code class="cx mw mx my mz b">Box</code>:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="ac7d" class="pz nt fr mz b bg qa qb l qc qd">Lucky |&gt; ggplot(aes(x = Bowl, y = Totcharms, color = Box)) + <br/>  geom_point(size = 3) +<br/>  labs(y = '# Charms') -&gt; p1<br/>p1</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/0214b1a790381f3a7c07491adbcc5c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NjRaXIaP0Kbdq1RaVPDjiQ.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 8. A scatterplot of Totcharms versus Bowl colored by Box</figcaption></figure><p id="944c" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Here we see a clear decreasing trend in <code class="cx mw mx my mz b">Totcharms</code> as <code class="cx mw mx my mz b">Bowl</code> increases, and the pattern is surprisingly linear. There may be a slight curvature. The colors are tricky to pick out, so let’s make a line plot and highlight a couple of series:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="566e" class="pz nt fr mz b bg qa qb l qc qd">sizes &lt;- c(2, 1, 2, 1, 1, 1)<br/>alphas &lt;- c(1, 0.2, 1, 0.2, 0.2, 0.2)<br/>Lucky |&gt; ggplot(aes(x = Bowl, y = Totcharms)) +<br/>  geom_line(aes(colour = Box, linewidth = Box, alpha = Box)) +<br/>  scale_discrete_manual("linewidth", values = sizes) +<br/>  scale_alpha_manual(values = alphas, guide = "none")</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/d18035a524c82585a6cc24fe6f757583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgcUR8qn3GH89uLGhCCX5w.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 9. A line plot of selected series of Totcharms by Bowl colored by Box</figcaption></figure><p id="382e" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">There is a general trend downward for all series, but the path to get there varies for individual boxes. Notice how Box 3 starts high and stays high for a few bowls before dropping off smoothly to Bowl 10, crashing promptly afterwards. Look at how Box 1 starts the lowest of the crowd, increases after Bowl 5, peaks at Bowl 8, then nosedives down to Bowl 12. The data would suggest that charms were more concentrated near the top of Box 3, but were more clustered in a pocket near the middle of Box 1. Some boxes bounce around, other boxes drift in more of a straight line downward. Put it all together, though, and the overall trend is decreasing and linear. Note that every box made it at least to <code class="cx mw mx my mz b">Bow1 = 11</code>, but only two boxes had 12 bowls, and a single box (Box 4) lasted to <code class="cx mw mx my mz b">Bow1 = 13</code>.</p><p id="6a19" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Now let’s take a look at <code class="cx mw mx my mz b">Totcharms</code> versus <code class="cx mw mx my mz b">Weight</code>:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="48d4" class="pz nt fr mz b bg qa qb l qc qd">Lucky |&gt; ggplot(aes(x = Weight, y = Totcharms, color = Box)) + <br/>  geom_point(size = 3) +<br/>  labs(x = 'Weight (g)', y = '# Charms') -&gt; p2<br/>p2</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/71482a84c028a7500c2366ca298ded18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A800ogeKJlIwEUYGTfE-dw.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 10. A scatterplot of # Charms versus Weight of cereal colored by Box.</figcaption></figure><p id="be55" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">This plot is noisy as we might have guessed. We have a nice range of weights, from a minimum under 30g to a maximum near 70g. Notice there was one bowl that clocked-in extraordinarily heavy. The outlier doesn’t have any obvious explanation, but if we dig a little deeper and plot <code class="cx mw mx my mz b">Weight</code> versus <code class="cx mw mx my mz b">Bowl</code> we may gain some insight:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="25c9" class="pz nt fr mz b bg qa qb l qc qd">Lucky |&gt; ggplot(aes(x = Bowl, y = Weight, color = Box)) + <br/>  geom_point(size = 3) + ylim(5, 75) +<br/>  labs(y = 'Weight (g)') -&gt; p3<br/>p3</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/5cd80d6acac427a6d983a30020cea3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yR9erCh7wytXoWCOJTVonQ.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 11. Scatterplot of Weight versus Bowl colored by Box</figcaption></figure><p id="88b7" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">We see that the extra-heavy bowl was the last <code class="cx mw mx my mz b">Bowl = 12</code> of <code class="cx mw mx my mz b">Box = 1</code>. The origin of that particular data point has unfortunately been lost to the sands of time, but bearing in mind that it was the first box the team had ever finished, near the end it may have been difficult to judge how much cereal was left, and perhaps all the remainder was dumped into that final bowl—I do the same thing at breakfast all the time when I get close to the end of a box of cereal. If that 12th bowl of 70g had been split into (say) two bowls of 40g and 30g, respectively, then there would have been two boxes that made it all the way to 13 bowls instead of just one, and maybe the models below would have fit the data slightly better. Alas! We will never know. Such is the scientific enterprise.</p><p id="6035" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">While there isn’t much of a linear association between <code class="cx mw mx my mz b">Totcharms</code> and <code class="cx mw mx my mz b">Weight</code> by themselves, there is a hidden relationship between <code class="cx mw mx my mz b">Totcharms</code>, <code class="cx mw mx my mz b">Bowl</code>, and <code class="cx mw mx my mz b">Weight</code> which can best be explored with a 3D visualization:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="9ff8" class="pz nt fr mz b bg qa qb l qc qd">library(plotly)<br/>fig &lt;- plot_ly(Lucky, x = ~Bowl, y = ~Weight, z = ~Totcharms, color = ~Box) |&gt;<br/>  add_markers() |&gt;<br/>  layout(scene = list(xaxis = list(title = 'Bowl'),<br/>                                   yaxis = list(title = 'Weight (g)'),<br/>                                   zaxis = list(title = '# Charms')),<br/>                      legend=list(title=list(text='Box')))<br/>fig</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd qm"><img src="../Images/72bd48b01eb64c10635a008fe19528c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*19mapWwmBvu_t0vUL7VnZA.png"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 13. (Static) 3D scatterplot of Lucky Charms. Go try the interactive version!</figcaption></figure><p id="5fa7" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Plots in 3D are super-cool, but the above static display doesn’t do the data justice. I’ve set up an <a class="af na" href="https://gkerns.people.ysu.edu/lucky3D.html" rel="noopener ugc nofollow" target="_blank">interactive version of the plot</a> at the following link which should work in most mobile/desktop browsers:</p><div class="qn qo qp qq qr qs"><a href="https://gkerns.people.ysu.edu/lucky3D.html?source=post_page-----9040fe2cc560--------------------------------" rel="noopener  ugc nofollow" target="_blank"><div class="qt ab hv"><div class="qu ab co cb qv qw"><h2 class="bf fs hl z id qx if ig qy ii ik fq bk">Interactive Lucky 3D Scatterplot</h2><div class="qz l"><h3 class="bf b hl z id qx if ig qy ii ik dx">An interactive 3D scatterplot of the Lucky Charms data</h3></div><div class="ra l"><p class="bf b dy z id qx if ig qy ii ik dx">gkerns.people.ysu.edu</p></div></div></div></a></div><p id="7082" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Please go <em class="nb">there</em>, spin the data around, zoom, pan—check it out. If you spin it around just right you will see that the dots scatter loosely about a flat plane in 3D-space. This is <strong class="ma fs"><em class="nb">exactly</em></strong> the kind of relationship we are looking for in a multiple linear regression model (we’ll get to that in a minute).</p><h1 id="5ce6" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Model fitting</h1><p id="6a6d" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">Now let’s try to quantify the linear relationship between these variables. We will start with a simple linear regression model relating <code class="cx mw mx my mz b">Totcharms</code> to <code class="cx mw mx my mz b">Bowl</code>.</p><h1 id="2f44" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">For Bowl</h1><p id="333d" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">Here is the model:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="454b" class="pz nt fr mz b bg qa qb l qc qd">mod1 &lt;- lm(Totcharms ~ Bowl, data = Lucky)<br/>summary(mod1)</span></pre><pre class="rb pw mz px bp py bb bk"><span id="3f43" class="pz nt fr mz b bg qa qb l qc qd">## <br/>## Call:<br/>## lm(formula = Totcharms ~ Bowl, data = Lucky)<br/>## <br/>## Residuals:<br/>##      Min       1Q   Median       3Q      Max <br/>## -16.7629  -5.7629  -0.4327   6.2277  22.2277 <br/>## <br/>## Coefficients:<br/>##             Estimate Std. Error t value Pr(&gt;|t|)    <br/>## (Intercept)  55.1309     2.1237  25.960  &lt; 2e-16 ***<br/>## Bowl         -2.6698     0.2985  -8.945 4.81e-13 ***<br/>## ---<br/>## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1<br/>## <br/>## Residual standard error: 8.313 on 67 degrees of freedom<br/>## Multiple R-squared:  0.5442, Adjusted R-squared:  0.5374 <br/>## F-statistic: 80.01 on 1 and 67 DF,  p-value: 4.807e-13</span></pre><p id="63f5" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">We see that <code class="cx mw mx my mz b">Bowl</code> is strongly linearly associated with <code class="cx mw mx my mz b">Totcharms</code>. The slope on <code class="cx mw mx my mz b">Bowl</code> is approximately −2.7, in other words, for each additional bowl of Lucky Charms eaten we estimate the average <code class="cx mw mx my mz b">Totcharms</code> to decrease by 2.7 charms. Our coefficient of determination is <em class="nb">R²</em> = 0.5442, that is, approximately 54% of the variance in <code class="cx mw mx my mz b">Totcharms</code> is explained by the regression model with <code class="cx mw mx my mz b">Bowl</code> as a predictor. Next we really ought to include a proper residual analysis but we are going to skip it. Suffice it to say that the residual plots are relatively well-behaved. Let’s check out a fitted line plot with confidence bands for the regression line (the default):</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="2063" class="pz nt fr mz b bg qa qb l qc qd">p1 + geom_smooth(method = "lm", aes(group=1), colour="black")</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/71887dc0a412405a54895c5e2c974818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRlquPF2Y07jtLbGo9O4Mw.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 14. Fitted line plot with confidence bands for Totcharms versus Bowl</figcaption></figure><p id="7df6" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">That’s a nice relationship with a clear decreasing trend.</p><h1 id="5002" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">For Weight</h1><p id="ce49" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">We will do the same thing for <code class="cx mw mx my mz b">Weight</code>, ignoring <code class="cx mw mx my mz b">Bowl</code> for the time being. Here we go:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="aabe" class="pz nt fr mz b bg qa qb l qc qd">mod2 &lt;- lm(Totcharms ~ Weight, data = Lucky)<br/>summary(mod2)</span></pre><pre class="rb pw mz px bp py bb bk"><span id="e3f7" class="pz nt fr mz b bg qa qb l qc qd">## <br/>## Call:<br/>## lm(formula = Totcharms ~ Weight, data = Lucky)<br/>## <br/>## Residuals:<br/>##      Min       1Q   Median       3Q      Max <br/>## -27.0151  -8.7745   0.6901   7.8328  24.4701 <br/>## <br/>## Coefficients:<br/>##             Estimate Std. Error t value Pr(&gt;|t|)  <br/>## (Intercept)  22.1370    10.5650   2.095   0.0399 *<br/>## Weight        0.3502     0.2256   1.552   0.1254  <br/>## ---<br/>## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1<br/>## <br/>## Residual standard error: 12.1 on 67 degrees of freedom<br/>## Multiple R-squared:  0.0347, Adjusted R-squared:  0.02029 <br/>## F-statistic: 2.409 on 1 and 67 DF,  p-value: 0.1254</span></pre><p id="494e" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">We do not find <code class="cx mw mx my mz b">Weight</code> to be a very useful predictor of <code class="cx mw mx my mz b">Totcharms</code> on its own, which jives with the scatterplot we saw earlier. We note for reference that the slope on <code class="cx mw mx my mz b">Weight</code> is estimated at 0.3502, that is, each additional 1g of Lucky Charms corresponds to an average <code class="cx mw mx my mz b">Totcharms</code> increase of 0.35 charms. This sounds reasonable: more cereal, more charms. The coefficient of determination is pretty bad: <em class="nb">R²</em> = 0.0347, in other words, approximately <em class="nb">NONE</em>% of the variance in <code class="cx mw mx my mz b">Totcharms</code> is explained by the regression model with <code class="cx mw mx my mz b">Weight</code> as a predictor. That’s okay; <code class="cx mw mx my mz b">Weight</code> was more of a supplementary device to help control for variability in the cereal amounts. The residual analysis here turns out to be not as bad as it could have been, which is comforting, and we should expect a few problems anyway given the extreme observations on the high/low ends of the weight scale. For the sake of completeness we include another fitted line plot:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="0414" class="pz nt fr mz b bg qa qb l qc qd">p2 + geom_smooth(method = "lm", aes(group=1), colour="black")</span></pre><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div role="button" tabindex="0" class="qi qj ed qk bh ql"><div class="nc nd qh"><img src="../Images/964e9fd810d443ea3d662c48921768b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GQJNgebGeLrKiuTq3eNONg.png"/></div></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 15. Fitted line plot of Totcharms versus Weight colored by Box</figcaption></figure><p id="9da0" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">I originally planned to use the <code class="cx mw mx my mz b">ggpubr</code> package to put these fitted-line plots together and try to save some space in the discussion, but the plots were cramped and not very informative. Anyway, this is what I was going to do:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="d4f2" class="pz nt fr mz b bg qa qb l qc qd">library(ggpubr)<br/>ggarrange(p1 + geom_smooth(method = "lm", aes(group=1), colour="black"),<br/>          p2 + geom_smooth(method = "lm", aes(group=1), colour="black"),<br/>          align = 'h', labels=c('A', 'B'), legend = "right",<br/>          common.legend = TRUE)</span></pre><h1 id="358d" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Multiple regression</h1><p id="39cb" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">Now for the fun part: we’ve explored the relationships <code class="cx mw mx my mz b">Totcharms ~ Bowl</code> and <code class="cx mw mx my mz b">Totcharms ~ Weight</code> individually, but what happens if we put them together? Let’s find out:</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="cef6" class="pz nt fr mz b bg qa qb l qc qd">mod3 &lt;- lm(Totcharms ~ Bowl + Weight, data = Lucky)<br/>summary(mod3)</span></pre><pre class="rb pw mz px bp py bb bk"><span id="7f21" class="pz nt fr mz b bg qa qb l qc qd">## <br/>## Call:<br/>## lm(formula = Totcharms ~ Bowl + Weight, data = Lucky)<br/>## <br/>## Residuals:<br/>##      Min       1Q   Median       3Q      Max <br/>## -12.8825  -5.4425  -0.9975   5.2475  26.5304 <br/>## <br/>## Coefficients:<br/>##             Estimate Std. Error t value Pr(&gt;|t|)    <br/>## (Intercept)  33.3168     6.8655   4.853 7.78e-06 ***<br/>## Bowl         -2.7552     0.2796  -9.855 1.35e-14 ***<br/>## Weight        0.4819     0.1452   3.318  0.00148 ** <br/>## ---<br/>## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1<br/>## <br/>## Residual standard error: 7.754 on 66 degrees of freedom<br/>## Multiple R-squared:  0.6094, Adjusted R-squared:  0.5976 <br/>## F-statistic: 51.49 on 2 and 66 DF,  p-value: 3.363e-14</span></pre><p id="39f1" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Check it out! Now <code class="cx mw mx my mz b">Bowl</code> and <code class="cx mw mx my mz b">Weight</code> are <strong class="ma fs">both</strong> strongly linearly associated with <code class="cx mw mx my mz b">Totcharms</code>. The slope on <code class="cx mw mx my mz b">Bowl</code> is almost identical to what it was before, −2.7, but the estimated slope on <code class="cx mw mx my mz b">Weight</code> has now increased to nearly 0.5 charms for each additional 1g of cereal. Our (adjusted) Multiple <em class="nb">R²</em> has jumped to almost 60%—this is remarkable considering the small sample size (<em class="nb">n</em> = 6), the general noise level of the dataset, and maybe some questionable design choices (every little marshmallow bit counts as 1, <em class="nb">etc</em>.). In retrospect, it is kind of amazing that the data didn’t turn out a lot worse. Real data collected by hand in the wild are seldom so good-natured.</p><h1 id="edb8" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Adding the regression plane</h1><p id="888e" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">The code for this visualization is a bit more involved than the other examples and has been omitted for brevity, but you can check it all out <a class="af na" href="https://gist.github.com/gjkerns/8636439f9e6afdea1ba9d301b2b38947" rel="noopener ugc nofollow" target="_blank">in this GitHub Gist</a>. Let’s get on with the plot:</p><figure class="nf ng nh ni nj nk nc nd paragraph-image"><div class="nc nd qm"><img src="../Images/cdceacfdabf6d6b338ff068f9e97bd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*K9DRJH223muGFfpnZ2HuTA.png"/></div><figcaption class="nm nn no nc nd np nq bf b bg z dx">Figure 16. 3D scatterplot of Lucky Charms with added regression plane</figcaption></figure><p id="08df" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Again: a super-cool plot but the static version doesn’t do the data justice. <a class="af na" href="https://gkerns.people.ysu.edu/lucky3Dplane.html" rel="noopener ugc nofollow" target="_blank">Check out the interactive version</a> instead:</p><div class="qn qo qp qq qr qs"><a href="https://gkerns.people.ysu.edu/lucky3Dplane.html?source=post_page-----9040fe2cc560--------------------------------" rel="noopener  ugc nofollow" target="_blank"><div class="qt ab hv"><div class="qu ab co cb qv qw"><h2 class="bf fs hl z id qx if ig qy ii ik fq bk">Interactive Lucky 3D with Regression Plane</h2><div class="qz l"><h3 class="bf b hl z id qx if ig qy ii ik dx">Lucky Charms 3D scatterplot with regression plane added</h3></div><div class="ra l"><p class="bf b dy z id qx if ig qy ii ik dx">gkerns.people.ysu.edu</p></div></div></div></a></div><p id="f077" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Interactive 3D-plots are a lot of fun. I hope you enjoy playing with the graph as much as I have. As a final remark, in the <code class="cx mw mx my mz b">tl;dr</code> statement we claimed that the interaction between <code class="cx mw mx my mz b">Bowl</code> and <code class="cx mw mx my mz b">Weight</code> is not significant. The reader can confirm it isn’t with the following (output omitted):</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="2512" class="pz nt fr mz b bg qa qb l qc qd">summary(lm(Totcharms ~ Bowl * Weight, data = Lucky))</span></pre><h1 id="6e96" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Discussion and questions</h1><p id="9c95" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">I originally thought that either the whole thing would turn out to be a figment of my imagination or the effect would be too small to detect without LOTS AND LOTS of Lucky Charms. I was wrong on both counts. The effect is real, and it is big enough to detect with a handful of boxes, literally two hands full.</p><h1 id="2419" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">The Lucky Charms drop-off</h1><p id="0c63" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">The full model leads us quickly to some startling conclusions. For example, how many charms do we estimate in the first bowl of a box of Lucky Charms? We saw earlier that the average <code class="cx mw mx my mz b">Weight</code> in this study was 46.3g. When <code class="cx mw mx my mz b">Box = 1</code> the model estimates the average <code class="cx mw mx my mz b">Totcharms</code> to be</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="b868" class="pz nt fr mz b bg qa qb l qc qd">33.3168 + (-2.7552)*1 + 0.4819*46.3</span></pre><pre class="rb pw mz px bp py bb bk"><span id="d427" class="pz nt fr mz b bg qa qb l qc qd">## [1] 52.87357</span></pre><p id="50ee" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">That is, around 53 charms in the first bowl of cereal—Mmm, mouth’s watering already. What about the last bowl? Okay, not every box made it to <code class="cx mw mx my mz b">Bowl 13</code>, but they all made it to <code class="cx mw mx my mz b">Bowl = 11</code>. How many charms?</p><pre class="nf ng nh ni nj pw mz px bp py bb bk"><span id="4647" class="pz nt fr mz b bg qa qb l qc qd">33.3168 + (-2.7552)*11 + 0.4819*46.3</span></pre><pre class="rb pw mz px bp py bb bk"><span id="a2f6" class="pz nt fr mz b bg qa qb l qc qd">## [1] 25.32157</span></pre><p id="898e" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk"><strong class="ma fs">WOW.</strong> 25.3 charms on average. This corresponds to a 52% reduction in charms from the first bowl to the eleventh. No, it was most definitely not my imagination. Forget multiple linear regression models and fancy 3D plots, a hungry toddler could detect this difference wearing a blindfold.</p><p id="0bfc" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Next question: <em class="nb">Why</em> is there a drop-off? An analysis on physical grounds might go something like this: Consider a box of Lucky Charms to be a simple mechanical mixture of frosted toasted oats and marshmallows. Many external forces agitate the box over the course of its lifetime, such as jostling during transport, placement on the store shelf, and transit to the home, not to mention activity in and around the cupboard. This inevitably leads to a shifting of contents, with the slightly less dense marshmallows migrating toward the top of the box, and the denser toasty oats settling toward the bottom.</p><p id="017f" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">This rationale is logical, anyway. But it leaves some related questions unanswered:</p><ol class=""><li id="6bf6" class="ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv rc pn po bk">Does the same pattern hold true for the individual charm types? (A quick glance suggests “No”.)</li><li id="8a0f" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv rc pn po bk">Is the association truly linear, or would a more complicated model better describe the relationship?</li><li id="162c" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv rc pn po bk">What other important factors have we overlooked?</li><li id="4879" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv rc pn po bk">Are there strategies a person can use to decelerate the Lucky Charm drop-off?</li></ol><ul class=""><li id="f680" class="ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv pm pn po bk">Can we cleverly shake the box (somehow) to better mix the marshmallows?</li><li id="3adb" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">What about storage practices? Does it help if the box is stored upside-down?</li><li id="62b8" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">Or flat on its side?</li><li id="5ec8" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk">and so forth.</li></ul><p id="7eb6" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">These open questions will have to wait for another day.</p><h1 id="d6ae" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Next steps</h1><p id="1424" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">Since the original experiment in Summer 2023, I’ve rerun the experiment a couple more times with other groups of students. The first was in November 2023 with middle schoolers on <a class="af na" href="https://megamath.ysu.edu/" rel="noopener ugc nofollow" target="_blank">YSU MegaMath Day</a>. I failed to give the MegaMath students very specific instructions and before I knew it all teams had removed the plastic bags of cereal from the box and were scooping from the middle of the bag spread flat on the tabletop. I couldn’t blame them; it is easier to scoop cereal from the middle with the bag out in the open. Unfortunately, this approach completely destroys any natural density sort-order that may have have been present, the key underlying element we suspect is at play, which compromises the integrity of the experiment. Plus, I doubt anybody’s parents ever let them eat their Lucky Charms that way.</p><p id="2c55" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">The second was in February 2024 with high school students at <a class="af na" href="https://mathfest.ysu.edu/" rel="noopener ugc nofollow" target="_blank">YSU MathFest</a> in a sequence of two workshops. This time I was ready for them. I put together and distributed a data collection sheet (<a class="af na" href="https://gkerns.people.ysu.edu/LuckyCharmsDataCollectionSheet.docx" rel="noopener ugc nofollow" target="_blank">which you can find here</a>) with more detailed guidance. You can check out the extra datasets on GitHub <a class="af na" href="https://github.com/gjkerns/luckyCharms/tree/master/extraData" rel="noopener ugc nofollow" target="_blank">in the </a><code class="cx mw mx my mz b"><a class="af na" href="https://github.com/gjkerns/luckyCharms/tree/master/extraData" rel="noopener ugc nofollow" target="_blank">extraData</a></code><a class="af na" href="https://github.com/gjkerns/luckyCharms/tree/master/extraData" rel="noopener ugc nofollow" target="_blank"> directory</a>.</p><p id="33c4" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">Moving forward, more data are needed to better estimate the Lucky Charm drop-off, and it would be interesting to test strategies for distributing the charms more uniformly throughout the box. If successful, the first bowl of the box might not be so magical, but on the other hand, maybe those final bowls won’t feel like such a chore waiting to open the next brand new box of Lucky Charms!</p><h1 id="b39f" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Acknowledgements</h1><p id="b5a9" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">This experiment and these results would not have been possible without the infectious enthusiasm and tireless attention to detail of all four STAT 3743 students in Summer 2023: Brenna Brocker, Kate Coppola, Gavin Duwe, and Haziq Rabbani. I thank them for hiking down this statistical path with me. I would also like to thank the Department of Mathematics and Statistics at Youngstown State University for supporting both this research and additional data collection at YSU MegaMath Day and YSU MathFest.</p><h1 id="32c9" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">Disclaimers</h1><p id="31bb" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">In case it isn’t already abundantly clear, the author is a Lucky Charms fan, so too are the 4 students. The outcomes reported here were not and are not meant as a critique of General Mills, Inc., its subsidiaries, their factory production standards, nor the fine humans and robots gainfully employed there. We are all bound by the same Laws of Physics, and that includes boxes of breakfast cereal.</p><p id="9045" class="pw-post-body-paragraph ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv fk bk">And full disclosure: I’ve taken a peek at the extra data collected in the reruns of the experiment. From what I can tell the effect is still present, but it isn’t as dramatic. I don’t know if this is because the effect is truly smaller than what we originally estimated, or if it is somehow related to the data collection protocol in the middle/high school setting. Only time — and more data — will tell.</p><h1 id="35e6" class="os nt fr bf nu ot ou ov ny ow ox oy oc oz pa pb pc pd pe pf pg ph pi pj pk pl bk">References and code examples</h1><p id="3a42" class="pw-post-body-paragraph ly lz fr ma b mb on md me mf oo mh mi mj op ml mm mn oq mp mq mr or mt mu mv fk bk">In putting together this article I tried to keep a record of the places I went to find code to build the plots that I wanted and below is a mostly complete list, but maybe I missed some links. If you notice something I missed, then please alert me in the comments and I will fix it.</p><ul class=""><li id="2cbd" class="ly lz fr ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv pm pn po bk"><a class="af na" href="https://stackoverflow.com/questions/74750478/correct-syntax-for-manually-scaling-the-width-of-lines-in-ggplot" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/questions/74750478/correct-syntax-for-manually-scaling-the-width-of-lines-in-ggplot</a></li><li id="12f9" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="https://www.statology.org/ggplot-default-colors/" rel="noopener ugc nofollow" target="_blank">https://www.statology.org/ggplot-default-colors/</a></li><li id="3551" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="https://stackoverflow.com/questions/37348719/ggplot2-single-regression-line-when-colour-is-coded-for-by-a-variable" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/questions/37348719/ggplot2-single-regression-line-when-colour-is-coded-for-by-a-variable</a></li><li id="b36a" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="http://blog.recursiveprocess.com/2013/03/03/oreo-original-vs-double-vs-mega/" rel="noopener ugc nofollow" target="_blank">http://blog.recursiveprocess.com/2013/03/03/oreo-original-vs-double-vs-mega/</a></li><li id="8f40" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="https://stackoverflow.com/questions/38331198/add-regression-plane-to-3d-scatter-plot-in-plotly" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/questions/38331198/add-regression-plane-to-3d-scatter-plot-in-plotly</a></li><li id="b16f" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="https://stackoverflow.com/questions/38593153/plotly-regression-line-r" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/questions/38593153/plotly-regression-line-r</a></li><li id="c93d" class="ly lz fr ma b mb pp md me mf pq mh mi mj pr ml mm mn ps mp mq mr pt mt mu mv pm pn po bk"><a class="af na" href="https://stackoverflow.com/questions/15633714/adding-a-regression-line-on-a-ggplot" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/questions/15633714/adding-a-regression-line-on-a-ggplot</a></li></ul></div></div></div></div>    
</body>
</html>