- en: 'How I Built BeatBuddy: A Web App that Analyzes Your Spotify Data'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/how-i-built-beatbuddy-a-web-app-that-analyzes-your-spotify-data-05b7b6d10f81?source=collection_archive---------3-----------------------#2024-08-05](https://towardsdatascience.com/how-i-built-beatbuddy-a-web-app-that-analyzes-your-spotify-data-05b7b6d10f81?source=collection_archive---------3-----------------------#2024-08-05)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[](https://medium.com/@lazarekolebka?source=post_page---byline--05b7b6d10f81--------------------------------)[![Lazare
    Kolebka](../Images/c3697b77f6275d40d65e488faf9c01dd.png)](https://medium.com/@lazarekolebka?source=post_page---byline--05b7b6d10f81--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--05b7b6d10f81--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--05b7b6d10f81--------------------------------)
    [Lazare Kolebka](https://medium.com/@lazarekolebka?source=post_page---byline--05b7b6d10f81--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--05b7b6d10f81--------------------------------)
    ·9 min read·Aug 5, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/65c3d91a46fbc789714f5e08020368b8.png)'
  prefs: []
  type: TYPE_IMG
- en: Image generated by DALL·E 3
  prefs: []
  type: TYPE_NORMAL
- en: Hi there, and welcome to this article! I’m going to explain how I built BeatBuddy,
    a web app that analyzes what you’re listening to on Spotify. Inspired by Spotify
    Wrapped, it aims to interpret your current mood and provide recommendations that
    you can tweak based on that analysis.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you don’t want to read everything and just want to give it a try, you can
    do so here: [BeatBuddy](https://www.beatbuddy.cloud/). For the rest, keep reading!'
  prefs: []
  type: TYPE_NORMAL
- en: The Birth of the Project
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I’m a data analyst and a music lover, and I believe that data analysis is a
    powerful way to understand the world we live in and who we are as individuals.
  prefs: []
  type: TYPE_NORMAL
- en: Music, in particular, can act as a mirror, reflecting your identity and emotions
    at a given moment. The type of music you choose often depends on your current
    activities and mood. For example, if you’re working out, you might choose an energetic
    playlist to motivate you.
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, if you are busy studying or focusing on crushing some data,
    you may want to listen to calm and peaceful music. I’ve even heard of people listening
    to white noise to focus, which can be described as the sound you hear when you
    open the windows of your car on the highway.
  prefs: []
  type: TYPE_NORMAL
- en: Another example of how music can reflect your mood is at a party. Imagine you
    are having a party with friends and you have to choose the music. If it’s a casual
    dinner, you might want to play some smooth jazz or mellow tunes. But if you’re
    aiming for the kind of party where everyone ends up dancing on the furniture or
    doing their best drunken karaoke performance of an ’80s hit, you’ll want to choose
    songs that are energetic and danceable. We’ll come back to these concepts in a
    moment.
  prefs: []
  type: TYPE_NORMAL
- en: In fact, all the music you listen to and the choices you make can reveal fascinating
    aspects of your personality and emotional state at any given moment. Nowadays,
    people tend to enjoy analytics about themselves, and it’s becoming a global trend!
    This trend is known as the “quantified self,” a movement where people use analytics
    to track their activities, such as fitness, sleep, and productivity, to make informed
    decisions (or not).
  prefs: []
  type: TYPE_NORMAL
- en: Don’t get me wrong, as a data nerd, I love all these things, but sometimes it
    goes too far — like with [AI-connected toothbrushes](https://www.theverge.com/circuitbreaker/2019/10/25/20932250/oral-b-genius-x-connected-toothbrush-ai-artificial-intelligence).
    Firstly, I don’t need a toothbrush with a Wi-Fi antenna. Secondly, I don’t need
    a line chart showing the evolution of how well I’ve been brushing over the last
    six weeks.
  prefs: []
  type: TYPE_NORMAL
- en: Anyway, back to the music industry. Spotify was one of the pioneers in turning
    user data collection into something cool, and they called it Spotify Wrapped.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f5b4c538b4cd0eb85e5ef194d83ee6a0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE I : Example of Spotify Wrapped | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: At the end of the year, Spotify compiles what you’ve listened to and creates
    Spotify Wrapped, which goes viral on social media. Its popularity lies in its
    ability to reveal aspects of your personality and preferences that you can compare
    to your friends.
  prefs: []
  type: TYPE_NORMAL
- en: This concept of how Spotify collects and aggregates data for these year-end
    summaries has always fascinated me. I remember asking myself, “How do they do
    that?” and that curiosity was the starting point for this project.
  prefs: []
  type: TYPE_NORMAL
- en: 'Well, not exactly. Let’s be honest: The idea to analyze Spotify data was written
    on a note titled “data project”-you know, the kind of note filled with ideas you’ll
    probably never start or finish. It sat there for a year.'
  prefs: []
  type: TYPE_NORMAL
- en: One day, I looked at the list again, and with a new confidence in my data analysis
    skills (thanks to a year of growth and improvements of ChatGPT), I decided to
    pick an item and start the project.
  prefs: []
  type: TYPE_NORMAL
- en: At first, I just wanted to access and analyze my Spotify data for no particular
    purpose. I was simply curious to see what I could do with it.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 1: Getting Your Spotify Data'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Starting a project like this, the first question you want to ask yourself is
    where the data source is and what data is available. Essentially, there are two
    ways to obtain your data:'
  prefs: []
  type: TYPE_NORMAL
- en: In the privacy settings, you can request a copy of your historical data, but
    it takes 30 days to be delivered — not really convenient.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using Spotify’s API, which allows you to retrieve your own data on demand and
    use different parameters to tweak the API call and retrieve various information.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Obviously, I went for the second option. To do so, you first need to create
    a developer project to get your API keys, and then you’re good to go.
  prefs: []
  type: TYPE_NORMAL
- en: API Response Example
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Remember we talked about the fact that certain tracks are more likely danceable
    than others. As human beings, it’s quite easy to feel if a song is danceable or
    not — it’s all about what you feel in your body, right? But how do computers determine
    this?
  prefs: []
  type: TYPE_NORMAL
- en: Spotify uses its own algorithms to analyze every song in its catalog. For every
    song, they provide a list of features associated with it. One use of this analysis
    is to create playlists and give you recommendations. The good news is that their
    API provides access to these analyses through the audio_features endpoint, allowing
    you to access all the features of any song.
  prefs: []
  type: TYPE_NORMAL
- en: For example, let’s analyze the audio features of the famous song “Macarena,”
    which I’m sure everyone knows. I won’t cover every parameter of the track in detail,
    but let’s focus on one aspect to better understand how it works — the danceability
    score of 0.823.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/38835f4868ee5cba04f6cb102196a903.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE II : Example of Macarena’s audio_features | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: According to Spotify’s documentation, danceability describes how suitable a
    track is for dancing based on a combination of musical elements, including tempo,
    rhythm stability, beat strength, and overall regularity. A score of 0.0 is the
    least danceable, and 1.0 is the most danceable. With a score of 0.823 (or 82.3%),
    it’s easy to say that this track is very danceable.
  prefs: []
  type: TYPE_NORMAL
- en: The Three Temporalities
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Before going further, I need to introduce a concept with the Spotify API called
    time_range. This interesting parameter allows you to retrieve data from different
    time periods by specifying the time_range:'
  prefs: []
  type: TYPE_NORMAL
- en: '**short_term**: the last 4 weeks of listening activity'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**medium_term**: the last 6 months of listening activity'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**long_term**: the entire lifetime of your listening activity'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Let’s illustrate this with an example: if you want to get your top 10 tracks
    from the last 4 weeks, you can call the corresponding endpoint and pass the time_range
    as a parameter like this : [https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=10](https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=10)'
  prefs: []
  type: TYPE_NORMAL
- en: Calling this will give you your top 10 artists from the past month.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 2: Interpreting the Results'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With all this information available, my idea was to create a data product that
    allows users to understand what they are listening to, and to detect variations
    in their mood by comparing different temporalities. This analysis can then show
    how changes in our lives are reflected in our music choices.
  prefs: []
  type: TYPE_NORMAL
- en: For example, I recently started running again, and this change in my routine
    has affected my music preferences. I now listen to music that is faster and more
    energetic than what I typically listened to in the past. That’s my interpretation,
    of course, but it’s interesting to see how a change in my physical activity can
    affect what I listen to.
  prefs: []
  type: TYPE_NORMAL
- en: This is just one example, as everyone’s musical journey is unique and can be
    interpreted differently based on personal experiences and life changes. By analyzing
    these patterns, I think it is pretty cool to be able to make connections between
    our lifestyle choices and the music that we like to listen to.
  prefs: []
  type: TYPE_NORMAL
- en: Making Data Insight Accessible
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The deeper I got into this project, the more I came to realize that, yes, I
    could analyze my data and come to certain conclusions myself, but I wanted everyone
    to do it.
  prefs: []
  type: TYPE_NORMAL
- en: To me, the simplest way to share data insights with non-technical people and
    make it so very accessible is not through a fancy BI dashboard. My idea was to
    create something universally accessible, which led me to develop a mobile-friendly
    web application that anyone could use.
  prefs: []
  type: TYPE_NORMAL
- en: To use the app, all you need is a Spotify account, connect it to BeatBuddy with
    the click of one button, and you’re done !
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4ee0ee60a1ecdb4bb4562c0a5840ded5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE III : Example of the application screens | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: Measuring Musical Emotions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Let’s look at another feature of the app: measuring the happiness level of
    the music you’re listening to, which could reflect your current mood. The app
    aggregates data from your recent top tracks, focusing on the ‘valence’ parameter,
    which represents musical happiness, with 1 being super happy music. For instance,
    if the average valence of your current tracks is 0.432, and your all-time average
    is 0.645, it might suggest a shift towards more melancholic music recently.'
  prefs: []
  type: TYPE_NORMAL
- en: However, these analyses should be taken with a grain of salt, as these numbers
    represent trends rather than absolute truths. Sometimes, we shouldn’t always try
    to find a reason behind these numbers.
  prefs: []
  type: TYPE_NORMAL
- en: For example, if you were tracking your walking pace and discovered you have
    been walking faster lately, it doesn’t necessarily mean you’re in more of a hurry
    — it could be due to various minor factors like changes in weather, new shoes,
    or simply a subconscious shift. Sometimes changes occur without explicit reasons,
    and while it is possible to measure these variations, they do not always require
    straightforward explanations.
  prefs: []
  type: TYPE_NORMAL
- en: That being said, noticing significant changes in your music listening habits
    can be interesting. It can help you think about how your emotional state or life
    situation might be affecting your musical preferences. This aspect of BeatBuddy
    offers an interesting perspective, although it’s worth noting that these interpretations
    are only one piece of the complex puzzle of our emotions and experiences
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 3: Take Data-Driven Decisions'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let’s be honest, analyzing your listening habits is one thing, but how do you
    take action based on this analysis? In the end, making data-driven decisions is
    the ultimate goal of data analysis. This is where recommendations come into play.
  prefs: []
  type: TYPE_NORMAL
- en: Recommendations Based on Your Selected Mood
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: An interesting feature of BeatBuddy is its ability to provide music recommendations
    based on a mood you select and the music you like.
  prefs: []
  type: TYPE_NORMAL
- en: For instance, you might realize that what you are listening to has a score of
    75% popularity (which is quite high), and you want to find hidden gems tailored
    to your tastes. You can then tweak the “Popularity” slider to, say, 25% to create
    a fresh playlist with an average score of 25% popularity.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/39d770b148d4ac8cfa6767a6b8478b5a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE IV : Adjustment of the popularity slider to 25% | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: Behind the scenes, there’s an API call to Spotify’s algorithm to create a recommendation
    based on the criteria you’ve selected. This call generates a playlist recommendation
    tailored to both your personal tastes and the mood parameters you’ve set. It uses
    your top 5 recent tracks to fine-tune Spotify’s recommendation algorithm according
    to your choices.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/322b041db450160072debe7b3c15045f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE V: API endpoint explanation | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: Once you’re happy with the playlist, you can save it directly to your Spotify
    library. Each playlist comes with a description that details the parameters you
    chose, helping you remember the mood each playlist is meant to evoke.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1bef315d7b31999ec5c5defa9ee7429d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE VI: Saving a playlist to Spotify | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: Final Thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Developing a web application that analyzes Spotify data has been a challenging
    but rewarding journey. I have been pushed out of my comfort zone and gained knowledge
    in several areas, including web API, cookie management, web security, OAuth2,
    front-end development, mobile optimization, and SEO. Below is a diagram of the
    high-level architecture of the application:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/862798663f18c6815ceed610a03b5abe.png)'
  prefs: []
  type: TYPE_IMG
- en: 'FIGURE VII: High level architecture | Image by the author'
  prefs: []
  type: TYPE_NORMAL
- en: My initial goal was to start a modest data project to analyze my listening habits.
    However, it turned into a three-month project rich in learning and discovery.
  prefs: []
  type: TYPE_NORMAL
- en: Throughout the process, I realized how closely related data analysis and web
    development are, especially when it comes to delivering a solution that is not
    only functional but also user-friendly and easily accessible. In the end, software
    development is essentially about moving data from one place to another.
  prefs: []
  type: TYPE_NORMAL
- en: 'One last note: I wanted to create an application that was clean and provided
    a seamless user experience. That is why BeatBuddy is completely ad-free, no data
    is sold or shared with any third parties. I’ve created this with the sole purpose
    of giving users a way to better understand their music choices and discover new
    tracks.'
  prefs: []
  type: TYPE_NORMAL
- en: 'You can give the app a try here: [https://www.beatbuddy.cloud](https://www.beatbuddy.cloud)'
  prefs: []
  type: TYPE_NORMAL
- en: If you have any comments or suggestions, I’m all ears! Your feedback is really
    important.
  prefs: []
  type: TYPE_NORMAL
- en: For those interested in a deeper dive, keep an eye out for my upcoming article.
  prefs: []
  type: TYPE_NORMAL
- en: Cheers!
  prefs: []
  type: TYPE_NORMAL
- en: Lazare
  prefs: []
  type: TYPE_NORMAL
