<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Hacking “Codenames” with GloVe Embeddings</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Hacking “Codenames” with GloVe Embeddings</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hacking-codenames-with-glove-embeddings-0cf928af0858?source=collection_archive---------7-----------------------#2024-07-16">https://towardsdatascience.com/hacking-codenames-with-glove-embeddings-0cf928af0858?source=collection_archive---------7-----------------------#2024-07-16</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="0c9c" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx">Using a GloVe embedding-based algorithm to achieve 100% accuracy on the popular party game “Codenames”</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://jiangzh.medium.com/?source=post_page---byline--0cf928af0858--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Zhiheng Jiang" class="l ep by dd de cx" src="../Images/a83400a64f7ec5f1d579c6fba6da05b9.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*J5WAFWTa9LIF4Zra04w3hw.jpeg"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--0cf928af0858--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://jiangzh.medium.com/?source=post_page---byline--0cf928af0858--------------------------------" rel="noopener follow">Zhiheng Jiang</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--0cf928af0858--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jul 16, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj la lb ab q ee lc ld" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="le"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lf k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lg an ao ap id lh li lj" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep lk cn"><div class="l ae"><div class="ab cb"><div class="ll lm ln lo lp lq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lg an ao ap id lr ls ld lt lu lv lw lx s ly lz ma mb mc md me u mf mg mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="dc98" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Introduction</h1><p id="863e" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk"><a class="af oa" href="https://codenames.game/" rel="noopener ugc nofollow" target="_blank">Codenames</a> is a popular party game for 2 teams of 2 players each, where each team consists of a spymaster and an operative. Each team is allocated a number of word cards on a game board. During each turn, the spymaster provides a word clue, and the number of word cards it corresponds to. The operative would then have to guess which words on the game board belong to his/her team. The objective is for the spymaster to provide good clues, such that the operative can use fewer number of turns to guess all the words, before the opponent team. In addition, there will be an “assassin” card, which upon being chosen by the operative, causes the team to lose immediately.</p><p id="2a18" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">In this project, we are going to use a simple word vector algorithm using pre-trained word vectors in machine learning to maximize our accuracy in solving the game in as few tries as possible.</p><p id="de0d" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Below are examples of what the game board looks like:</p><figure class="oj ok ol om on oo og oh paragraph-image"><div role="button" tabindex="0" class="op oq ed or bh os"><div class="og oh oi"><img src="../Images/ef91552569e8509704b3ca7648c0890c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gn3mT87xJdNqFhsIAUsQIw.png"/></div></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Spymaster View (Image by author)</figcaption></figure><figure class="oj ok ol om on oo og oh paragraph-image"><div role="button" tabindex="0" class="op oq ed or bh os"><div class="og oh oz"><img src="../Images/b4f8e55702cf738cf5afb1d412926980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*18AMMf__FLlkqu8bfkf40Q.png"/></div></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Operative View (Image by author)</figcaption></figure><p id="2c85" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">In the card arrangement for the Spymaster, the color of each card represents Red Team, Blue Team, Neutral (Beige) and Assassin Card (Black).</p><h1 id="eddd" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Automating the spymaster and operative</h1><p id="0a0d" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">We will be creating an <a class="af oa" href="https://github.com/jzh001/codenames" rel="noopener ugc nofollow" target="_blank">algorithm</a> that can take on both the roles of spymaster and operative and play the game by itself. In a board of 25 cards, there will be 9 “good” cards and 16 “bad” cards (including 1 “assassin” card).</p><h2 id="c296" class="pa mj fq bf mk pb pc pd mn pe pf pg mq nn ph pi pj nr pk pl pm nv pn po pp pq bk">Representing meaning with GloVe embeddings</h2><p id="49ec" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">In order for the spymaster to give good clues to the operative, our model needs to be able to understand the meaning of each word. One popular way to represent word meaning is via word embeddings. For this task, we will be using pre-trained <a class="af oa" href="https://nlp.stanford.edu/projects/glove/" rel="noopener ugc nofollow" target="_blank">GloVe embeddings</a>, where each word is represented by a 100-dimensional vector.</p><p id="997d" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">We then score the similarity between two words using cosine similarity, which is the dot product of two vectors divided by their magnitudes:</p><figure class="oj ok ol om on oo og oh paragraph-image"><div class="og oh pr"><img src="../Images/cdac39603dd26713dca9dfbdad647b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*dw0qA6CImx-T64aJNEzlvQ.png"/></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Image by author</figcaption></figure><h2 id="99d7" class="pa mj fq bf mk pb pc pd mn pe pf pg mq nn ph pi pj nr pk pl pm nv pn po pp pq bk">Operative: Decoding Algorithm</h2><p id="a760" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">During each turn, the operative receives a clue <em class="ps">c</em>, and an integer <em class="ps">n</em> representing the number of corresponding words to guess. In other words, the operator has to decode a<em class="ps"> {c, n}</em> pair and choose<em class="ps"> n </em>words one at a time without replacement, until a wrong word is reached and the turn ends.</p><p id="fb53" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Our decoder is a straightforward greedy algorithm: simply sort all the remaining words on the board based on cosine similarity with the clue word <em class="ps">c</em>, and pick the top <em class="ps">n </em>words based on similarity score.</p><h2 id="219b" class="pa mj fq bf mk pb pc pd mn pe pf pg mq nn ph pi pj nr pk pl pm nv pn po pp pq bk">Spymaster: Encoding Algorithm</h2><p id="d1d9" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">On each turn, based on the remaining “good” and “bad” words, the spymaster has to pick <em class="ps">n</em> words and decide on a clue <em class="ps">c</em> to give to the operative. One assumption we make here is that the spymaster and operative agree on the decoding strategy mentioned above, and hence the operator will pick the optimal <em class="ps">{c, n} </em>that will maximize the number of correct words chosen.</p><p id="ded8" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">At this point, we can make an observation that the clue <em class="ps">c</em> is an information bottleneck, because it has to summarize <em class="ps">n </em>words into a single word <em class="ps">c </em>for the operative to decode. The word vector of the encoded clue lies in the same vector space as each of the original word vectors.</p><figure class="oj ok ol om on oo og oh paragraph-image"><div role="button" tabindex="0" class="op oq ed or bh os"><div class="og oh pt"><img src="../Images/4fcc5c4d51b44ad6289128c84d3ca814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d1IDFHRm-QQMev8KQRnjmA.png"/></div></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Mechanics of encoder-decoder system (Image by author)</figcaption></figure><p id="4b20" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk"><strong class="ng fr">Generating clue candidates</strong></p><p id="d2b3" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Word embeddings have the property of enabling us to represent composite meanings via the addition and subtraction of different word vectors. Given set of “good” words <em class="ps">G</em> and set of “bad” words <em class="ps">B</em>, we can use this property to obtain an “average” meaning of a “good” word, with reference to the “bad” words, by computing a <a class="af oa" href="https://github.com/piskvorky/gensim/blob/develop/gensim/models/keyedvectors.py#LC690:%7E:text=def%20most_similar,self%2C" rel="noopener ugc nofollow" target="_blank">normalized mean</a> of the vectors, with “good” word vectors being added, and “bad” word vectors being subtracted. This average vector enables us to generate clue candidates:</p><pre class="oj ok ol om on pu pv pw bp px bb bk"><span id="1661" class="py mj fq pv b bg pz qa l qb qc">glove = api.load("glove-wiki-gigaword-100")<br/><br/>good_words = [g_1, g_2, ..., g_n]<br/>bad_words = [b_1, b_2, ..., b_n]<br/><br/>candidates = glove.most_similar(positive=good_words,negative=bad_words,topn=20)</span></pre><p id="7985" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk"><strong class="ng fr">Negative sampling</strong></p><p id="687e" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">As the number of “bad” words usually exceeds the number of “good” words, we perform negative sampling, by randomly sampling an equal number of “bad” words compared to the “good” words in our computation of our average word vector. This also contributes to more randomness in the clues generated, which improves the diversity of clue candidates.</p><p id="8ca8" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">After we find the average word vector, we use the <em class="ps">most_similar()</em> function in Gensim to obtain the top closest words from the entire GloVe vocabulary with respect to the average word vector, based on cosine similarity.</p><p id="6174" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk"><strong class="ng fr">Score function</strong></p><p id="c385" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Now, we have a method to generate candidates for clue <em class="ps">c</em>, given <em class="ps">n</em> words. However, we still have to decide which candidate <em class="ps">c </em>to pick, which <em class="ps">n </em>words to choose, and how to determine <em class="ps">n</em>.</p><p id="9fdb" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Thereafter, we generate all possible combinations of <em class="ps">k, k</em>-1, …, 1 words from the <em class="ps">k “</em>good” words remaining on the board, as well as their respective clue word candidates <em class="ps">c, </em>working backwards from <em class="ps">k</em>. To pick the best <em class="ps">{c, n}</em>,<em class="ps"> </em>we score all the candidates from each possible combination of the remaining “good” words, through the decoding algorithm. Then we obtain the maximum number of words guessed correct given clue <em class="ps">c, count(c)</em>, since we know what strategy the operative will use.</p><figure class="oj ok ol om on oo og oh paragraph-image"><div class="og oh qd"><img src="../Images/0cd6af4e7a2d8b9295a2106e24ca4ea8.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*Ruj1O3LNSGlS_RzfuSel0Q.png"/></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Image by author</figcaption></figure><h1 id="c3bc" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Results</h1><p id="4ae1" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">In each game, 25 words are sampled from <a class="af oa" href="https://github.com/Gullesnuffs/Codenames/blob/master/wordlist-eng.txt" rel="noopener ugc nofollow" target="_blank">a list of 400 common Codenames words</a>. Overall, after 100 experiments, our method chooses the correct word 100% of the time, completing the game within an average of 1.98 turns, or 4.55 guesses per turn (for 9 correct words), taking at most 2 turns.</p><figure class="oj ok ol om on oo og oh paragraph-image"><div role="button" tabindex="0" class="op oq ed or bh os"><div class="og oh qe"><img src="../Images/676819238b000e10030980d1d45ef3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bboaNfZNiZLYFzU3jnueqQ.png"/></div></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Average number of guesses at each turn as game progresses (Image by author)</figcaption></figure><p id="cbf9" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">In other words, this algorithm takes two turns almost every game, except for a few exceptions where it guesses all the words in a single turn.</p><p id="76b8" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Let’s view a sample distribution of word embeddings of the clues and guesses we made.</p><figure class="oj ok ol om on oo og oh paragraph-image"><div role="button" tabindex="0" class="op oq ed or bh os"><div class="og oh qf"><img src="../Images/a2aae26b63061bcc794fd17b6a7421e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2b2usXS-V6v7cRIW5gG3Fg.png"/></div></div><figcaption class="ou ov ow og oh ox oy bf b bg z dx">Scatter plot of word embeddings for 1 game after PCA reduction (Image by author)</figcaption></figure><p id="2541" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Although the clues generated do provide some level of semantic summary of the words that the operative eventually guessed correctly, these relationships between clues and guesses may not be obvious from a human perspective. One way to make to clues more interpretable is to cap the maximum number of guesses per turn, which generates clues with better semantic approximation of the guesses.</p><p id="c611" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Even so, our algorithm promotes a good clustering outcome for each of the words, to enable our decoder to get more words correct by providing good clues that lie close to the target words.</p><h1 id="08ac" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">Conclusion</h1><p id="f47e" class="pw-post-body-paragraph ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz fj bk">In conclusion, this greedy GloVe-based algorithm performs well as both the spymaster and operative in the Codenames game, by offering an effective way to encode and decode words via a clue and number.</p><p id="d18b" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">In our model, the encoder and decoder share a common strategy, which works in similar ways as a shared encryption key. A possible limitation of this is that the encoder and decoder will not work as well separately, as a human player may not be able to interpret the generated clues as effectively.</p><p id="596e" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Understanding the mechanics behind word embeddings and vector manipulation is a great way to get started in Natural Language Processing. It is interesting to see how simple methods can also perform well in such semantic clustering and classification tasks. To enhance the gameplay even further, one can consider using adding elements of reinforcement learning or training an autoencoder to achieve better results.</p><p id="361f" class="pw-post-body-paragraph ne nf fq ng b go ob ni nj gr oc nl nm nn od np nq nr oe nt nu nv of nx ny nz fj bk">Github Repository: <a class="af oa" href="https://github.com/jzh001/codenames" rel="noopener ugc nofollow" target="_blank">https://github.com/jzh001/codenames</a></p><h1 id="200f" class="mi mj fq bf mk ml mm gq mn mo mp gt mq mr ms mt mu mv mw mx my mz na nb nc nd bk">References</h1><ol class=""><li id="293b" class="ne nf fq ng b go nh ni nj gr nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz qg qh qi bk">Koyyalagunta, D., Sun, A., Draelos, R. L., &amp; Rudin, C. (2021). Playing codenames with language graphs and word embeddings. <em class="ps">Journal of Artificial Intelligence Research</em>, <em class="ps">71</em>, 319–346. <a class="af oa" href="https://doi.org/10.1613/jair.1.12665" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1613/jair.1.12665</a></li><li id="4b52" class="ne nf fq ng b go qj ni nj gr qk nl nm nn ql np nq nr qm nt nu nv qn nx ny nz qg qh qi bk">Pennington, J., Socher, R., &amp; Manning, C. (2014). Glove: Global vectors for word representation. <em class="ps">Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>. <a class="af oa" href="https://doi.org/10.3115/v1/d14-1162" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.3115/v1/d14-1162</a></li><li id="a7dc" class="ne nf fq ng b go qj ni nj gr qk nl nm nn ql np nq nr qm nt nu nv qn nx ny nz qg qh qi bk">Li, Y., Yan, X., &amp; Shaw, C. (2022). Codenames AI <a class="af oa" href="https://xueweiyan.github.io/codenames-ai-website/" rel="noopener ugc nofollow" target="_blank">https://xueweiyan.github.io/codenames-ai-website/</a></li><li id="d62e" class="ne nf fq ng b go qj ni nj gr qk nl nm nn ql np nq nr qm nt nu nv qn nx ny nz qg qh qi bk">Friedman, D., &amp; Panigrahi, A. (2021). Algorithms for Codenames <a class="af oa" href="https://www.cs.princeton.edu/~smattw/Teaching/521FA21/FinalProjectReports/FriedmanPanigrahi.pdf" rel="noopener ugc nofollow" target="_blank">https://www.cs.princeton.edu/~smattw/Teaching/521FA21/FinalProjectReports/FriedmanPanigrahi.pdf</a></li><li id="b3c5" class="ne nf fq ng b go qj ni nj gr qk nl nm nn ql np nq nr qm nt nu nv qn nx ny nz qg qh qi bk">Jaramillo, C., Charity, M., Canaan , R., &amp; Togelius, J. (2020). Word Autobots: Using Transformers for Word Association in the Game Codenames. <em class="ps">Proceedings of the AAAI Conference on Artificial Intelligence and Interactive Digital Entertainment</em>, <em class="ps">16</em>(1), 231–237. <a class="af oa" href="https://doi.org/10.1609/aiide.v16i1.7435" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1609/aiide.v16i1.7435</a></li></ol></div></div></div></div>    
</body>
</html>