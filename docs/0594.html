<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>How to Find Yourself in a Digital World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>How to Find Yourself in a Digital World</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-find-yourself-in-a-digital-world-f58580a69c6a?source=collection_archive---------5-----------------------#2024-03-04">https://towardsdatascience.com/how-to-find-yourself-in-a-digital-world-f58580a69c6a?source=collection_archive---------5-----------------------#2024-03-04</a></blockquote><div><div class="em fe ff fg fh fi"/><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><div/><div><h2 id="f952" class="pw-subtitle-paragraph gn fp fq bf b go gp gq gr gs gt gu gv gw gx gy gz ha hb hc cq dx"><strong class="al">The probabilistic approach to self-locate under uncertainty</strong></h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hd he hf hg hh ab"><div><div class="ab hi"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/@edenoosh15?source=post_page---byline--f58580a69c6a--------------------------------" rel="noopener follow"><div class="l hj hk by hl hm"><div class="l ed"><img alt="Eden B." class="l ep by dd de cx" src="../Images/058b30695c237ec5f19bd7177d2f17d3.png" width="44" height="44" loading="lazy" data-testid="authorPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:88:88/1*fBJ7JTBtgOQLGyZDBGRcXw.png"/><div class="hn by l dd de em n ho eo"/></div></div></a></div></div><div class="hp ab ed"><div><div class="bm" aria-hidden="false"><a href="https://towardsdatascience.com/?source=post_page---byline--f58580a69c6a--------------------------------" rel="noopener follow"><div class="l hq hr by hl hs"><div class="l ed"><img alt="Towards Data Science" class="l ep by br ht cx" src="../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto" data-original-src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg"/><div class="hn by l br ht em n ho eo"/></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="hu ab q"><div class="ab q hv"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b hw hx bk"><a class="af ag ah ai aj ak al am an ao ap aq ar hy" data-testid="authorName" href="https://medium.com/@edenoosh15?source=post_page---byline--f58580a69c6a--------------------------------" rel="noopener follow">Eden B.</a></p></div></div></div><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span><p class="bf b hw hx dx"><button class="ib ic ah ai aj ak al am an ao ap aq ar id ie if" disabled="">Follow</button></p></div></div></span></div></div><div class="l ig"><span class="bf b bg z dx"><div class="ab cn ih ii ij"><div class="ik il ab"><div class="bf b bg z dx ab im"><span class="in l ig">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hy ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--f58580a69c6a--------------------------------" rel="noopener follow"><p class="bf b bg z io ip iq ir is it iu iv bk">Towards Data Science</p></a></div></div></div><div class="h k"><span class="hz ia" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div></div><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">8 min read</span><div class="iw ix l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Mar 4, 2024</span></div></span></div></span></div></div></div><div class="ab cp iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn"><div class="h k w ea eb q"><div class="kd l"><div class="ab q ke kf"><div class="pw-multi-vote-icon ed in kg kh ki"><div class=""><div class="kj kk kl km kn ko kp am kq kr ks ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z" clip-rule="evenodd"/></svg></div></div></div><div class="pw-multi-vote-count l kt ku kv kw kx ky kz"><p class="bf b dy z dx"><span class="kk">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao kj lc ld ab q ee le lf" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="lb"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"/></svg><p class="bf b dy z dx"><span class="pw-responses-count la lb">1</span></p></button></div></div></div><div class="ab q jo jp jq jr js jt ju jv jw jx jy jz ka kb kc"><div class="lg k j i d"/><div class="h k"><div><div class="bm" aria-hidden="false"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" data-testid="headerBookmarkButton" class="af ee ah ai aj ak al lh an ao ap id li lj lk" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24" class="av"><path fill="#000" d="M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"/></svg></button></div></div></div><div class="ep ll cn"><div class="l ae"><div class="ab cb"><div class="lm ln lo lp lq lr ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="More options" data-testid="headerStoryOptionsButton" class="af ee ah ai aj ak al lh an ao ap id ls lt lf lu lv lw lx ly s lz ma mb mc md me mf u mg mh mi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41" clip-rule="evenodd"/></svg><div class="j i d"><p class="bf b bg z dx">More</p></div></button></div></div></div></div></div></div></div></div></div><h2 id="17a3" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">Table of contents:</strong></h2><ol class=""><li id="27d8" class="nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz oa ob oc bk">What is localization and why does a robot need it?</li><li id="0f63" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz oa ob oc bk">Why are probabilistic tools used to compute localization?</li><li id="2419" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz oa ob oc bk">End-to-end example: how to use bayesian algorithms to determine a robot’s position under uncertainty?</li></ol></div></div></div><div class="ab cb oi oj ok ol" role="separator"><span class="om by bm on oo op"/><span class="om by bm on oo op"/><span class="om by bm on oo"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="0874" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">How can autonomous cars stay within a single lane at 60mph? How can an i-robot avoid falling down the stairs? How can delivery robots know if they are going to the right hungry customer? These are just a few of the questions autonomous vehicles must answer without human intervention.</p><h2 id="dc9a" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">1. What is localization? And why does a robot need it?</strong></h2><p id="3cb8" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">As you might imagine, accurate vehicle location is critical to whether the autonomous vehicle effectively and safely completes its tasks. <strong class="nj fr">The process to estimate the vehicle’s position from sensor data is called localization</strong>. Localization accuracy increases with sensors that add information and decreases with the vehicle’s movement which adds noise.</p></div></div></div><div class="ab cb oi oj ok ol" role="separator"><span class="om by bm on oo op"/><span class="om by bm on oo op"/><span class="om by bm on oo"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h2 id="3197" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">2. Why are probabilistic tools used to compute localization?</strong></h2><p id="c501" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">Probabilistic tools can be leveraged to improve location accuracy where neither the sensors nor the movement is 100% accurate.</p><p id="1e3a" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk"><strong class="nj fr">What is probability?</strong></p><p id="1c1a" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">According to the dictionary definition, probability is a “numerical description of how likely an event is to occur” (wikipedia). However, when it comes to the meaning of probability, the answer is not that simple. There are rivaling interpretations to probability from two major camps, the frequentists and bayesians.</p><blockquote class="ov ow ox"><p id="62b9" class="nh ni oy nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The <strong class="nj fr">Frequentist</strong> approach interprets probability as the relative frequency over time; how many times will I get my desired outcome if I repeat an experiment many times?</p></blockquote><p id="1468" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">This approach is objective because anyone who runs the experiments (e.g. flipping a coin) will get the same result in the long run.</p><blockquote class="ov ow ox"><p id="69a8" class="nh ni oy nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The <strong class="nj fr">Bayesian</strong> approach interprets probability as the degree of certainty that an event will happen. How certain am I that I will get my desired outcome given expert knowledge and the available data? This approach is subjective, as it represents the current state of belief by combining (subjective) previous knowledge and experimental data known to date. It allows estimating the probability of a singular event that we can’t run many times, where the frequentist meaning doesn’t apply.</p></blockquote><p id="950a" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">For example, if the probability that a date texts you back after your first meetup is 0.8, then we are 80% certain that you had a great time and the person will text you back; we <em class="oy">don’t</em> mean they will text 80% of the time if you repeat the first date over and over again.</p><p id="964d" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk"><strong class="nj fr">What are the benefits of bayesian probability?</strong></p><p id="636c" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Bayesian probability allows us to both quantify our degree of belief and to update it in light of new evidence.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa pb"><img src="../Images/ae54596cd348be3dfdc294acfd1e8e91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yWFyNM2I2yRP3d24DsPPMw.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Bayes’ theorem: update the robot’s position hypothesis P(H), also known as the prior, according to evidence E from the sensors, to return P(H|E), also known as the posterior</figcaption></figure><p id="5c8f" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">In our context, P(H) is our initial guess of the robot‘s position, and P(H|E) is our updated guess after measuring the sensors’ evidence E.</p><blockquote class="ov ow ox"><p id="27b9" class="nh ni oy nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The hypothesis probability distribution quantifies our certainty in the robot’s position.</p></blockquote><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa ps"><img src="../Images/9070aa5cb63d64ee8dd17e1b12309777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PkS1BDDx7ai1PGV89Cpfug.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">(1) uniform distribution: if we have no idea where the robot is, all locations are equally probable (2) normal distribution with mean= best guess and the spread = uncertainty</figcaption></figure><blockquote class="ov ow ox"><p id="6555" class="nh ni oy nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The hypothesis can change according to evidence</p></blockquote><p id="f1cf" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The more informative and accurate the sensors data, the bigger effect it will have. If the sensor is perfect, the robot’s position will align with the sensor’s reading, otherwise if the sensor data is very noisy or non-informative, the robot’s position will stay the same.</p></div></div><div class="ph"><div class="ab cb"><div class="lm pt ln pu lo pv cf pw cg px ci bh"><figure class="pc pd pe pf pg ph pz qa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa py"><img src="../Images/1f79d7cd3d4cbba353f4876123e123e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*WH1Crgf0TmCRXNicnssGUw.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Updating our hypothesis: How different is the hypothesis after evidence P(H|E) from our initial belief P(H)?</figcaption></figure></div></div></div><div class="ab cb"><div class="ci bh ev ew ex ey"><blockquote class="ov ow ox"><p id="038f" class="nh ni oy nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Updates can combine multiple sources of evidence</p></blockquote><p id="028a" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">We can formulate Bayes’ law to combine multiple data sources by using the chain rule, also known as the general product rule. It permits simplifying a joint distribution of multiple evidence to a product of conditional probabilities.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qb"><img src="../Images/4b1d0bdec6431340a5e1bed974efd5c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nV4Ki4zYY0CS12qzLyiKbw.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Bayes’ theorem generalizes to cases with multiple evidence, E1 and E2, by applying the chain rule</figcaption></figure><p id="42a6" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">For example, we often use GPS to navigate from our current location but GPS works best in clear skies and its accuracy is limited to a few meters. Autonomous cars can not solely rely on GPS to remain in a lane that is a few meters wide and to navigate in tunnels or underground parking lots. Autonomous vehicles can compensate for GPS deficiencies by adding more sources of information such as cameras.</p></div></div></div><div class="ab cb oi oj ok ol" role="separator"><span class="om by bm on oo op"/><span class="om by bm on oo op"/><span class="om by bm on oo"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h2 id="3a7a" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">3. End-to-end example: how to use bayesian algorithms to determine the robot’s position under uncertainty?</strong></h2><p id="460b" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">Let’s take a deep dive into a bayesian filter that recursively improves localization probability estimates using bayesian inference. The recursive nature means that the output of the filter at time t_0, P(H|E), serves as the hypothesis input for the next timestamp t_1, P(H).</p><p id="efe2" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Suppose a delivery robot is looping a circular path within a space station to transport supplies. The robot has a map detailing the lay of the land and the location of sensors.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qc"><img src="../Images/7fc41faac9101fd4f240f2e3134af2a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fr9yxT_Yo89SVACJFWhLbg.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">The robot’s map shows the route and the presence of sensors, beacon 1 with orange and beacon 2 with blue. The circular nature of the route leads the robot back to the beginning when it reaches the last bin. (Robot image generated with Dall-E)</figcaption></figure><h2 id="7e72" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">- Problem definition:</strong></h2><p id="d918" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">We refer to the estimated robot location as the <strong class="nj fr">robot’s state space</strong>. For example, a two-dimensional vector (i.e. an ordered pair of numbers) tracing x-axis position and x-axis velocity can track a robot location and changing speed in one-dimension. It is possible to extend the robot’s state space to additional dimensions to track multiple position dimensions (y, z), orientation, etc.</p><p id="24cc" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">For simplicity, we can assume our robot is moving with constant speed. The movement adds uncertainty to the computation, since it is not 100% reliable. The engine might fail to run at a specific velocity or the robot might encounter obstacles, which will cause the robot to overshoot or undershoot its expected movement.</p><p id="7bb6" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Our robot will sense its location by measuring the presence of a beacon. The sensor readings, also called <strong class="nj fr">measurement space</strong>, are not 100% accurate. Sensors might confuse noise with a beacon signal that can lead to false alarms or fail to detect a signal at all.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qd"><img src="../Images/cb2d0acb8d2ece708ebc85cc33829374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZxyOt9wWfGFLltH3ALX8Q.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">The robot’s vectors: (1) state space vector showing the x position at time t (2) measurement space vector denoting the beacons’ presence at time t</figcaption></figure><h2 id="fa10" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk"><strong class="al">- The algorithm: histogram filter</strong></h2><p id="efa0" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">With this bayesian filter the robot state space is represented by a histogram through a finite number of bins or regions. It is a discrete filter, meaning the robot can only be in one of these regions, and we compute the probability that the robot is in each. Additionally, within each bin, such as a 5 square meter area, the probability of being at any specific point is the same. If we want to increase the granularity, we must add more bins.</p><p id="02e0" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">This filter is non parametric, meaning it does not make any strong assumptions on the robot’s state representation, and is not restricted to one type of distribution such as a Gaussian. It is able to represent complex location estimates, such as a multimodal hypothesis that keeps multiple best guesses, but it comes with a computational cost — an exponential complexity. In order to add an additional dimension, from 1-D to 2-D while keeping the same granularity, we will need 10x10 bins, to move to 3-D we will need 10x10x10 bins, and so on. This is a significant limitation for robots that track multiple dimensions and are limited in memory and compute power.</p><h2 id="2b68" class="mj mk fq bf ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bk">- Calculation:</h2><ol class=""><li id="eb12" class="nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz oa ob oc bk"><strong class="nj fr">Initial guess: </strong>We start from an unknown location equipped with a map. At the beginning every region is equally probable, as represented by a uniform distribution across all bins.</li></ol><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qe"><img src="../Images/5227197166cefb9f14eb9484fb741664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48Geeb6QamY02TZmwRq5Lg.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">The x position is divided into 10 discrete regions that represent the robot’s state. Initially, we have no information on where the robot is, so each region is equally likely with a probability of 1/10</figcaption></figure><p id="e0e2" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk"><strong class="nj fr">2. Movement function: </strong>simulates the robot movement. The robot’s motion is stochastic, meaning it is not guaranteed to move to the desired bin at each time step. To update the robot’s location after each move, we calculate the probability of the robot being in each region at the next time step. This calculation considers both the probability of the robot to stay in the same region and the probability of it to move to a different region.</p><pre class="pc pd pe pf pg qf qg qh bp qi bb bk"><span id="3474" class="qj mk fq qg b bg qk ql l qm qn">For each movement:<br/>  For each region:<br/>    Region probability at time t+1 = <br/>    Region probability at time t x stay probability + <br/>    Probability of robot coming from the neighboring region x move probability</span></pre><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qo"><img src="../Images/7014d8aedf1b50046e7671755e0d85de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_nDvdhqhHGJRkIf9SfG8Q.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Movement function: assuming the robot moves one step at a time, what is the chance of a successful one-step move? There is a 95% chance the robot moved to the next bin, and a 5% chance it remained stationary</figcaption></figure><p id="7f6c" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">As shown in the equation below, the robot’s one-step movement will not change the location estimate because of the uniform distribution, where each region has equal probability to stay and move.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qp"><img src="../Images/3072ca7cb5b0ca70c20c58329d79e4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TH9foPH5JHL3m9syDtPxXw.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">What is the probability that the robot is in bin #2 after the robot moved one-step?</figcaption></figure><p id="fddf" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Even if we initially begin at a bin with complete certainty (100%), the inherent randomness in movement will gradually add noise, leading us towards a uniform distribution over time. We need to add information!</p><p id="c2b8" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk"><strong class="nj fr">3. Sense function: </strong>incorporates measurements that add information using Bayes’ theorem.</p><pre class="pc pd pe pf pg qf qg qh bp qi bb bk"><span id="6853" class="qj mk fq qg b bg qk ql l qm qn">After each movement:<br/>    For each region:<br/>      Region probability at time t+1 given measurement at time t+1 = <br/>      Likelihood of the measurement given the robot is in that region <br/>      x Region probability at time t+1 after movement<br/>      x normlization to ensure that all the probabilities sum to 1.</span></pre><p id="475f" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The sensors reliability is represented with probabilities, since they are not 100% accurate. The equations below demonstrate that when the sensor detects the color orange, there is a 90% probability that the robot is located in an orange bin, and a 10% probability that the sensor is wrong and the robot is actually in a blue bin.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qq"><img src="../Images/17df2383c508fc904bee9f774abb0239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KngAM28aW-xAjeMxVWy-SQ.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Sense function: what is the probability that the robot sensed “orange” given it’s in an orange bin?</figcaption></figure><p id="fa0f" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The calculation presented below illustrates that, in contrast to movement, sensors contribute information and improve our understanding of the robot’s location. For instance, because bin 2 is not orange, the probability of the robot being in it diminishes from 0.1 to 0.02.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qr"><img src="../Images/88fd3b1c7ab4461b0249b3d7f6883326.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRm2jFS_5vHPnIkpuY1qew.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">What is the probability that the robot is in the second bin, given that the robot sensed “orange” ?</figcaption></figure><p id="aaea" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">The image below shows the updated location hypothesis after incorporating movement and sensors’ data to our initial guess.</p><figure class="pc pd pe pf pg ph oz pa paragraph-image"><div role="button" tabindex="0" class="pi pj ed pk bh pl"><div class="oz pa qe"><img src="../Images/32d397f92077cfbcf16f2ac87b69b351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pz5GdKEq3YqPVQuiHDDgMQ.png"/></div></div><figcaption class="pn po pp oz pa pq pr bf b bg z dx">Thanks to the sense function after one step we have a bit more certainty of where the robot is. We need more steps to increase the certainty among the orange bins.</figcaption></figure></div></div></div><div class="ab cb oi oj ok ol" role="separator"><span class="om by bm on oo op"/><span class="om by bm on oo op"/><span class="om by bm on oo"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><h1 id="7b95" class="qs mk fq bf ml qt qu gq mp qv qw gt mt qx qy qz ra rb rc rd re rf rg rh ri rj bk"><strong class="al">Final thoughts</strong></h1><p id="29fb" class="pw-post-body-paragraph nh ni fq nj b go nk nl nm gr nn no np mu nq nr ns my nt nu nv nc nw nx ny nz fj bk">Where is the robot? We can continuously refine our answer to this question by using recursive bayesian filters, starting from a uniform distribution that keeps all guesses equally probable until settling on the most likely one.</p><p id="b2f3" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Bayesian filters help us measure our confidence in the robot’s whereabouts, updating this belief by integrating (noisy) sensor data with prior information (the estimated robot’s position after movement).</p></div></div></div><div class="ab cb oi oj ok ol" role="separator"><span class="om by bm on oo op"/><span class="om by bm on oo op"/><span class="om by bm on oo"/></div><div class="fj fk fl fm fn"><div class="ab cb"><div class="ci bh ev ew ex ey"><p id="3caf" class="pw-post-body-paragraph nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz fj bk">Sources:</p><ul class=""><li id="80ea" class="nh ni fq nj b go oq nl nm gr or no np mu os nr ns my ot nu nv nc ou nx ny nz rk ob oc bk">These are my summary notes from the first lectures of the highly recommend edX course “<a class="af rl" href="https://learning.edx.org/course/course-v1:IsraelX+ACD_RFP4_ARIEL_Nivut+2T2023/home" rel="noopener ugc nofollow" target="_blank">Bayesian algorithms for Self-Driving Vehicles</a>” by <a class="af rl" href="https://www.yozevitch.com/yozevitch-homepage-1" rel="noopener ugc nofollow" target="_blank">Dr.Roi Yozevitch</a>.</li><li id="1599" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz rk ob oc bk"><a class="af rl" href="https://calvinfeng.gitbook.io/probabilistic-robotics/basics/nonparametric-filters" rel="noopener ugc nofollow" target="_blank">Probabilistic Robotics</a> GitBook: Non parametric filter</li><li id="52cb" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz rk ob oc bk">Wikipedia <a class="af rl" href="https://en.wikipedia.org/wiki/Probability" rel="noopener ugc nofollow" target="_blank">probability</a>, <a class="af rl" href="https://en.wikipedia.org/wiki/Probability_theory" rel="noopener ugc nofollow" target="_blank">probability theory</a> and <a class="af rl" href="https://en.wikipedia.org/wiki/Bayes%27_theorem" rel="noopener ugc nofollow" target="_blank">bayes theorem</a></li><li id="7e4f" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz rk ob oc bk">Daniel Sabinasz’s personal <a class="af rl" href="https://www.sabinasz.net/robot-localization-histogram-filter/" rel="noopener ugc nofollow" target="_blank">blog on histogram filters</a></li><li id="1cf2" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz rk ob oc bk">Online converter from <a class="af rl" href="https://latex2png.com/" rel="noopener ugc nofollow" target="_blank">latex to png</a>.</li><li id="de67" class="nh ni fq nj b go od nl nm gr oe no np mu of nr ns my og nu nv nc oh nx ny nz rk ob oc bk">Images: the robot avatar was created with <a class="af rl" href="https://openai.com/dall-e-3" rel="noopener ugc nofollow" target="_blank">Dall-E</a>. All other images used in this article were created by the author.</li></ul></div></div></div></div>    
</body>
</html>