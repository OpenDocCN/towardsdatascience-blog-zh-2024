- en: Exploring Brazil’s National Accounts through a Dashboard
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/exploring-brazils-national-accounts-through-a-dashboard-03d27900ce5d?source=collection_archive---------9-----------------------#2024-03-22](https://towardsdatascience.com/exploring-brazils-national-accounts-through-a-dashboard-03d27900ce5d?source=collection_archive---------9-----------------------#2024-03-22)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Implementation details and analytical possibilities
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://fernandobarbalho.medium.com/?source=post_page---byline--03d27900ce5d--------------------------------)[![Fernando
    Barbalho](../Images/0d145585cc73b89b4426af47b41844c5.png)](https://fernandobarbalho.medium.com/?source=post_page---byline--03d27900ce5d--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--03d27900ce5d--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--03d27900ce5d--------------------------------)
    [Fernando Barbalho](https://fernandobarbalho.medium.com/?source=post_page---byline--03d27900ce5d--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--03d27900ce5d--------------------------------)
    ·10 min read·Mar 22, 2024
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b0470a4c5ecdd940043d3fc6262868ec.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Dominik Lückmann](https://unsplash.com/@exdigy?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash)
    on [Unsplash](https://unsplash.com/photos/blue-and-red-cargo-ship-on-dock-during-daytime-SInhLTQouEk?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash)
  prefs: []
  type: TYPE_NORMAL
- en: At the end of the first week of March 2024, the news revealed that Brazil’s
    GDP grew by almost 3% in 2023 compared to the previous year, reaching a total
    value of US$ 2.17 trillion. This advance placed the country in ninth position
    among the world’s largest economies, surpassing Canada. The analysis specifically
    indicates that a significant portion of this increase is attributed to the agricultural
    sector, which witnessed an impressive growth of 15.1%. This scenario arouses interest
    not only from investors but also from researchers, specialists, and governmental
    analysts who seek to understand not just the performance of the agricultural sector,
    but also industrial production, the services sector, exports, and imports, among
    other crucial elements that make up the National Accounts System (NAS)
  prefs: []
  type: TYPE_NORMAL
- en: The NAS, managed by the Brazilian Institute of Geography and Statistics (IBGE),
    is a vital source of information on the generation, distribution, and use of income
    in the country. Although the Institute offers an online platform for accessing
    NAS data, including filters and basic charts, many users face difficulties in
    navigation and analysis due to the lack of modern data visualization resources.
    The charts provided, while useful for a quick understanding of trends, often lack
    the quality needed to be included in detailed reports or articles, and cover a
    breadth of information that can be excessive for certain needs.
  prefs: []
  type: TYPE_NORMAL
- en: In light of these limitations, the initiative to develop a dashboard specifically
    on national accounts emerged, designed to meet the demands of users less familiar
    with the SCN structure. The dashboard proposed here allows simplified queries
    and analyses, presenting charts that address a selected set of issues related
    to the evolution of GDP and its components over the quarters and years since 1996\.
    If you recognize the importance of national accounts data in your work or research
    and wish to explore how a dashboard can be constructed using the R language, understand
    the main technical and business challenges involved in implementing this solution,
    I invite you to enjoy the following paragraphs, try out the dashboard using this
    [link](https://fabdev.shinyapps.io/painel_contas_nacionais/), and explore the
    provided code.
  prefs: []
  type: TYPE_NORMAL
- en: '**The Origin of the Data**'
  prefs: []
  type: TYPE_NORMAL
- en: 'The data powering our dashboard are directly consumed from an API provided
    by the IBGE through the R package {sidrar}. This API grants access to a variety
    of tables associated with the national accounts, updated quarterly. For our analysis,
    we focus on two of these tables: “Current Prices” (table 1846) and “Quarterly
    Volume Index Variation Rate” (table 5932). These datasets provide a solid foundation
    for understanding not only the absolute values of the national accounts but also
    their growth trends and variations over time. It’s important to note that by using
    the API, the dashboard ensures that the data presented are always up to date.'
  prefs: []
  type: TYPE_NORMAL
- en: For those who are interested in the R programming language, an opportunity to
    explore it further is present in the analysis of the code responsible for consuming
    data from the API. As usual in my texts, I share relevant excerpts from the code
    to enrich your understanding. However, if programming is not your focus, you can
    skip the code blocks without compromising your understanding of the text.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The get_sidra function extracts data from the System of National Accounts (SNA).
    To use it, the programmer only needs to indicate the name of the table (1846 for
    the first call and 5932 for the second) and the desired period, specified as a
    vector of quarters from 1996 to the last available quarter. See the example below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '**Technological Design**'
  prefs: []
  type: TYPE_NORMAL
- en: R developers often turn to Shiny to create interactive dashboards. This is an
    established product that offers extensive customization possibilities, making
    use of advanced user experience (UX) features. However, for those looking for
    more agile initial productivity, using Flexdashboard in conjunction with Shiny
    is a viable alternative. Although this approach may result in simpler, less customized
    interfaces, it is a choice that offers rapid implementation. To enhance the visual
    and professional appearance of applications developed with Flexdashboard, one
    option is to incorporate the {thematic} library. We chose to follow this approach
    in our dashboard, ensuring a refined and attractive appearance for users.
  prefs: []
  type: TYPE_NORMAL
- en: Below is a screenshot showing the product layout using the flexdashboard + shiny
    + thematic combination.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a16c030eb0f88b95a649a16538704f33.png)'
  prefs: []
  type: TYPE_IMG
- en: Dashboard with professional layout. Author’s image
  prefs: []
  type: TYPE_NORMAL
- en: And below is a snippet of code where you can see the combination of libraries
    that allows the user to interact with the application components
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: The choice of Plotly is shown above in the list of libraries invoked by the
    application. This decision stems from its distinctive features, especially with
    regard to user interaction. Plotly facilitates a fluid data visualization experience,
    highlighted by the feature that allows the user to explore the graph data by moving
    the mouse. In addition, this library offers the convenience of being able to download
    the figure in PNG format, as well as the ability to mark specific parts of the
    graph for zooming, providing greater utility to the interactive experience of
    the application’s users.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5c3bfbd23e9e963f2c70baf7243a38ec.png)'
  prefs: []
  type: TYPE_IMG
- en: Plotly and its interactive features. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: 'We should highlight:'
  prefs: []
  type: TYPE_NORMAL
- en: For all graphs it is possible to select more than one time series for simultaneous
    visualization
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/b33c84123b9d1f94e2b64eb00efc5ff1.png)'
  prefs: []
  type: TYPE_IMG
- en: Two time series being shown simultaneously. Author’s image.
  prefs: []
  type: TYPE_NORMAL
- en: To make the graphs easier to understand for audiences who will consume the graphs
    via printed text, it is possible to highlight points that may make sense for further
    analysis. In the example below, we see the impact of the pandemic in 2020, which
    caused the GDP figure to fall back to what it was in 2016..
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/3b7ec98e279f59927fa0a8374b932d81.png)'
  prefs: []
  type: TYPE_IMG
- en: Highliting importante points. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: The data for each graph can be easily downloaded to the user’s environment using
    the download buttons.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../Images/41925d8542d2334a89bd512cf55abd54.png)'
  prefs: []
  type: TYPE_IMG
- en: Dwonload buttons. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: Below are some codes that refer to what we are dealing with in this topic.
  prefs: []
  type: TYPE_NORMAL
- en: Selecting multiple time series and periods to highlight using the input$account_year
    and input$year objects
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Downloading the data. Note the write.table function, which writes to a file
    the contents of the global object *dados_grafico_corrente_ano* generated in the
    code block above.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '**Business design**'
  prefs: []
  type: TYPE_NORMAL
- en: The application offers a choice of seven different types of graphs, allowing
    users to select the most suitable representation for analyzing and interpreting
    the information relevant to their decisions. This variety allows for a flexible
    approach, adaptable to different needs and visualization preferences.
  prefs: []
  type: TYPE_NORMAL
- en: To make it easier to navigate and organize the graphs, the application divides
    them into two well-defined tabs. The “Annual Data” tab focuses on providing a
    panoramic view of evolution over time, with graphs highlighting annual changes
    in accounts. Here, users can analyze the annual evolution of the accounts in constant
    values for 2010, the annual evolution of the accounts in percentage of value added
    at current values and the annual evolution of the accounts in percentage of value
    added at constant values for 2010.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e468c2111d3c42bcb040746b46edb129.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph of annual growth at constant values. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/352f9a511f76c975ac430f7fba27e369.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph of share on Added Value in current values. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/709159da20434c264b23bd8e55015f1c.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph of share on Added Value in constant values. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, the “Variations” tab focuses on providing insights into the
    relative changes between different time periods. Users can examine in detail the
    quarterly variations in relation to the same period in the previous year, the
    quarterly variations quarter by quarter, the accumulated rate over the year and
    the accumulated variation over four quarters. This detailed, time-variant approach
    allows for a more granular analysis of trends and patterns in the data.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d21870ad110b2ba3de729e928047243e.png)'
  prefs: []
  type: TYPE_IMG
- en: Quartely variation same period previous year. Author´s image
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/71abe0c66cd31f3ee29d3375ae4bc032.png)'
  prefs: []
  type: TYPE_IMG
- en: Quaterly variation quarter by quarter. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0a459275ea8ed30001751e0862477ad7.png)'
  prefs: []
  type: TYPE_IMG
- en: Accumulated rate over year. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5b2901bb78180b02d7caee3c7a26dff5.png)'
  prefs: []
  type: TYPE_IMG
- en: Accumulated variation over four quarters. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '**Transforming Economic Data**'
  prefs: []
  type: TYPE_NORMAL
- en: In general, the graphs on the Variations tab are filters on the result of the
    initial query using the API. The variables are selected from the Quarterly Volume
    Index Rate of Change table and the result dataset is used in the visualization
    structure. For those who like R, it’s something like the one below..
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Note above the selection of variable 6562, which contains the accumulated variation
    data over four quarters. The *dados_grafico_taxa_acum_ano* object is used in the
    plot_ly function as the reference data for the graph.
  prefs: []
  type: TYPE_NORMAL
- en: The graphs displayed in the “Annual Data” tab undergo various transformations
    before being displayed on the screen. Of particular note is the calculation of
    constant values for the year 2010, which is used in two of the three annual data
    visualizations. This process requires the time series data for 2010 to be updated
    by the actual change in the selected account, both for previous and subsequent
    years. This requirement resulted in the need to develop complex functions to calculate
    the values prior to 2010, employing an inverse logic to that used for the years
    after this reference point, guaranteeing the consistency of the constant values.
    For a more in-depth understanding of the procedure adopted, we suggest analyzing
    the code presented below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: The script above has two functions that together manipulate the current price
    and variation tables to generate the constant values before and after the 2010
    reference year.
  prefs: []
  type: TYPE_NORMAL
- en: '**Some use cases.**'
  prefs: []
  type: TYPE_NORMAL
- en: To finish off the article, a short list of three use cases associated with the
    dashboard. The inspirations come straight from twitter.
  prefs: []
  type: TYPE_NORMAL
- en: The tweet from LCA Consultores deals with the participation of agriculture and
    the extractive industry in GDP expansion. In the dashboard we can easily identify
    the evolution of the volume of these elements in GDP and also check their annual
    variations.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d7a56e8f958d8af313451ce12944e79e.png)'
  prefs: []
  type: TYPE_IMG
- en: Volume evolution of Agriculture and Extractive industries. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/31bf15ef2fb7d96e6951832452e1c919.png)'
  prefs: []
  type: TYPE_IMG
- en: Accumulated year rate for Agriculture and Extractive industrires
  prefs: []
  type: TYPE_NORMAL
- en: Here’s another tweet, this time from Minister Esther Dweck.
  prefs: []
  type: TYPE_NORMAL
- en: The GDP of agribusiness has already been explored in the previous tweet. What’s
    new here is the emphasis on household consumption. This is another account that
    is also tracked on the dashboard. See below.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4ad1b8ccbae2daee8d86410d48146d72.png)'
  prefs: []
  type: TYPE_IMG
- en: Grouth of households consumption. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/792c7d5a52c7463df1733b1a8b1cf281.png)'
  prefs: []
  type: TYPE_IMG
- en: Accumulated year rate for Household consumption and GDP. Author´s image
  prefs: []
  type: TYPE_NORMAL
- en: Finally, it’s worth highlighting this tweet from Ricardo Bezerra below.
  prefs: []
  type: TYPE_NORMAL
- en: Ricardo Bezerra shows the importance of monitoring the share of the manufacturing
    industry in GDP (or value added). He highlights the significant differences that
    arise when using ratios based on current prices versus constant prices. The dashboard
    accurately and faithfully presents both curves drawn up by Ricardo, providing
    a detailed and clear representation of these variations.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/67a594332064c3ede80d6c78ac583b56.png)'
  prefs: []
  type: TYPE_IMG
- en: Transformation industries participation in current values. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f8063fd33d210d522fc60338c904cf8e.png)'
  prefs: []
  type: TYPE_IMG
- en: Transformation industries participation in constant values. Author´s image.
  prefs: []
  type: TYPE_NORMAL
- en: Do you have your own use case? Why dont´t you try to navigate the dashboard
    using this [link](https://fabdev.shinyapps.io/painel_contas_nacionais/) and then
    let me know about your experience?
  prefs: []
  type: TYPE_NORMAL
- en: '**Code and Data**'
  prefs: []
  type: TYPE_NORMAL
- en: The complete code is available at [gist](https://gist.github.com/fernandobarbalho/be92c2fc3744a7a9dc9ee16bc001253b).
  prefs: []
  type: TYPE_NORMAL
- en: The datasets used in this text are characterized as public domain since they
    are data produced by federal government institutions, made available on the internet
    as active transparency, and are subject to the Brazilian FOIA.
  prefs: []
  type: TYPE_NORMAL
- en: '[IBGE](https://sidra.ibge.gov.br/home/cnt/brasil): National Account System'
  prefs: []
  type: TYPE_NORMAL
