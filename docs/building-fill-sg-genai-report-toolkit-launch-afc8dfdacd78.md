# 构建Fill.sg，一个GenAI报告工具包

> 原文：[https://towardsdatascience.com/building-fill-sg-genai-report-toolkit-launch-afc8dfdacd78?source=collection_archive---------2-----------------------#2024-06-24](https://towardsdatascience.com/building-fill-sg-genai-report-toolkit-launch-afc8dfdacd78?source=collection_archive---------2-----------------------#2024-06-24)

## 让AI为你写重复的报告，**实现**你的梦想。了解我们如何在两周内构建Fill.sg，敬请关注LAUNCH!

[](https://medium.com/@nicole-ren?source=post_page---byline--afc8dfdacd78--------------------------------)[![Nicole Ren](../Images/bcbad883127641649153b6d83de69482.png)](https://medium.com/@nicole-ren?source=post_page---byline--afc8dfdacd78--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--afc8dfdacd78--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--afc8dfdacd78--------------------------------) [Nicole Ren](https://medium.com/@nicole-ren?source=post_page---byline--afc8dfdacd78--------------------------------)

·发表于[Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--afc8dfdacd78--------------------------------) ·14分钟阅读·2024年6月24日

--

## 目录

1.  [介绍](#7eff)

1.  [问题陈述](#10ae)

1.  [我们的解决方案](#0d47)

1.  [Fill.sg背后的提示](#4d3a)

    ∘ [大规模语言模型的突破：长文本模型](#b812)

    ∘ [我们的提示方法](#5bbd)

    ∘ [报告生成：分而治之](#9e21)

1.  [UI/UX考虑：为用户友好的GenAI工具设计](#32cd)

    ∘ [构建一个包容性的AI工具](#ae7d)

    ∘ [定制界面用于编辑和审阅](#f48b)

1.  [黑客马拉松后：未来发展的潜力](#38f5)

1.  [结论](#3168)

1.  [如何参与LAUNCH!](#48e6)

1.  [致谢](#4f40)

# 介绍

![](../Images/2d17b430b1eda340627f85a48cc05cae.png)

*梦之队。（从左到右）黑客马拉松团队：Li Shing、James、Nicole、Gawain。问题负责人：Alexia、Joy。GovTech FDT：Xuean，图像由作者提供*

我们是来自社会与家庭发展部（MSF）和GovTech数据科学与人工智能部门的团队。我们共同致力于解决报告写作繁琐且耗时的问题，组成了团队，从创意到原型构建共同推动Fill.sg的开发。仅在两周内，我们完成了用户调研，构建了原型，并收集了初步的用户反馈，以评估解决方案的可行性。本文分享了我们在2024年4月参加的第一次[LAUNCH!](https://www.linkedin.com/posts/weiboon_happy-to-see-that-launch-has-officially-activity-7177149680634527745-r9ul/)黑客马拉松中的历程以及我们开发解决方案的方法。

# 问题陈述

## **背景**

当 ChatGPT 首次亮相时，它让我们看到了智能聊天机器人的潜力，远超我们之前所见的任何技术。这一突破激发了我们的想象力，鼓励我们探索从食谱创作到跨领域企业用例及其业务功能等逐步扩展的问题解决方案。

同样，新加坡政府的各个机构也强烈希望利用 AI 更好地为市民和公务员服务。在短短 12 个月的时间里，我们已经看到了超过 400 个多样化的创意。这些创意源自长期存在的痛点，AI 为解决这些痛点提供了可能性。这些痛点各不相同，各具独特挑战。在 GovTech，我们尽力在这个问题领域内解决尽可能多的问题——使用“问题空间”的概念。

## **为什么我们选择解决报告写作这一问题领域？**

一个引起我们关注的关键问题领域是如何支持工作人员以更高效的方式起草报告。写报告是我们作为公共服务人员职责的重要组成部分——从简单的会议记录到更复杂的经济报告和法院报告。虽然我们的初衷不是用 AI 替代需要专业判断和评估的决策任务，但我们看到了利用 AI 合成和组织信息以帮助写报告的潜力。复杂的报告可能需要几个小时，甚至几天时间，并且需要从各种来源（包括图表、文本、Excel 表格等）中整合大量信息。同一类型的报告通常会为不同的案例多次撰写，且格式相同，这样的重复工作很容易变得单调乏味。显然，一款能够帮助起草 50% 重复报告的模板工具，将为公共服务人员节省大量时间，使他们能够通过审查和修改报告以确保其准确性，而非从头开始编写报告，从而将精力集中在更重要的任务上。

然而，这个问题领域非常困难且复杂——具体来说，如何抽象出处理各种长度的信息源的方法，指引大型语言模型（LLMs）提取关键信息，并生成相关输出？每个步骤都至关重要，只有在正确的背景下完成，才能生成优质报告。

考虑到这一点，我们开始了为期两周的努力，旨在让报告写作变得更轻松。我们的目标是减轻公务员繁琐的行政任务，让他们可以将更多时间投入到与市民互动和提供支持上。

# 我们的解决方案

## 介绍 Fill.sg 及其所提供的服务

![](../Images/e887a0446891b95ad1fee4452938ccaf.png)

*登录页面，图片由作者提供*

Fill.sg 是一款 Web 应用程序，它通过 AI 为你生成报告，帮助你实现让报告写作变得更简单、更高效、更快速的梦想，让你可以专注于更重要的任务。

## **业务用户流程**

Fill.sg 提供了一个界面，供业务用户策划模块化和多功能的模板，以生成结构化报告。简而言之，用户可以选择一个先前定义的模板，上传多个非结构化或结构化的文本文件作为报告的*上下文*，然后生成一个完整的报告，无需触及键盘。报告甚至可以导出为 Microsoft Word 格式，保留标题和表格的格式。

在 Fill.sg 中创建的单个模板可以被重复使用，以生成多个具有相同结构的报告。例如，企业报告模板可以被重复使用，通过提供不同的*上下文*来生成关于公司 A、B、C 等的报告。

![](../Images/a37b83867397fa1359f151fa65748088.png)

*业务用户流程（示例仅供参考），图片来自作者*

在上面的演示中，用户能够上传文档并使用这些文档作为*上下文*来生成报告。后台的 AI 会将这些*上下文*文档用作生成定制报告的依据。一旦生成，用户可以将其下载为 Word 文档（.docx），并且保留标题和表格的格式。

## **超级用户流程**

超级用户是具备技术和领域知识的用户，能够理解如何正确提示 LLM 来填充报告模板的每个部分。这些超级用户在工具的成功中扮演着至关重要的角色，因为他们不仅拥有足够的领域知识，还具备有关提示工程的技术专长，可以指导 LLM 填充报告模板的各个部分。

超级用户可以进入编辑模式，在该模式下他们可以编辑模板的结构并添加新的生成模块。每个生成模块的目的是*填充*报告的特定部分。一旦模板创建并保存，业务用户将能够使用已策划的模板生成多个相同结构的报告。

![](../Images/da5b3c79af1cd139b2b40b3a69a6d140.png)

*超级用户流程（示例仅供参考），图片来自作者*

在上述演示中，超级用户首先上传了一组示例上下文文档，这些文档用于预览模板生成。然后，他们进入编辑面板编辑模板。对于报告中的每个新部分，用户都会添加一个新的生成模块，在该模块中他们能够配置生成设置并指示模板该部分应生成什么内容。一旦生成设置被保存，LLM 会基于示例上下文文档生成一个样本结果，超级用户可以验证生成的预览。一旦超级用户对模板满意，他们就可以保存模板，并使其可供业务用户使用。

拥有简单、模块化且可编辑的模板使代理用户能够自力更生地使用该工具，因为他们可以创建和修改模板以适应不断变化的业务需求。

# Fill.sg背后的提示

## LLM的突破：长上下文模型

在过去几个月中，领先LLM的上下文窗口大小迅速增加。例如，OpenAI的GPT-4-Turbo的上下文窗口为128,000个令牌，大约是其前身GPT-4–32k的400%。术语“上下文窗口”指的是LLM在生成响应时可以考虑的令牌数量。

拥有更长的上下文窗口意味着可以通过提示向大型语言模型（LLM）提供更多信息，并且通常能表明LLM在管理更多令牌时的语义能力。

这种能力解决了RAG工作流中的一些初步挑战。我们不再优化分块、搜索和检索策略，而是可以使用上下文提示，并指示LLM根据相关来源进行参考。例如，我们可以将整个输入文档提供给LLM，指示它专注于特定部分，并根据我们给出的指令提供输出（无论是项目符号、段落还是表格）。

## 我们的提示方法

对于此用例，我们通过在提示中提供更多相关信息（包括整个文档）来将其融入我们的解决方案。在我们的实验中，这种方法已被证明是有效的，假设输入文档与每个报告相关。

在这两周中，我们采取了迭代的提示工程方法来编写、评估和优化提示：

+   *编写*初始提示，利用系统、用户和/或助手角色在概述任务定义和上下文时，作为起点。

+   *评估*LLM的响应是否符合预期输出，使用一致的成功标准，无论是通过人工评估还是像[LLM-as-a-Judge方法](https://arxiv.org/abs/2306.05685)中的自我评估。

+   根据评估结果，*优化*提示以提高性能，例如通过添加澄清或约束来引导LLM的响应

我们评估中的关键成功标准是能够跨多个报告部分和格式进行泛化，从而生成段落、表格、项目符号列表，甚至受限选择，以满足典型报告的需求。

我们精心设计的提示作为基础，抽象化提示工程中的挑战，并允许我们的最终用户提供领域特定的输入。这意味着，Fill.sg的用户只需专注于提供领域特定的信息，如特定报告部分的标题和描述，而无需担心提示工程的繁琐细节。

## 报告生成：分而治之

**单次提示生成的问题**

对于任何尝试过使用单一提示生成完整报告的人来说，你一定知道，这通常效果不佳；输出往往过短，而且在第三段之后开始出现幻觉，后续部分原本要求的表格反而变成了一堆文字。

之所以会发生这种情况，是因为LLM通常并没有针对生成包含多种格式的极长报告进行训练，例如在单次响应中包含表格、文本或项目符号等格式。我们已经看到，当LLM一次只执行一个任务并生成单一格式时，它的表现会更好，而不是同时执行多个任务，更不用说在同一输出中处理不同格式了。

**较小的但更多的模块化提示可能更具优势**

在软件工程中，通常的做法是将复杂系统拆解为模块化组件。当这个原则应用到大语言模型（LLM）的任务时，我们发现它同样有效。

为了改善指导LLM在单一提示中生成完整报告的问题，我们深入研究了报告的写作方式，看看如何将这一复杂任务拆解。我们观察到一个趋势——大多数标准报告往往有多个部分，每个部分描述一个特定主题，通常采用单一格式。这可以为我们带来优势，因为我们可以将写作完整报告这一复杂任务分解成一个个小任务——即为每个部分写作并指定具体的输出要求。

通过分节生成任务的方式，可以帮助模型产生更好的输出，因为每个部分可以作为单独的任务进行分配，同时可以在每个部分的提示中注入局部上下文，为LLM提供更清晰的指示，帮助其更好地理解目标。此外，我们还可以为每个生成部分指定预期的类型，这样我们可以更有效地引导生成过程并验证输出格式。

除了结构化模块化提示在生成更高质量内容方面的好处外，模块化提示的优势还在于它能够简化编写、修改和调试的过程。模块化提示不仅有助于为LLM提供更清晰、更好的指示，还帮助开发者在迭代开发提示时更加高效。

**生成模块与生成类型**

在我们的应用中，我们将每个生成任务发生的部分称为生成模块（Generation Blocks）。这些生成模块会设置特定的生成类型，以便我们能够对模型生成的输出施加特定约束。

在我们的案例中，我们为黑客马拉松定下了几种生成类型来实施：

+   长文本生成：长段落的文本

+   表格生成：以表格格式输出，列由设置指定

+   项目符号生成：以项目符号形式生成的输出

+   选择生成：从用户定义的预设值列表中选择最合适的值作为输出

以下是每种生成类型的演示。如下面所示，应用程序允许用户轻松编辑内容，且基于报告要求的预配置设置。

**长文本生成**

![](../Images/eb13ec2283616941b23f030d7d8ecdeb.png)

*长文本生成（示例仅用于说明），图片来源：作者*

**表格生成**

![](../Images/68ed42eb679c387bf3ff3d50ab9e8de8.png)

*表格生成（示例仅用于说明），图片来源：作者*

**项目符号生成**

![](../Images/7be1119fe1d434b7fa92965c67a525c3.png)

*项目符号生成（示例仅用于说明），图片来源：作者*

**选择生成**

![](../Images/f320680ee026e17aab4bc0de68929692.png)

*选择生成（示例仅用于说明），图片来源：作者*

# 用户友好型GenAI工具的UI/UX考虑因素

## **构建一个包容性的AI工具**

我们在第一次用户访谈中获得了一个重要的教训。超级用户给出了很好的反馈，他们能够快速跟随我们最初提出的自定义模板流程。当我们展示这些想法时，他们也提出了如何改进工具的新想法。然而，我们注意到商业用户更愿意轻松完成报告任务，而不需要自定义任何模板。

这让我们明白，尽管技术可能足够强大来解决问题，但我们需要为具有不同背景和技术亲和力的用户设计工具。因此，我们对Fill.sg进行了迭代，并在设计时考虑了两类用户——*超级用户*和*商业用户*。

![](../Images/0fbe7a9251b333903bb6a4a178cdef71.png)

*用户流程隔离（示例仅用于说明），图片来源：作者*

## **定制化编辑和审查界面**

Fill.sg的目的是减少撰写报告所需的时间，同时平衡确保用户在使用任何生成内容时承担相应责任的需求。因此，我们希望在工作流程中保留用户的控制机制。用户需要确保AI生成的内容经过认真审查，并检查错误。因此，考虑到AI安全性，我们尽可能使编辑和审查体验流畅。我们为应用程序配备了一个合适的所见即所得（WYSIWYG）编辑器Tiptap，提供了一个定制的图形用户界面，以便以更友好的方式与AI互动。

在当前可用的工具下，用户通常使用聊天界面来撰写报告。这种体验中存在几个痛点：

1.  顺序格式使得难以并行提示LLM，这意味着用户必须等待输出结果后才能发送下一个查询。

1.  在聊天界面和实际文档之间需要大量的复制粘贴操作。

1.  用户无法重用之前的聊天记录来生成相同结构的报告。

![](../Images/5983ee8a6e403c7432b3e6f5178a4358.png)

*编辑器界面，图片由作者提供*

使用编辑器界面而非线性聊天界面是有益的，因为它解决了标准方法中所有上述问题。

1.  拥有并排的编辑器和预览面板，使用户能够在 LLM 在后台并行生成预览的同时，持续编辑模板。这意味着用户无需等待 LLM 生成即可继续编辑模板。

1.  不再需要复制粘贴，因为 WYSIWYG 编辑器可以通过正确的设置直接导出为 Word。用户可以直接在我们的应用程序中进行编辑，然后直接将报告导出为 Word。

1.  报告模板可以保存并在后续多个报告中重复使用。

Tiptap 是一个非常好的选择，因为它提供了多种生活质量功能，我们可以将其提供给用户，以改善用户体验，从而减少整理和阅读结构化报告的痛苦。此外，它还为新改进提供了空间，例如提供多用户协作和进一步的定制，以改善阅读和写作体验。

# 后黑客马拉松：未来发展的潜力

## **多模态输入**

在本文撰写时，OpenAI 最近发布了一系列激动人心的关于新模型的公告。在一个 26 分钟的演示中，OpenAI 展示了 GPT-4o（“o”代表“全能”），这是迈向更加自然的人机交互的一步。该模型接受任何文本、音频、图像和视频的组合作为输入，并生成任何文本、音频和图像的组合作为输出。关键的是，由于我们在此用例中的方法是通过上下文提示，增强的标记化器压缩使得处理相同信息量所需的标记数量更少。

这对我们的用例来说尤其令人兴奋。正如我们所知，写报告需要一个人综合不同的输入，如文本、图像/信息图、图表和访谈脚本。LLM 在上下文窗口、标记限制和输入格式方面存在一些局限性，这使得为报告写作构建通用解决方案成为一项特别困难的工程壮举。

## **生成类型的扩展**

尽管我们已定义的基本生成类型非常丰富，可以满足大多数重复性报告的需求，但报告写作过程仍有更多自动化和增强的可能性。我们还考虑了其他可能实施的生成类型：

+   图表生成：使用函数调用代理输出图表

+   数据表生成：输出带有特定聚合的数据表

+   时间生成：输出日期、时间或持续时间

+   图形生成：输出绘制出基于给定上下文的关系图

这些新扩展不仅解决了当前报告生成中的问题，而且还可能大大增强并改变我们写报告的方式。

# 结论

通过LAUNCH!黑客松活动，我们开发了Fill.sg——一款由大型语言模型驱动的网页应用程序，用于自动化报告编写。通过允许用户创建可重用的模板并从非结构化数据源生成报告，Fill.sg为所有写报告的公共部门工作人员节省了大量时间和精力。

人工智能发展迅速，但业务逻辑更难改变，因为它涉及政策考量。因此，这款应用程序的一般方向是保持业务逻辑和用户需求，同时构建一个灵活的基础设施和前端体验，使其能够包含来自更强大AI模型及其[外部工具](https://platform.openai.com/docs/assistants/overview)的可能性。

展望未来，Fill.sg可能会利用多模态人工智能的最新发展，这种技术能够理解除文本外的输入，例如图像、音频和视频，可能将工具的能力提升到不可想象的程度。

Fill.sg代表了实现我们利用人工智能生成报告愿景的一小步。我们希望通过这一原型的学习和经验，能够激励政府中的其他有抱负的开发者，开发和整合人工智能，以更好地服务于公共部门工作人员和市民。

# 如何参与LAUNCH!

LAUNCH! 是一项创新计划，旨在将伟大的想法转化为对公共部门产生影响的解决方案。由GovTech牵头，并与多个政府机构以及诸如[Microsoft](https://www.linkedin.com/company/microsoft/)、[Amazon Web Services (AWS)](https://www.linkedin.com/company/amazon-web-services/)和[Databricks](https://www.linkedin.com/company/databricks/)等知名行业合作伙伴共同合作，LAUNCH! 旨在推动在公共部门内培养创新和合作的文化。有兴趣的公共部门工作人员可以联系LAUNCH!的组织者，了解如何贡献创意或在团队、部门、职能或组织内举办本地化的黑客松活动。您可以通过[https://go.gov.sg/govtech-launch](https://go.gov.sg/govtech-launch)访问有关LAUNCH!的官方网站。

# 致谢

*感谢黑客松团队在这充实的两周中付出的努力：Chan Li Shing（产品经理）、Gawain Yeo（业务负责人）、James Teo（数据工程师）和Nicole Ren（数据工程师），以及提供宝贵反馈的用户们！*

*特别感谢以下为本文作出贡献的人：Alexia Lee（MSF）| Chan Li Shing（GovTech）| Gawain Yeo（MSF）| James Teo（GovTech）| Lim Hock Chuan（GovTech）| Mindy Lim（GovTech）| Nicole Ren（GovTech）| Terrance Goh（MSF）*
