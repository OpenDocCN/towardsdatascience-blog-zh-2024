- en: GPS Interpolation Using Maps and Kinematics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨åœ°å›¾å’Œè¿åŠ¨å­¦è¿›è¡ŒGPSæ’å€¼
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/gps-interpolation-using-maps-and-kinematics-6a56fdf29179?source=collection_archive---------8-----------------------#2024-12-03](https://towardsdatascience.com/gps-interpolation-using-maps-and-kinematics-6a56fdf29179?source=collection_archive---------8-----------------------#2024-12-03)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/gps-interpolation-using-maps-and-kinematics-6a56fdf29179?source=collection_archive---------8-----------------------#2024-12-03](https://towardsdatascience.com/gps-interpolation-using-maps-and-kinematics-6a56fdf29179?source=collection_archive---------8-----------------------#2024-12-03)
- en: How do you apply dead reckoning to your geospatial dataset?
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•å°†èˆªä½æ¨ç®—åº”ç”¨äºä½ çš„åœ°ç†ç©ºé—´æ•°æ®é›†ï¼Ÿ
- en: '[](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)[![JoÃ£o
    Paulo Figueira](../Images/54e4176f66e4ab0324d86ec71d8b033d.png)](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)
    [JoÃ£o Paulo Figueira](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)[![JoÃ£o
    Paulo Figueira](../Images/54e4176f66e4ab0324d86ec71d8b033d.png)](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)[![æ•°æ®ç§‘å­¦å‰æ²¿](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)
    [JoÃ£o Paulo Figueira](https://medium.com/@joao.figueira?source=post_page---byline--6a56fdf29179--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)
    Â·10 min readÂ·Dec 3, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº[æ•°æ®ç§‘å­¦å‰æ²¿](https://towardsdatascience.com/?source=post_page---byline--6a56fdf29179--------------------------------)
    Â·10åˆ†é’Ÿé˜…è¯»Â·2024å¹´12æœˆ3æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/7a5b8092a3b3ab020e63db27f247df36.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7a5b8092a3b3ab020e63db27f247df36.png)'
- en: The picture above illustrates the GPS interpolation process. The red dots represent
    the known and repeated GPS locations, with more than one location per dot, while
    the blue dots represent the inferred locations of the repeated points along the
    road using the vehicleâ€™s speed. (Image created by the author using OpenStreetMap
    data and imagery.)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢çš„å›¾ç‰‡å±•ç¤ºäº†GPSæ’å€¼è¿‡ç¨‹ã€‚çº¢ç‚¹è¡¨ç¤ºå·²çŸ¥ä¸”é‡å¤çš„GPSä½ç½®ï¼Œæ¯ä¸ªç‚¹ä¸Šæœ‰å¤šä¸ªä½ç½®ï¼Œè€Œè“ç‚¹è¡¨ç¤ºä½¿ç”¨è½¦è¾†çš„é€Ÿåº¦æ²¿é“è·¯æ¨æµ‹çš„é‡å¤ç‚¹ä½ç½®ã€‚ï¼ˆå›¾ç‰‡ç”±ä½œè€…ä½¿ç”¨OpenStreetMapæ•°æ®å’Œå½±åƒåˆ›å»ºã€‚ï¼‰
- en: Modern cars, vans, and trucks are moving generators of [telematics](https://en.wikipedia.org/wiki/Telematics)
    data. Vehicle telematics data streams usually carry various signals, the GPS location
    being one of the most frequent. You can also find signals such as instantaneous
    speed, acceleration, fuel tank or battery capacity, and other exotic signals like
    windshield-wiper status and external temperature.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç°ä»£çš„æ±½è½¦ã€é¢åŒ…è½¦å’Œå¡è½¦æ˜¯[è¿œç¨‹ä¿¡æ¯å¤„ç†](https://en.wikipedia.org/wiki/Telematics)æ•°æ®çš„æµåŠ¨ç”Ÿæˆå™¨ã€‚è½¦è¾†çš„è¿œç¨‹ä¿¡æ¯å¤„ç†æ•°æ®æµé€šå¸¸æºå¸¦å„ç§ä¿¡å·ï¼Œå…¶ä¸­GPSä½ç½®æ˜¯æœ€å¸¸è§çš„ä¿¡å·ä¹‹ä¸€ã€‚ä½ è¿˜å¯ä»¥æ‰¾åˆ°è¯¸å¦‚ç¬æ—¶é€Ÿåº¦ã€åŠ é€Ÿåº¦ã€æ²¹ç®±æˆ–ç”µæ± ç”µé‡ä»¥åŠå…¶ä»–ä¸€äº›ç‰¹æ®Šä¿¡å·ï¼Œå¦‚æŒ¡é£ç»ç’ƒé›¨åˆ·çŠ¶æ€å’Œå¤–éƒ¨æ¸©åº¦ç­‰ã€‚
- en: GPS receivers typically sample data once per second (1 Hz), which is appropriate
    for most applications, but other vehicle sensors may have different signal generation
    frequencies. The signal generation frequency is programmable and generally balances
    telecommunications costs and the information content's usefulness. Some signals
    are sent as they change, while others might get sent only after a given percent
    change to avoid unnecessary costs.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: GPSæ¥æ”¶å™¨é€šå¸¸æ¯ç§’é‡‡æ ·ä¸€æ¬¡æ•°æ®ï¼ˆ1 Hzï¼‰ï¼Œè¿™é€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ï¼Œä½†å…¶ä»–è½¦è¾†ä¼ æ„Ÿå™¨å¯èƒ½å…·æœ‰ä¸åŒçš„ä¿¡å·ç”Ÿæˆé¢‘ç‡ã€‚ä¿¡å·ç”Ÿæˆé¢‘ç‡æ˜¯å¯ç¼–ç¨‹çš„ï¼Œé€šå¸¸éœ€è¦å¹³è¡¡ç”µä¿¡æˆæœ¬å’Œä¿¡æ¯å†…å®¹çš„å®ç”¨æ€§ã€‚ä¸€äº›ä¿¡å·ä¼šåœ¨å˜åŒ–æ—¶å‘é€ï¼Œè€Œå…¶ä»–ä¿¡å·å¯èƒ½åªæœ‰åœ¨å˜åŒ–è¾¾åˆ°ä¸€å®šç™¾åˆ†æ¯”åæ‰å‘é€ï¼Œä»¥é¿å…ä¸å¿…è¦çš„è´¹ç”¨ã€‚
- en: The telematics data streams have different approaches to packaging the signal
    values when sending them over the wireless connection. The most basic signal packaging
    approach independently sends each signal whenever it is generated or significantly
    changed. Each data packet contains the source identification, signal identification,
    and signal value. Another approach is to package all signal values as a standard
    record whenever each value changes. There is no preset emission frequency, and
    the unchanged values repeat on consecutive messages. We usually find this signal
    packaging approach on the receiving end of the communications link and when the
    sender uses the former approach.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: é¥æµ‹æ•°æ®æµåœ¨é€šè¿‡æ— çº¿è¿æ¥å‘é€ä¿¡å·å€¼æ—¶é‡‡ç”¨ä¸åŒçš„ä¿¡å·åŒ…è£…æ–¹æ³•ã€‚æœ€åŸºæœ¬çš„ä¿¡å·åŒ…è£…æ–¹æ³•æ˜¯åœ¨æ¯æ¬¡ä¿¡å·ç”Ÿæˆæˆ–æ˜¾è‘—å˜åŒ–æ—¶ç‹¬ç«‹å‘é€æ¯ä¸ªä¿¡å·ã€‚æ¯ä¸ªæ•°æ®åŒ…åŒ…å«æºæ ‡è¯†ã€ä¿¡å·æ ‡è¯†å’Œä¿¡å·å€¼ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯å°†æ‰€æœ‰ä¿¡å·å€¼ä½œä¸ºæ ‡å‡†è®°å½•è¿›è¡Œæ‰“åŒ…ï¼Œæ¯å½“æ¯ä¸ªå€¼å‘ç”Ÿå˜åŒ–æ—¶ã€‚æ²¡æœ‰é¢„è®¾çš„å‘å°„é¢‘ç‡ï¼Œæœªæ”¹å˜çš„å€¼ä¼šåœ¨è¿ç»­æ¶ˆæ¯ä¸­é‡å¤ã€‚å½“æ¥æ”¶ç«¯ä½¿ç”¨è¿™ç§ä¿¡å·åŒ…è£…æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå‘ç°è¿™ç§æ–¹å¼ï¼Œå°¤å…¶æ˜¯åœ¨å‘é€æ–¹ä½¿ç”¨å‰ä¸€ç§æ–¹æ³•æ—¶ã€‚
- en: The final approach, similar to the previous one, fixes the emission frequency,
    usually synchronized with the GPS, highlighting the importance of this signal
    in the process.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åçš„æ–¹æ³•ä¸å‰ä¸€ç§æ–¹æ³•ç±»ä¼¼ï¼Œå›ºå®šäº†å‘å°„é¢‘ç‡ï¼Œé€šå¸¸ä¸GPSåŒæ­¥ï¼Œçªå‡ºäº†æ­¤ä¿¡å·åœ¨è¿‡ç¨‹ä¸­çš„é‡è¦æ€§ã€‚
- en: The second approach, which is the subject of this article, has some side effects,
    namely, the repetition of the GPS coordinates on all intermediate data packets
    between changes in the GPS signal. The following picture illustrates this effect
    on the [Extended Vehicle Energy Dataset](https://ar5iv.labs.arxiv.org/html/2203.08630)
    (EVED).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡è®¨è®ºçš„ç¬¬äºŒç§æ–¹æ³•æœ‰ä¸€äº›å‰¯ä½œç”¨ï¼Œå³åœ¨GPSä¿¡å·å˜åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ä¸­é—´æ•°æ®åŒ…éƒ½ä¼šé‡å¤GPSåæ ‡ã€‚ä¸‹å›¾å±•ç¤ºäº†è¿™ç§æ•ˆæœåœ¨[æ‰©å±•è½¦è¾†èƒ½æºæ•°æ®é›†](https://ar5iv.labs.arxiv.org/html/2203.08630)ï¼ˆEVEDï¼‰ä¸Šçš„ä½“ç°ã€‚
- en: '![](../Images/1917c41de824a73411006846bed7a825.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1917c41de824a73411006846bed7a825.png)'
- en: '**Figure 1** â€” Data from the EVED shows how often the GPS location repeats
    while the vehicle moves. (Image source: Author)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾1** â€” æ¥è‡ªEVEDçš„æ•°æ®å±•ç¤ºäº†è½¦è¾†ç§»åŠ¨æ—¶GPSä½ç½®é‡å¤çš„é¢‘ç‡ã€‚ï¼ˆå›¾åƒæ¥æºï¼šä½œè€…ï¼‰'
- en: It is usual to handle data, as depicted in **Figure 1**, using the latitude
    and longitude as keys when removing duplicate rows. This technique keeps an aggregate
    of all the other columns, typically the first-row value. However, it may drastically
    reduce the number of rows in the dataset, rendering the data less valuable, similar
    to the third packaging approach.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œåœ¨å¤„ç†æ•°æ®æ—¶ï¼Œå¦‚**å›¾1**æ‰€ç¤ºï¼Œå½“å»é™¤é‡å¤è¡Œæ—¶ï¼Œä¼šä½¿ç”¨çº¬åº¦å’Œç»åº¦ä½œä¸ºé”®ã€‚æ­¤æŠ€å·§ä¿ç•™äº†æ‰€æœ‰å…¶ä»–åˆ—çš„èšåˆå€¼ï¼Œé€šå¸¸æ˜¯ç¬¬ä¸€è¡Œçš„å€¼ã€‚ç„¶è€Œï¼Œè¿™å¯èƒ½ä¼šå¤§å¹…å‡å°‘æ•°æ®é›†ä¸­çš„è¡Œæ•°ï¼Œä»è€Œä½¿æ•°æ®çš„ä»·å€¼é™ä½ï¼Œè¿™ç±»ä¼¼äºç¬¬ä¸‰ç§åŒ…è£…æ–¹æ³•ã€‚
- en: Between changes in the GPS signal (rows 1, 8, and 14), all other records carry
    the original GPS coordinates, even if the vehicle is moving, as demonstrated by
    the speed signal in **Figure 1** above. We can interpolate the geographic locations
    of the interim records, increasing the resolution of the GPS sensor and improving
    the dataset quality.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨GPSä¿¡å·å˜åŒ–ä¹‹é—´ï¼ˆç¬¬1ã€8å’Œ14è¡Œï¼‰ï¼Œå³ä½¿è½¦è¾†åœ¨ç§»åŠ¨ï¼Œå¦‚**å›¾1**æ‰€ç¤ºçš„é€Ÿåº¦ä¿¡å·æ‰€ç¤ºï¼Œæ‰€æœ‰å…¶ä»–è®°å½•ä»ç„¶æºå¸¦åŸå§‹GPSåæ ‡ã€‚æˆ‘ä»¬å¯ä»¥å¯¹è¿™äº›ä¸­é—´è®°å½•è¿›è¡Œåœ°ç†ä½ç½®æ’å€¼ï¼Œä»è€Œæé«˜GPSä¼ æ„Ÿå™¨çš„åˆ†è¾¨ç‡ï¼Œæ”¹å–„æ•°æ®é›†çš„è´¨é‡ã€‚
- en: This article illustrates how to perform the GPS location interpolation mentioned
    above using map information and the speed signal.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨åœ°å›¾ä¿¡æ¯å’Œé€Ÿåº¦ä¿¡å·æ‰§è¡Œä¸Šè¿°GPSä½ç½®æ’å€¼ã€‚
- en: Interpolation
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ’å€¼
- en: GPS interpolation is the process of inferring geospatial locations missing from
    our input dataset using auxiliary data. If you like, this is akin to [dead reckoning](https://en.wikipedia.org/wiki/Dead_reckoning),
    a process through which GPS receivers infer the current location when you drive
    through a tunnel. Here, we apply a similar concept to a dataset where vehicle
    signals have higher sampling rates than the GPS receiver.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: GPSæ’å€¼æ˜¯æŒ‡ä½¿ç”¨è¾…åŠ©æ•°æ®æ¨æ–­è¾“å…¥æ•°æ®é›†ä¸­ç¼ºå¤±çš„åœ°ç†ä½ç½®ã€‚å¦‚æœä½ å–œæ¬¢ï¼Œè¿™ç±»ä¼¼äº[èˆªè¿¹æ¨ç®—](https://en.wikipedia.org/wiki/Dead_reckoning)ï¼Œå³GPSæ¥æ”¶å™¨åœ¨ä½ é€šè¿‡éš§é“æ—¶æ¨æ–­å½“å‰ä½ç½®çš„è¿‡ç¨‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç±»ä¼¼çš„æ¦‚å¿µåº”ç”¨äºä¸€ä¸ªæ•°æ®é›†ï¼Œå…¶ä¸­è½¦è¾†ä¿¡å·çš„é‡‡æ ·ç‡é«˜äºGPSæ¥æ”¶å™¨ã€‚
- en: Dead reckoning uses a map to determine the road ahead and assumes a constant
    speed throughout the tunnel (or GPS blind spot). Here, we will use a similar approach.
    Knowing the map geometry between two consecutive and distinct GPS samples provides
    accurate distance information. If available, the speed signal helps us determine
    the approximate GPS location of the interim signals using simple kinematic calculations.
    Otherwise, we can assume a constant average speed between two consecutive locations.
    Fortunately, the EVED reports instantaneous speeds.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æ­» reckoningï¼ˆæƒ¯æ€§å¯¼èˆªï¼‰ä½¿ç”¨åœ°å›¾æ¥ç¡®å®šå‰æ–¹çš„é“è·¯ï¼Œå¹¶å‡è®¾åœ¨éš§é“ï¼ˆæˆ–GPSç›²åŒºï¼‰å†…é€Ÿåº¦ä¿æŒä¸å˜ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ã€‚çŸ¥é“ä¸¤ä¸ªè¿ç»­ä¸”ä¸åŒçš„GPSæ ·æœ¬ä¹‹é—´çš„åœ°å›¾å‡ ä½•ä¿¡æ¯ï¼Œå¯ä»¥æä¾›å‡†ç¡®çš„è·ç¦»ä¿¡æ¯ã€‚å¦‚æœæœ‰é€Ÿåº¦ä¿¡å·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„è¿åŠ¨å­¦è®¡ç®—æ¥ç¡®å®šä¸´æ—¶ä¿¡å·çš„è¿‘ä¼¼GPSä½ç½®ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ä¸¤ä¸ªè¿ç»­ä½ç½®ä¹‹é—´çš„å¹³å‡é€Ÿåº¦æ˜¯æ’å®šçš„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒEVEDæŠ¥å‘Šäº†ç¬æ—¶é€Ÿåº¦ã€‚
- en: The first problem we must solve is measuring the distance between two consecutive
    and distinct GPS locations. We do this by using map information. We must use the
    map to avoid the error of measuring the [geographical distance](https://en.wikipedia.org/wiki/Geographical_distance)
    ([as the crow flies](https://en.wikipedia.org/wiki/As_the_crow_flies)) between
    the locations, as illustrated in **Figure 2** below.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¿…é¡»è§£å†³çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•æµ‹é‡ä¸¤ä¸ªè¿ç»­ä¸”ä¸åŒçš„GPSä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨åœ°å›¾ä¿¡æ¯æ¥å®Œæˆè¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å¿…é¡»åˆ©ç”¨åœ°å›¾æ¥é¿å…æµ‹é‡ä½ç½®ä¹‹é—´çš„[åœ°ç†è·ç¦»](https://en.wikipedia.org/wiki/Geographical_distance)ï¼ˆ[é¡ºé£è€Œè¡Œçš„è·ç¦»](https://en.wikipedia.org/wiki/As_the_crow_flies)ï¼‰ï¼Œæ­£å¦‚ä¸‹é¢çš„**å›¾2**æ‰€ç¤ºã€‚
- en: '![](../Images/fc0ed168f41697b1096c47128d767663.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fc0ed168f41697b1096c47128d767663.png)'
- en: '**Figure 2** â€” Blue dots are map vertexes, while red dots are map-matched GPS
    locations. The interpolated locations will occur along the blue line, and we must
    use the distance between consecutive samples along the red lineâ€™s geometry. The
    green line represents the distance between consecutive GPS locations without considering
    the map geometry, while the red line uses the map geometry. In this case, the
    red line is longer than the green one. (Image source: Author)'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾2** â€” è“ç‚¹æ˜¯åœ°å›¾é¡¶ç‚¹ï¼Œçº¢ç‚¹æ˜¯åœ°å›¾åŒ¹é…çš„GPSä½ç½®ã€‚æ’å€¼ä½ç½®å°†å‡ºç°åœ¨è“è‰²çº¿æ¡ä¸Šï¼Œè€Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨æ²¿çº¢è‰²çº¿æ¡å‡ ä½•å½¢çŠ¶çš„è¿ç»­æ ·æœ¬ä¹‹é—´çš„è·ç¦»ã€‚ç»¿è‰²çº¿æ¡ä»£è¡¨ä¸è€ƒè™‘åœ°å›¾å‡ ä½•çš„è¿ç»­GPSä½ç½®ä¹‹é—´çš„è·ç¦»ï¼Œè€Œçº¢è‰²çº¿æ¡åˆ™ä½¿ç”¨åœ°å›¾å‡ ä½•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçº¢çº¿æ¯”ç»¿çº¿é•¿ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: The GPS interpolation process requires auxiliary techniques to implement, such
    as map matching, map alignment, speed integration, and map projection. Let's examine
    each one.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: GPSæ’å€¼è¿‡ç¨‹éœ€è¦è¾…åŠ©æŠ€æœ¯æ¥å®æ–½ï¼Œä¾‹å¦‚åœ°å›¾åŒ¹é…ã€åœ°å›¾å¯¹é½ã€é€Ÿåº¦é›†æˆå’Œåœ°å›¾æŠ•å½±ã€‚è®©æˆ‘ä»¬é€ä¸€æŸ¥çœ‹è¿™äº›æŠ€æœ¯ã€‚
- en: Map Matching
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ°å›¾åŒ¹é…
- en: Map matching projects sequences of sampled GPS locations to the most likely
    trajectory over a digital map. I have already discussed this process in two other
    articles, exploring its applications to [trajectory](https://medium.com/towards-data-science/map-matching-for-trajectory-prediction-be307a1547f0)
    and [speed](https://medium.com/towards-data-science/map-matching-for-speed-prediction-f1a534626368)
    predictions. Please review these two articles and their supporting code as they
    support this material.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: åœ°å›¾åŒ¹é…å°†é‡‡æ ·çš„GPSä½ç½®åºåˆ—æŠ•å½±åˆ°æ•°å­—åœ°å›¾ä¸Šæœ€å¯èƒ½çš„è½¨è¿¹ã€‚æˆ‘åœ¨å¦å¤–ä¸¤ç¯‡æ–‡ç« ä¸­å·²ç»è®¨è®ºäº†è¿™ä¸€è¿‡ç¨‹ï¼Œæ¢è®¨äº†å®ƒåœ¨[è½¨è¿¹](https://medium.com/towards-data-science/map-matching-for-trajectory-prediction-be307a1547f0)å’Œ[é€Ÿåº¦](https://medium.com/towards-data-science/map-matching-for-speed-prediction-f1a534626368)é¢„æµ‹ä¸­çš„åº”ç”¨ã€‚è¯·æŸ¥é˜…è¿™ä¸¤ç¯‡æ–‡ç« åŠå…¶æ”¯æŒçš„ä»£ç ï¼Œå®ƒä»¬æ”¯æŒæœ¬ææ–™çš„å†…å®¹ã€‚
- en: After running the map-matching process, we collect the projection of the original
    GPS samples to the map edges and the sequence of map vertexes corresponding to
    the traveled route. **Figure 2** above illustrates this, with the map vertexes
    in blue and the GPS projections in red. Before proceeding, we must compute the
    merged sequence of vertexes and GPS projections in a process that I call "map
    alignment."
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿è¡Œåœ°å›¾åŒ¹é…è¿‡ç¨‹åï¼Œæˆ‘ä»¬æ”¶é›†åŸå§‹GPSæ ·æœ¬åœ¨åœ°å›¾è¾¹ç¼˜ä¸Šçš„æŠ•å½±ä»¥åŠä¸è¡Œé©¶è·¯çº¿å¯¹åº”çš„åœ°å›¾é¡¶ç‚¹åºåˆ—ã€‚ä¸Šé¢çš„**å›¾2**å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼Œå…¶ä¸­åœ°å›¾é¡¶ç‚¹ä»¥è“è‰²è¡¨ç¤ºï¼ŒGPSæŠ•å½±ä»¥çº¢è‰²è¡¨ç¤ºã€‚åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»è®¡ç®—åˆå¹¶çš„é¡¶ç‚¹åºåˆ—å’ŒGPSæŠ•å½±ï¼Œè¿™ä¸€è¿‡ç¨‹æˆ‘ç§°ä¹‹ä¸ºâ€œåœ°å›¾å¯¹é½â€ã€‚
- en: Map Alignment
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ°å›¾å¯¹é½
- en: As previously stated, the map-matching process produces two disjoint sets of
    points, namely the edge-projected GPS locations and the map vertexes, sequenced
    along the route direction. Before further processing, we must merge these location
    sets to ensure the correct sequencing between the sets. Unfortunately, the edge-projected
    GPS locations do not carry the edge information, so we must find the corresponding
    edge identified by the endpoint vertexes. This process produces a list of map
    edges with the matching GPS location projections.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œåœ°å›¾åŒ¹é…è¿‡ç¨‹ä¼šäº§ç”Ÿä¸¤ä¸ªä¸ç›¸äº¤çš„ç‚¹é›†ï¼Œå³è¾¹ç¼˜æŠ•å½±çš„GPSä½ç½®å’Œåœ°å›¾é¡¶ç‚¹ï¼Œè¿™äº›ç‚¹æŒ‰ç…§è·¯çº¿æ–¹å‘æ’åˆ—ã€‚åœ¨è¿›ä¸€æ­¥å¤„ç†ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åˆå¹¶è¿™äº›ä½ç½®é›†ï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¹‹é—´çš„æ­£ç¡®æ’åºã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¾¹ç¼˜æŠ•å½±çš„GPSä½ç½®æ²¡æœ‰æºå¸¦è¾¹ç¼˜ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»é€šè¿‡ç«¯ç‚¹é¡¶ç‚¹æ¥æ‰¾åˆ°å¯¹åº”çš„è¾¹ç¼˜ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«åŒ¹é…GPSä½ç½®æŠ•å½±çš„åœ°å›¾è¾¹ç¼˜åˆ—è¡¨ã€‚
- en: 'Once done, we finish the map alignment process by converting the list of map
    edges to a complementary format: a list of GPS segments. We identify each GPS
    segment with its starting and ending locations and any map vertexes between them.
    **Figure 3** below illustrates these concepts, with the blue bar identifying the
    map edge and the red bar identifying the GPS segment.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆåï¼Œæˆ‘ä»¬é€šè¿‡å°†åœ°å›¾è¾¹ç¼˜åˆ—è¡¨è½¬æ¢ä¸ºäº’è¡¥æ ¼å¼ï¼šGPSæ®µåˆ—è¡¨ï¼Œæ¥ç»“æŸåœ°å›¾å¯¹é½è¿‡ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡èµ·å§‹å’Œç»“æŸä½ç½®ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä»»ä½•åœ°å›¾é¡¶ç‚¹æ¥æ ‡è¯†æ¯ä¸ªGPSæ®µã€‚**å›¾3**
    ä¸‹æ–¹å±•ç¤ºäº†è¿™äº›æ¦‚å¿µï¼Œè“è‰²æ¡è¡¨ç¤ºåœ°å›¾è¾¹ç¼˜ï¼Œçº¢è‰²æ¡è¡¨ç¤ºGPSæ®µã€‚
- en: '![](../Images/21bfbbbe6d1479de8fb991fa0676ec76.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/21bfbbbe6d1479de8fb991fa0676ec76.png)'
- en: '**Figure 3** â€” The map alignment process correctly sequences the map vertexes
    and the projected GPS locations and splits the resulting list into GPS segments,
    shown in red. Note that each GPS segment contains the projected GPS endpoints
    and all the included map vertexes within. (Image source: Author)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾3** â€” åœ°å›¾å¯¹é½è¿‡ç¨‹æ­£ç¡®åœ°å¯¹åœ°å›¾é¡¶ç‚¹å’ŒæŠ•å½±çš„GPSä½ç½®è¿›è¡Œæ’åºï¼Œå¹¶å°†ç»“æœåˆ—è¡¨æ‹†åˆ†æˆGPSæ®µï¼Œæ˜¾ç¤ºä¸ºçº¢è‰²ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªGPSæ®µåŒ…å«æŠ•å½±çš„GPSç«¯ç‚¹å’Œå…¶ä¸­çš„æ‰€æœ‰åœ°å›¾é¡¶ç‚¹ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: Now, we can examine and process each GPS segment separately. To better illustrate
    this concept, the first GPS segment of **Figure 1** above would encompass rows
    *one* to *eight* along any map vertexes detected between them.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«æ£€æŸ¥å’Œå¤„ç†æ¯ä¸ªGPSæ®µã€‚ä¸ºäº†æ›´å¥½åœ°è¯´æ˜è¿™ä¸€æ¦‚å¿µï¼Œ**å›¾1** ä¸Šçš„ç¬¬ä¸€ä¸ªGPSæ®µå°†åŒ…æ‹¬*ç¬¬ä¸€*åˆ°*ç¬¬å…«*è¡Œï¼Œè¿™äº›è¡Œä¹‹é—´åŒ…å«çš„ä»»ä½•åœ°å›¾é¡¶ç‚¹ã€‚
- en: The typical GPS segment illustrated in **Figure 3** above would have a set of
    signal records corresponding to each endpoint. **Figure 1** shows that the first
    two GPS locations have seven and six records, respectively. We aim to project
    those to the segment's geography using whatever information we can collect about
    the car's motion. Fortunately, the EVED has both the timestamps and the recorded
    vehicle speed. We can reconstruct the displacements along the segment with some
    kinematics and place the interpolated GPS locations.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾3** ä¸Šæ‰€ç¤ºçš„å…¸å‹GPSæ®µåŒ…å«ä¸€ç»„ä¸æ¯ä¸ªç«¯ç‚¹å¯¹åº”çš„ä¿¡å·è®°å½•ã€‚**å›¾1** æ˜¾ç¤ºï¼Œå‰ä¸¤ä¸ªGPSä½ç½®åˆ†åˆ«æœ‰ä¸ƒä¸ªå’Œå…­ä¸ªè®°å½•ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ©ç”¨æ”¶é›†åˆ°çš„å…³äºè½¦è¾†è¿åŠ¨çš„ä¿¡æ¯ï¼Œå°†è¿™äº›è®°å½•æŠ•å½±åˆ°æ®µçš„åœ°ç†ä½ç½®ä¸Šã€‚å¹¸è¿çš„æ˜¯ï¼ŒEVEDå…·æœ‰æ—¶é—´æˆ³å’Œè®°å½•çš„è½¦è¾†é€Ÿåº¦ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›è¿åŠ¨å­¦é‡å»ºæ®µä¸Šçš„ä½ç§»ï¼Œå¹¶æ”¾ç½®æ’å€¼åçš„GPSä½ç½®ã€‚'
- en: 'If you have ever studied kinematics, you know that:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ›¾ç»å­¦ä¹ è¿‡è¿åŠ¨å­¦ï¼Œä½ ä¼šçŸ¥é“ï¼š
- en: '[On a velocity-time graph, the area under the curve is the change in position.](https://physics.info/motion-graphs/)'
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[åœ¨é€Ÿåº¦-æ—¶é—´å›¾ä¸­ï¼Œæ›²çº¿ä¸‹çš„é¢ç§¯è¡¨ç¤ºä½ç½®å˜åŒ–ã€‚](https://physics.info/motion-graphs/)'
- en: To recover the estimated distances between consecutive projected GPS locations,
    we need to compute the integral of the time versus speed.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ¢å¤è¿ç»­æŠ•å½±çš„GPSä½ç½®ä¹‹é—´çš„ä¼°è®¡è·ç¦»ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ—¶é—´ä¸é€Ÿåº¦çš„ç§¯åˆ†ã€‚
- en: Speed Integration
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€Ÿåº¦é›†æˆ
- en: '**Figure 1** above shows that, for each record, we have values for the timestamp,
    measured in milliseconds since the trip started, and the car velocity, measured
    in kilometers per hour. To reconstruct all the intermediary distances, we compute
    a simple [trapezoidal integral](https://en.wikipedia.org/wiki/Trapezoidal_rule)
    for each step and then adjust for the actual GPS segment length computed along
    the map.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾1** ä¸Šæ˜¾ç¤ºï¼Œå¯¹äºæ¯æ¡è®°å½•ï¼Œæˆ‘ä»¬éƒ½æœ‰æ—¶é—´æˆ³å€¼ï¼ˆä»è¡Œç¨‹å¼€å§‹ä»¥æ¥çš„æ¯«ç§’æ•°ï¼‰å’Œè½¦è¾†é€Ÿåº¦å€¼ï¼ˆä»¥åƒç±³æ¯å°æ—¶ä¸ºå•ä½ï¼‰ã€‚ä¸ºäº†é‡å»ºæ‰€æœ‰ä¸­é—´è·ç¦»ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸€æ­¥è®¡ç®—ä¸€ä¸ªç®€å•çš„[æ¢¯å½¢ç§¯åˆ†](https://en.wikipedia.org/wiki/Trapezoidal_rule)ï¼Œç„¶åæ ¹æ®åœ°å›¾ä¸Šè®¡ç®—çš„å®é™…GPSæ®µé•¿åº¦è¿›è¡Œè°ƒæ•´ã€‚'
- en: The final adjustment step is needed because the speed signal will have some
    noise, which is assumed to have the same distribution throughout. Therefore, the
    distance computed from the integral will generally differ from the map distance.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºé€Ÿåº¦ä¿¡å·å¯èƒ½ä¼šæœ‰å™ªå£°ï¼Œå› æ­¤éœ€è¦è¿›è¡Œæœ€ç»ˆè°ƒæ•´ï¼Œå› ä¸ºå‡è®¾è¿™äº›å™ªå£°åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åˆ†å¸ƒä¸€è‡´ã€‚å› æ­¤ï¼Œä»ç§¯åˆ†è®¡ç®—å‡ºçš„è·ç¦»é€šå¸¸ä¼šä¸åœ°å›¾ä¸Šçš„è·ç¦»æœ‰æ‰€ä¸åŒã€‚
- en: To bridge this difference, we compute a correction factor between both distances,
    which allows us to calculate the adjusted distances between projected GPS locations.
    With this final information, we can now interpolate the repeated GPS locations
    along the segment.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å¼¥è¡¥è¿™ä¸ªå·®å¼‚ï¼Œæˆ‘ä»¬è®¡ç®—ä¸¤ä¸ªè·ç¦»ä¹‹é—´çš„ä¿®æ­£å› å­ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿè®¡ç®—æŠ•å½±GPSä½ç½®ä¹‹é—´çš„è°ƒæ•´è·ç¦»ã€‚æœ‰äº†è¿™äº›æœ€ç»ˆä¿¡æ¯ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ²¿ç€åˆ†æ®µå¯¹é‡å¤çš„GPSä½ç½®è¿›è¡Œæ’å€¼ã€‚
- en: Map Projection
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ°å›¾æŠ•å½±
- en: The final step of the interpolation process is transferring the extra and repeated
    GPS locations to the map geometry. We compute each position using the previous
    one and move in the segmentâ€™s direction according to the previously calculated
    distance. **Figure 4** below illustrates this process.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: æ’å€¼è¿‡ç¨‹çš„æœ€åä¸€æ­¥æ˜¯å°†é¢å¤–å’Œé‡å¤çš„GPSä½ç½®è½¬ç§»åˆ°åœ°å›¾å‡ ä½•å½¢çŠ¶ä¸­ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨å‰ä¸€ä¸ªä½ç½®å¹¶æ ¹æ®å…ˆå‰è®¡ç®—çš„è·ç¦»æ²¿åˆ†æ®µçš„æ–¹å‘ç§»åŠ¨æ¥è®¡ç®—æ¯ä¸ªä½ç½®ã€‚**å›¾4**ä¸‹æ–¹å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ã€‚
- en: '![](../Images/a9595c6220ef433a28b1cb99a8543891.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a9595c6220ef433a28b1cb99a8543891.png)'
- en: '**Figure 4** â€” The map projection process uses the integrated distances and
    the GPS segment headings to calculate where to place the projected locations.
    From left to right, we use the position of the original GPS locations in red or
    the map vertexes in blue and the corresponding heading and distance to calculate
    the projected green GPS location. (Image source: Author)'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾4** â€” åœ°å›¾æŠ•å½±è¿‡ç¨‹ä½¿ç”¨é›†æˆçš„è·ç¦»å’ŒGPSåˆ†æ®µæ–¹å‘æ¥è®¡ç®—æŠ•å½±ä½ç½®çš„æ”¾ç½®ä½ç½®ã€‚ä»å·¦åˆ°å³ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸå§‹GPSä½ç½®ï¼ˆçº¢è‰²ï¼‰æˆ–åœ°å›¾é¡¶ç‚¹ï¼ˆè“è‰²ï¼‰çš„ä½ç½®ä¿¡æ¯ï¼Œä»¥åŠç›¸åº”çš„æ–¹å‘å’Œè·ç¦»ï¼Œæ¥è®¡ç®—æŠ•å½±çš„ç»¿è‰²GPSä½ç½®ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: To respect the map geometry, the algorithm must consider map vertices between
    successive GPS locations during computation. In the case depicted in **Figure
    4** above, the initial GPS location in red had four repetitions that we could
    project to the new green points using both the signal timestamps and the recorded
    speeds. The algorithm must correctly assign the distances even when crossing a
    map vertex, as depicted.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å°Šé‡åœ°å›¾å‡ ä½•å½¢çŠ¶ï¼Œç®—æ³•åœ¨è®¡ç®—è¿‡ç¨‹ä¸­å¿…é¡»è€ƒè™‘è¿ç»­GPSä½ç½®ä¹‹é—´çš„åœ°å›¾é¡¶ç‚¹ã€‚åœ¨ä¸Šè¿°**å›¾4**ä¸­ï¼Œçº¢è‰²çš„åˆå§‹GPSä½ç½®æœ‰å››ä¸ªé‡å¤ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¿¡å·æ—¶é—´æˆ³å’Œè®°å½•çš„é€Ÿåº¦å°†å…¶æŠ•å½±åˆ°æ–°çš„ç»¿è‰²ç‚¹ä¸Šã€‚å³ä½¿åœ¨è·¨è¶Šåœ°å›¾é¡¶ç‚¹æ—¶ï¼Œç®—æ³•ä¹Ÿå¿…é¡»æ­£ç¡®åœ°åˆ†é…è·ç¦»ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
- en: When projecting the interpolated GPS locations, the algorithm uses the segment
    heading, the previous location, and the interim distance to compute the next point
    using a [well-known formula](https://www.movable-type.co.uk/scripts/latlong.html).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æŠ•å½±æ’å€¼åçš„GPSä½ç½®æ—¶ï¼Œç®—æ³•ä½¿ç”¨åˆ†æ®µæ–¹å‘ã€å‰ä¸€ä¸ªä½ç½®å’Œä¸´æ—¶è·ç¦»ï¼Œé€šè¿‡ä¸€ä¸ª[è‘—åå…¬å¼](https://www.movable-type.co.uk/scripts/latlong.html)æ¥è®¡ç®—ä¸‹ä¸€ä¸ªç‚¹çš„ä½ç½®ã€‚
- en: The final set of GPS locations, including the sampled and interpolated ones,
    is stored for later use. Let's see how this is done.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€ç»ˆçš„GPSä½ç½®é›†ï¼ŒåŒ…æ‹¬é‡‡æ ·å’Œæ’å€¼åçš„ä½ç½®ï¼Œå°†è¢«å­˜å‚¨ä»¥ä¾›ä»¥åä½¿ç”¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: Implementation
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å®ç°
- en: Before trying to run this articleâ€™s code, read the prerequisite articles and
    run their code. This articleâ€™s code requires you to download and generate a database
    containing the EVED data, which is already map-matched, and the projected link
    durations. Please see the reference materials below.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å°è¯•è¿è¡Œæœ¬æ–‡çš„ä»£ç ä¹‹å‰ï¼Œè¯·å…ˆé˜…è¯»å‰ææ–‡ç« å¹¶è¿è¡Œå…¶ä»£ç ã€‚æœ¬æ–‡çš„ä»£ç è¦æ±‚ä½ ä¸‹è½½å¹¶ç”Ÿæˆä¸€ä¸ªåŒ…å«EVEDæ•°æ®çš„æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“å·²ç»è¿›è¡Œåœ°å›¾åŒ¹é…ï¼Œå¹¶åŒ…å«æŠ•å½±çš„é“¾è·¯æ—¶é•¿ã€‚è¯·å‚é˜…ä¸‹é¢çš„å‚è€ƒèµ„æ–™ã€‚
- en: The Python code that implements the concepts described in this article is available
    in the accompanying [GitHub repository](https://github.com/joaofig/gps-oversample).
    You must execute the main script from the command line to interpolate all trips.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: å®ç°æœ¬æ–‡æ‰€è¿°æ¦‚å¿µçš„Pythonä»£ç å¯ä»¥åœ¨éšé™„çš„[GitHub ä»“åº“](https://github.com/joaofig/gps-oversample)ä¸­æ‰¾åˆ°ã€‚ä½ éœ€è¦ä»å‘½ä»¤è¡Œæ‰§è¡Œä¸»è„šæœ¬ï¼Œä»¥ä¾¿å¯¹æ‰€æœ‰è¡Œç¨‹è¿›è¡Œæ’å€¼ã€‚
- en: '[PRE0]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This script iterates through all trips and processes one at a time. The first
    step is to load the map-matched trip polyline, where each point is a map vertex
    (the blue dots in the previous figures). These polylines were generated in earlier
    articles and should be stored in the database as encoded strings.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥è„šæœ¬éå†æ‰€æœ‰è¡Œç¨‹ï¼Œå¹¶é€ä¸€å¤„ç†ã€‚ç¬¬ä¸€æ­¥æ˜¯åŠ è½½åœ°å›¾åŒ¹é…çš„è¡Œç¨‹æŠ˜çº¿ï¼Œå…¶ä¸­æ¯ä¸ªç‚¹éƒ½æ˜¯åœ°å›¾é¡¶ç‚¹ï¼ˆå‰é¢å›¾ä¸­çš„è“ç‚¹ï¼‰ã€‚è¿™äº›æŠ˜çº¿æ˜¯åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ç”Ÿæˆçš„ï¼Œå¹¶åº”ä½œä¸ºç¼–ç å­—ç¬¦ä¸²å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚
- en: Polyline Decoding
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æŠ˜çº¿è§£ç 
- en: Decoding the polyline requires a dedicated function adapted from the public
    [Valhalla repositories](https://valhalla.github.io/valhalla/decoding/).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è§£ç æŠ˜çº¿éœ€è¦ä¸€ä¸ªä¸“é—¨çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ”¹ç¼–è‡ªå…¬å¼€çš„[Valhalla ä»“åº“](https://valhalla.github.io/valhalla/decoding/)ã€‚
- en: '**Figure 5** â€” The code above adapts the original Valhalla polyline decoding
    function. One of the improvements is the option to reorder the coordinate pairs
    as (latitude, longitude) instead of the default (longitude, latitude). The original
    code is licensed by its authors under the [MIT license](https://github.com/valhalla/valhalla).
    (Image source: Author)'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 5** â€” ä¸Šé¢çš„ä»£ç ä¿®æ”¹äº†åŸå§‹çš„ Valhalla æŠ˜çº¿è§£ç å‡½æ•°ã€‚æ”¹è¿›ä¹‹ä¸€æ˜¯å¯ä»¥é€‰æ‹©é‡æ–°æ’åˆ—åæ ‡å¯¹ä¸ºï¼ˆçº¬åº¦ï¼Œç»åº¦ï¼‰ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ï¼ˆç»åº¦ï¼Œçº¬åº¦ï¼‰ã€‚åŸå§‹ä»£ç ç”±å…¶ä½œè€…æ ¹æ®
    [MIT è®¸å¯è¯](https://github.com/valhalla/valhalla)æˆæƒã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: GPS Segment Generation
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GPS æ®µç”Ÿæˆ
- en: Next, the script collects and aligns the map-matched trip data (the red dots)
    with the map vertexes. This processing results in a list of GPS segments, structures
    containing the sequential pairs of map-matched GPS locations with any map vertexes
    in between.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œè„šæœ¬æ”¶é›†å¹¶å¯¹é½ä¸åœ°å›¾åŒ¹é…çš„æ—…è¡Œæ•°æ®ï¼ˆçº¢ç‚¹ï¼‰å’Œåœ°å›¾é¡¶ç‚¹ã€‚æ­¤å¤„ç†ç»“æœç”Ÿæˆä¸€ä¸ª GPS æ®µåˆ—è¡¨ï¼Œç»“æ„ä¸­åŒ…å«é¡ºåºé…å¯¹çš„ä¸åœ°å›¾åŒ¹é…çš„ GPS ä½ç½®ä»¥åŠå…¶ä¸­çš„ä»»ä½•åœ°å›¾é¡¶ç‚¹ã€‚
- en: '**Figure 6** â€” A GPS Segment is a list of points where the first and last are
    guaranteed to be map-matched GPS locations. Any points in between will be map
    vertexes. (Image source: Author)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 6** â€” ä¸€ä¸ª GPS æ®µæ˜¯ä¸€ä¸ªç‚¹çš„åˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªç‚¹ä¿è¯æ˜¯ä¸åœ°å›¾åŒ¹é…çš„ GPS ä½ç½®ã€‚ä¸­é—´çš„ä»»ä½•ç‚¹å°†æ˜¯åœ°å›¾é¡¶ç‚¹ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: We use a function that accepts a Pandas DataFrame containing the original trajectory
    with the unique locations and the map-matched trajectory polyline to compute the
    list of GPS segments.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªåŒ…å«åŸå§‹è½¨è¿¹çš„ Pandas DataFrameï¼Œè¯¥è½¨è¿¹åŒ…å«å”¯ä¸€çš„ä½ç½®ä»¥åŠä¸åœ°å›¾åŒ¹é…çš„è½¨è¿¹æŠ˜çº¿ï¼Œç”¨äºè®¡ç®— GPS æ®µçš„åˆ—è¡¨ã€‚
- en: '**Figure 7** â€” The function above converts the map-matched trajectory with
    unique locations and the map-matched polyline into a list of GPS segments. (Image
    source: Author)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 7** â€” ä¸Šé¢çš„å‡½æ•°å°†ä¸åœ°å›¾åŒ¹é…çš„è½¨è¿¹ä¸ç‹¬ç‰¹çš„ä½ç½®ä»¥åŠä¸åœ°å›¾åŒ¹é…çš„æŠ˜çº¿è½¬æ¢ä¸º GPS æ®µçš„åˆ—è¡¨ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: The code then computes the repeated location projections along the segmentâ€™s
    geometry for each GPS segment. Note that this only occurs for the repeated locations
    corresponding to the starting GPS point. The end GPS point is repeated as the
    starting point of the next segment in the sequence.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: ä»£ç æ¥ç€è®¡ç®—æ²¿æ®µå‡ ä½•çº¿çš„é‡å¤ä½ç½®æŠ•å½±ï¼Œé€‚ç”¨äºæ¯ä¸ª GPS æ®µã€‚è¯·æ³¨æ„ï¼Œè¿™ä»…é€‚ç”¨äºä¸èµ·å§‹ GPS ç‚¹å¯¹åº”çš„é‡å¤ä½ç½®ã€‚ç»“æŸçš„ GPS ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªæ®µçš„èµ·å§‹ç‚¹è¢«é‡å¤ã€‚
- en: We use a dedicated trajectory class to help us calculate GPS segments. As you
    can see from **Figure 7** above, the function initializes the trajectory object
    using the sequence of distinct GPS locations, the corresponding timestamps, and
    the database identifiers for each point. This object then merges itself with the
    decoded polyline to return a â€¦
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„è½¨è¿¹ç±»æ¥å¸®åŠ©æˆ‘ä»¬è®¡ç®— GPS æ®µã€‚æ­£å¦‚ä¸Šé¢**å›¾ 7**æ‰€ç¤ºï¼Œå‡½æ•°ä½¿ç”¨ä¸€ç³»åˆ—ç‹¬ç‰¹çš„ GPS ä½ç½®ã€ç›¸åº”çš„æ—¶é—´æˆ³å’Œæ¯ä¸ªç‚¹çš„æ•°æ®åº“æ ‡è¯†ç¬¦æ¥åˆå§‹åŒ–è½¨è¿¹å¯¹è±¡ã€‚ç„¶åï¼Œè¯¥å¯¹è±¡å°†è‡ªå·±ä¸è§£ç åçš„æŠ˜çº¿åˆå¹¶ï¼Œä»¥è¿”å›ä¸€ä¸ªâ€¦â€¦
- en: The dead reckoning function projects the repeated locations using the GPS segment,
    the calculated distances, and known durations.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æ­» reckoning å‡½æ•°ä½¿ç”¨ GPS æ®µã€è®¡ç®—å‡ºçš„è·ç¦»å’Œå·²çŸ¥çš„æŒç»­æ—¶é—´æ¥æŠ•å½±é‡å¤ä½ç½®ã€‚
- en: '**Figure 8** â€” The function above generates the GPS projections of the initial
    GPS location using the available distance and duration information. (Image source:
    Author)'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 8** â€” ä¸Šé¢çš„å‡½æ•°ä½¿ç”¨å¯ç”¨çš„è·ç¦»å’ŒæŒç»­æ—¶é—´ä¿¡æ¯ç”Ÿæˆåˆå§‹ GPS ä½ç½®çš„ GPS æŠ•å½±ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: The function above generates a list of points containing all the projections
    from the first GPS location, annotated with the row identifiers for later database
    insertion. This way, the code that uses these projected locations can refer back
    to the original row of data.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢çš„å‡½æ•°ç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰ä»ç¬¬ä¸€ä¸ª GPS ä½ç½®æŠ•å½±çš„ç‚¹çš„åˆ—è¡¨ï¼Œå¹¶ä¸ºæ¯ä¸ªç‚¹æ·»åŠ è¡Œæ ‡è¯†ç¬¦ï¼Œä»¥ä¾¿åç»­æ’å…¥æ•°æ®åº“ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½¿ç”¨è¿™äº›æŠ•å½±ä½ç½®çš„ä»£ç å¯ä»¥å›æº¯åˆ°åŸå§‹æ•°æ®è¡Œã€‚
- en: '**Figure 9** â€” The algorithm stores each location generated through map projection
    in the structure above. Besides the geospatial coordinates, the object stores
    the time offset and the original row identifier. (Image source: Author)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 9** â€” ç®—æ³•å°†é€šè¿‡åœ°å›¾æŠ•å½±ç”Ÿæˆçš„æ¯ä¸ªä½ç½®å­˜å‚¨åœ¨ä¸Šé¢çš„ç»“æ„ä¸­ã€‚é™¤äº†åœ°ç†åæ ‡ï¼Œå¯¹è±¡è¿˜å­˜å‚¨æ—¶é—´åç§»å’ŒåŸå§‹è¡Œæ ‡è¯†ç¬¦ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: We use the function below to compute a location based on a source location,
    a bearing, and a distance. The bearing is the angle measured in degrees from true
    North in the clockwise direction, so the East is 90 degrees and the South is 180
    degrees.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°æ¥æ ¹æ®æºä½ç½®ã€æ–¹ä½è§’å’Œè·ç¦»è®¡ç®—ä½ç½®ã€‚æ–¹ä½è§’æ˜¯ä»çœŸåŒ—å¼€å§‹é¡ºæ—¶é’ˆæµ‹é‡çš„è§’åº¦ï¼Œä¸œä¸º 90 åº¦ï¼Œå—ä¸º 180 åº¦ã€‚
- en: '**Figure 10** â€” The function above moves a point along a given distance and
    heading and is the foundation for GPS location interpolation. (Image source: Author)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 10** â€” ä¸Šè¿°å‡½æ•°å°†ä¸€ä¸ªç‚¹æ²¿ç»™å®šçš„è·ç¦»å’Œèˆªå‘ç§»åŠ¨ï¼Œæ˜¯ GPS ä½ç½®æ’å€¼çš„åŸºç¡€ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: We can now see how the main function loop integrates all these components. It
    is worth noting that the code keeps two copies of the original map-matched trajectory,
    one with the whole data and the second with only the unique locations (see lines
    11â€“14 below).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å¯ä»¥çœ‹åˆ°ä¸»å‡½æ•°å¾ªç¯å¦‚ä½•é›†æˆæ‰€æœ‰è¿™äº›ç»„ä»¶ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»£ç ä¿ç•™äº†åŸå§‹åœ°å›¾åŒ¹é…è½¨è¿¹çš„ä¸¤ä¸ªå‰¯æœ¬ï¼Œä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®ï¼Œå¦ä¸€ä¸ªä»…åŒ…å«å”¯ä¸€ä½ç½®ï¼ˆå‚è§ä¸‹é¢ç¬¬
    11â€“14 è¡Œï¼‰ã€‚
- en: '**Figure 11** â€” Main loop of the GPS interpolation application. (Image source:
    Author)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 11** â€” GPS æ’å€¼åº”ç”¨ç¨‹åºçš„ä¸»å¾ªç¯ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: The last thing the code does is insert the interpolated locations into the database
    in a dedicated table that is 1:1 related to the original signals table.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ä»£ç çš„æœ€åä¸€æ­¥æ˜¯å°†æ’å€¼åçš„ä½ç½®ä¿¡æ¯æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„ä¸“ç”¨è¡¨ä¸­ï¼Œè¯¥è¡¨ä¸åŸå§‹ä¿¡å·è¡¨æœ‰1:1çš„å…³ç³»ã€‚
- en: '**Figure 12** â€” The function above computes the time versus displacement function
    derivatives and stores all the signals in the database. See below for an explanation
    of these calculations. (Image source: Author)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 12** â€” ä¸Šè¿°å‡½æ•°è®¡ç®—æ—¶é—´ä¸ä½ç§»å‡½æ•°çš„å¯¼æ•°ï¼Œå¹¶å°†æ‰€æœ‰ä¿¡å·å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚æœ‰å…³è¿™äº›è®¡ç®—çš„è§£é‡Šè§ä¸‹æ–‡ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰'
- en: The refined data can now be used for an interesting case study, identifying
    road sections subject to the harshest braking and acceleration.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œç»è¿‡ç²¾ç»†å¤„ç†çš„æ•°æ®å¯ä»¥ç”¨äºä¸€ä¸ªæœ‰è¶£çš„æ¡ˆä¾‹ç ”ç©¶ï¼Œè¯†åˆ«å‡ºå“ªäº›è·¯æ®µå—åˆ°äº†æœ€å‰§çƒˆçš„åˆ¶åŠ¨å’ŒåŠ é€Ÿã€‚
- en: 'Case Study: Harsh Braking'
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¡ˆä¾‹ç ”ç©¶ï¼šå‰§çƒˆåˆ¶åŠ¨
- en: 'With the added resolution of the interpolated GPS locations, we can gain better
    insights into vehicle behavior and make more precise computations. To illustrate
    how to use the improved location resolution, we study where cars break the harshest
    by computing an interesting movement feature: the [jerk](https://en.wikipedia.org/wiki/Jerk_%28physics%29)
    (or jolt). We can reliably compute this kinematic entity with shorter time intervals
    and corresponding speeds.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å¢åŠ æ’å€¼åçš„ GPS ä½ç½®ä¿¡æ¯çš„ç²¾åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°æ´å¯Ÿè½¦è¾†è¡Œä¸ºå¹¶è¿›è¡Œæ›´ç²¾ç¡®çš„è®¡ç®—ã€‚ä¸ºäº†è¯´æ˜å¦‚ä½•ä½¿ç”¨æ”¹è¿›çš„ä½ç½®ä¿¡æ¯ç²¾åº¦ï¼Œæˆ‘ä»¬ç ”ç©¶äº†è½¦è¾†åœ¨å“ªäº›åœ°æ–¹åˆ¶åŠ¨æœ€å‰§çƒˆï¼Œé€šè¿‡è®¡ç®—ä¸€ä¸ªæœ‰è¶£çš„è¿åŠ¨ç‰¹å¾ï¼š**[jerk](https://en.wikipedia.org/wiki/Jerk_%28physics%29)**ï¼ˆæˆ–çªå˜ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾ƒçŸ­çš„æ—¶é—´é—´éš”å’Œç›¸åº”çš„é€Ÿåº¦æ¥å¯é åœ°è®¡ç®—è¿™ä¸ªè¿åŠ¨å­¦é‡ã€‚
- en: '![](../Images/b9ec47c42fe674c69c560169fa71eebe.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b9ec47c42fe674c69c560169fa71eebe.png)'
- en: '**Figure 13** â€” The jerk or jolt is the first derivative of the instantaneous
    acceleration. A high positive value means a sharp acceleration, while a significant
    negative value indicates a harsh brake. (Image source: Author using [Wikipediaâ€™s
    notation](https://en.wikipedia.org/wiki/Jerk_(physics)))'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 13** â€” jerk æˆ– jolt æ˜¯ç¬æ—¶åŠ é€Ÿåº¦çš„å¯¼æ•°ã€‚è¾ƒå¤§çš„æ­£å€¼è¡¨ç¤ºå‰§çƒˆåŠ é€Ÿï¼Œè€Œæ˜¾è‘—çš„è´Ÿå€¼åˆ™è¡¨ç¤ºå‰§çƒˆåˆ¶åŠ¨ã€‚ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼Œä½¿ç”¨äº† [Wikipedia
    çš„ç¬¦å·](https://en.wikipedia.org/wiki/Jerk_(physics))ï¼‰'
- en: The zones of the harshest braking can be highlighted on a map using the derived
    interpolated GPS locations to calculate the instantaneous jerk through the third
    derivative of the ***r(t)*** function, where ***r*** is the displacement and ***t***
    is time.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: å¯ä»¥ä½¿ç”¨æ¨å¯¼å‡ºçš„æ’å€¼ GPS ä½ç½®ä¿¡æ¯åœ¨åœ°å›¾ä¸Šçªå‡ºæ˜¾ç¤ºæœ€å‰§çƒˆçš„åˆ¶åŠ¨åŒºåŸŸï¼Œé€šè¿‡ ***r(t)*** å‡½æ•°çš„ä¸‰é˜¶å¯¼æ•°è®¡ç®—ç¬æ—¶ jerkï¼Œå…¶ä¸­ ***r***
    æ˜¯ä½ç§»ï¼Œ***t*** æ˜¯æ—¶é—´ã€‚
- en: '**Figure 14** below shows the results of plotting the harshest brakes computed
    as values lower than ğœ‡-3ğœ of the jerk distribution. You can interact with this
    map through a dedicated [Jupyter notebook](https://github.com/joaofig/gps-oversample/blob/main/02-jerk.ipynb).'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹å›¾ **å›¾ 14** æ˜¾ç¤ºäº†å°†è®¡ç®—å‡ºçš„æœ€å‰§çƒˆåˆ¶åŠ¨ç»˜åˆ¶æˆå›¾ï¼Œåˆ¶åŠ¨å€¼ä½äº jerk åˆ†å¸ƒçš„ ğœ‡-3ğœã€‚ä½ å¯ä»¥é€šè¿‡ä¸“é—¨çš„ [Jupyter notebook](https://github.com/joaofig/gps-oversample/blob/main/02-jerk.ipynb)
    ä¸æ­¤åœ°å›¾è¿›è¡Œäº¤äº’ã€‚
- en: '![](../Images/dcfdaf21c3291b2b37a1bbe647d30d3f.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dcfdaf21c3291b2b37a1bbe647d30d3f.png)'
- en: '**Figure 14** â€” The map above displays a portion of Ann Arborâ€™s map, with each
    red dot representing a point where the database recorded an exceptionally harsh
    brake. (Image created by the author using OpenStreetMap data and imagery.)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 14** â€” ä¸Šå›¾æ˜¾ç¤ºäº†å®‰å¨œå ¡åœ°å›¾çš„ä¸€éƒ¨åˆ†ï¼Œæ¯ä¸ªçº¢ç‚¹è¡¨ç¤ºæ•°æ®åº“ä¸­è®°å½•çš„ä¸€ä¸ªå¼‚å¸¸å‰§çƒˆçš„åˆ¶åŠ¨ç‚¹ã€‚ï¼ˆå›¾åƒç”±ä½œè€…ä½¿ç”¨ OpenStreetMap æ•°æ®å’Œå½±åƒåˆ›å»ºã€‚ï¼‰'
- en: Conclusion
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In this article, we have looked at the problem of interpolating GPS locations
    using maps and intermediate signals, such as time and speed. After map-matching
    the sampled GPS locations, we retrieved the corresponding ma-generated tree containing
    the inferred trajectory path, and we used those geometries to project the missing
    GPS locations to the â€œcorrectâ€ places using the known speeds and interim durations.
    After interpolating all EVED data, we used it to detect the areas in Ann Harbor
    where we expect to see the harshest braking as a proxy for possibly hazardous
    spots.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†ä½¿ç”¨åœ°å›¾å’Œä¸­é—´ä¿¡å·ï¼ˆå¦‚æ—¶é—´å’Œé€Ÿåº¦ï¼‰æ’å€¼GPSä½ç½®çš„é—®é¢˜ã€‚åœ¨è¿›è¡Œåœ°å›¾åŒ¹é…ä¹‹åï¼Œæˆ‘ä»¬æ£€ç´¢äº†å¯¹åº”çš„ç”Ÿæˆæ ‘ï¼Œè¯¥æ ‘åŒ…å«äº†æ¨æ–­å‡ºçš„è½¨è¿¹è·¯å¾„ï¼Œå¹¶ä½¿ç”¨è¿™äº›å‡ ä½•å½¢çŠ¶é€šè¿‡å·²çŸ¥é€Ÿåº¦å’Œä¸­é—´æ—¶é•¿ï¼Œå°†ç¼ºå¤±çš„GPSä½ç½®æŠ•å½±åˆ°â€œæ­£ç¡®â€çš„ä½ç½®ã€‚é€šè¿‡æ’å€¼æ‰€æœ‰EVEDæ•°æ®ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™äº›æ•°æ®æ£€æµ‹å®‰å¨œæ¸¯ï¼ˆAnn
    Harborï¼‰ä¸­é¢„æœŸå‘ç”Ÿæœ€å‰§çƒˆåˆ¹è½¦çš„åŒºåŸŸï¼Œä½œä¸ºå¯èƒ½å­˜åœ¨å±é™©ç‚¹çš„ä»£ç†ã€‚
- en: Credits
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è‡´è°¢
- en: I used [Grammarly](https://app.grammarly.com/) to review the writing and accepted
    several of its rewriting suggestions.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä½¿ç”¨äº† [Grammarly](https://app.grammarly.com/) æ¥å®¡æŸ¥å†™ä½œï¼Œå¹¶æ¥å—äº†å…¶ä¸­ä¸€äº›é‡å†™å»ºè®®ã€‚
- en: '[JetBrains'' AI](https://www.jetbrains.com/ai/) assistant wrote some of the
    code, and it has become a staple of my everyday work with Python.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '[JetBrains'' AI](https://www.jetbrains.com/ai/) åŠ©æ‰‹ç¼–å†™äº†éƒ¨åˆ†ä»£ç ï¼Œå¹¶ä¸”å®ƒå·²ç»æˆä¸ºæˆ‘æ—¥å¸¸ä½¿ç”¨Pythonç¼–ç¨‹å·¥ä½œçš„åŸºç¡€å·¥å…·ã€‚'
- en: Reference
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: '[](/map-matching-for-trajectory-prediction-be307a1547f0?source=post_page-----6a56fdf29179--------------------------------)
    [## Map-Matching for Trajectory Prediction'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/map-matching-for-trajectory-prediction-be307a1547f0?source=post_page-----6a56fdf29179--------------------------------)
    [## è½¨è¿¹é¢„æµ‹ä¸­çš„åœ°å›¾åŒ¹é…'
- en: Where are you going? Should you be going that way?
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½ è¦å»å“ªé‡Œï¼Ÿä½ åº”è¯¥èµ°é‚£æ¡è·¯å—ï¼Ÿ
- en: towardsdatascience.com](/map-matching-for-trajectory-prediction-be307a1547f0?source=post_page-----6a56fdf29179--------------------------------)
    [](/map-matching-for-speed-prediction-f1a534626368?source=post_page-----6a56fdf29179--------------------------------)
    [## Map-Matching for Speed Prediction
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/map-matching-for-trajectory-prediction-be307a1547f0?source=post_page-----6a56fdf29179--------------------------------)
    [](/map-matching-for-speed-prediction-f1a534626368?source=post_page-----6a56fdf29179--------------------------------)
    [## é€Ÿåº¦é¢„æµ‹ä¸­çš„åœ°å›¾åŒ¹é…
- en: How fast will you drive?
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½ ä¼šå¼€å¤šå¿«ï¼Ÿ
- en: towardsdatascience.com](/map-matching-for-speed-prediction-f1a534626368?source=post_page-----6a56fdf29179--------------------------------)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/map-matching-for-speed-prediction-f1a534626368?source=post_page-----6a56fdf29179--------------------------------)
- en: '[Graphs of Motion â€” The Physics Hypertextbook](https://physics.info/motion-graphs/)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '[è¿åŠ¨å›¾è¡¨ â€” ç‰©ç†è¶…æ–‡æœ¬ä¹¦](https://physics.info/motion-graphs/)'
- en: '[Movable Type Scripts â€” Calculate distance, bearing, and more between Latitude/Longitude
    points](https://www.movable-type.co.uk/scripts/latlong.html)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '[Movable Type Scripts â€” è®¡ç®—çº¬åº¦/ç»åº¦ç‚¹ä¹‹é—´çš„è·ç¦»ã€æ–¹ä½è§’ç­‰](https://www.movable-type.co.uk/scripts/latlong.html)'
- en: JoÃ£o Paulo Figueira is a Data Scientist at [tb.lx by Daimler Truck](https://tblx.io/)
    in Lisbon, Portugal.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: JoÃ£o Paulo Figueira æ˜¯ [tb.lx by Daimler Truck](https://tblx.io/) çš„æ•°æ®ç§‘å­¦å®¶ï¼Œä½äºè‘¡è„ç‰™é‡Œæ–¯æœ¬ã€‚
