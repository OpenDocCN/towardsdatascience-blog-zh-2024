- en: The Intuition behind Concordance Index — Survival Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Concordance Index 的直觉——生存分析
- en: 原文：[https://towardsdatascience.com/the-intuition-behind-concordance-index-survival-analysis-3c961fc11ce8?source=collection_archive---------4-----------------------#2024-11-28](https://towardsdatascience.com/the-intuition-behind-concordance-index-survival-analysis-3c961fc11ce8?source=collection_archive---------4-----------------------#2024-11-28)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/the-intuition-behind-concordance-index-survival-analysis-3c961fc11ce8?source=collection_archive---------4-----------------------#2024-11-28](https://towardsdatascience.com/the-intuition-behind-concordance-index-survival-analysis-3c961fc11ce8?source=collection_archive---------4-----------------------#2024-11-28)
- en: Ranking accuracy versus absolute accuracy
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 排名准确度与绝对准确度
- en: '[](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)[![Antonieta
    Mastrogiuseppe](../Images/3b9e70a54fcb887f5ccee6d305085675.png)](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)
    [Antonieta Mastrogiuseppe](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)[![Antonieta
    Mastrogiuseppe](../Images/3b9e70a54fcb887f5ccee6d305085675.png)](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)
    [Antonieta Mastrogiuseppe](https://medium.com/@fyi.oamd?source=post_page---byline--3c961fc11ce8--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)
    ·16 min read·Nov 28, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--3c961fc11ce8--------------------------------)
    ·16分钟阅读·2024年11月28日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/ca3a8499bae48cd532a51377bedff2dd.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ca3a8499bae48cd532a51377bedff2dd.png)'
- en: Taken by the author and her Border Collie. “Be thankful for what you have. Be
    fearless for what you want”
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 作者与她的边境牧羊犬合影。 “感恩你拥有的一切。勇敢追求你想要的一切”
- en: How long would you keep your Gym membership before you decide to cancel it?
    or Netflix if you are a series fan but busier than usual to allocate 2 hours of
    your time to your sofa and your TV? Or when to upgrade or replace your smartphone
    ? What best route to take when considering traffic, road closure, time of the
    day? or How long until your car needs servicing? These are all regular (but not
    trivial) questions we face (some of them) in our daily life without thinking too
    much (or nothing at all) of the thought process we go through on the different
    factors that influence our next course of action. Surely (or maybe after reading
    these lines) one would be interested to know what factor or factors could have
    the greatest influence on the expected time until a given event (from the above
    or any other for that matter) occurs? In statistics, this is referred as time-to-event-analysis
    or Survival analysis. And this is the focus of this study.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 你会保持多少时间的健身房会员资格才决定取消？或者，如果你是一个喜欢追剧的 Netflix 用户，但比平时更忙，没办法腾出两个小时待在沙发上看电视，什么时候会取消订阅？又或者，何时你会升级或更换你的智能手机？在考虑交通、道路封闭、时间等因素时，如何选择最佳路线？又或者，你的车多久需要保养一次？这些问题是我们日常生活中经常面临的（但并不简单的）问题，很多时候我们并没有过多思考（甚至从未考虑过）影响我们下一步行动的不同因素。当然（或者在读完这些内容后），你可能会想知道什么因素或哪些因素可能对预期某一事件（无论是上面提到的，还是其他事件）的发生时间有最大的影响？在统计学中，这就是所谓的时间至事件分析或生存分析。这也是本研究的重点。
- en: 'In Survival Analysis one aims to analyze the time until an event occurs. In
    this article, I will be employing survival analysis to predict when a registered
    member is likely to leave (churn), specifically the number of days until a member
    cancels his/her membership contract. As the variable of interest is t*he number
    of days,* one key element to explicitly reinforce at this point: the time to event
    dependent variable is of a continuous type, a variable that can take any value
    within a certain range. For this, survival analysis is the one to employ.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在生存分析中，我们旨在分析事件发生的时间。在本文中，我将使用生存分析预测注册会员何时可能会离开（流失），具体来说是预测会员取消其会员合同的天数。由于关注的变量是*天数*，此时需要明确强调的一个关键点是：事件发生时间的因变量是连续型的，可以在某个范围内取任何值。因此，生存分析是适用的工具。
- en: DATA
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 数据
- en: This study was conducted using a proprietary dataset provided by a private organization
    in the tutoring industry. The data includes anonymized records for confidentiality
    purposes collected over a period of 2 years, namely July 2022 to October 2024\.
    All analyses were conducted in compliance with ethical standards, ensuring data
    privacy and anonymity. Therefore, to respect the confidentiality of the data provider,
    any specific organizational details and/or unique identifier details have been
    omitted.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究使用了由一家私营机构提供的专有数据集，该机构位于辅导行业。数据包括为确保保密性而进行匿名化处理的记录，收集时间跨度为两年，即 2022 年 7 月至
    2024 年 10 月。所有分析均符合伦理标准，确保数据隐私和匿名性。因此，为尊重数据提供方的机密性，任何特定的组织细节和/或唯一标识符的详细信息都已被省略。
- en: 'The final dataset after data pre-processing (i.e. tackling nulls, normalizing
    to handle outliers, aggregating to remove duplicates and grouping to a sensible
    level) contains a total of 44,197 records at unique identifier level. A total
    of 5 columns were input into the model, namely: 1) Age, 2) Number of visits, 3)
    First visit 4) and Last visit during membership and 5) Tenure. The later representing
    the number of days holding a membership hence the time-to-event target variable.
    The visit-based variables are a feature engineered product for this study generated
    from the original, existing variables and by performing some calculations and
    aggregation on the raw data for each identifier over the period under analysis.
    Finally and very importantly, the dataset is ONLY composed of uncensored records.
    This is, all unique identifiers have experienced the event by the time of the
    analysis, namely membership cancellation. Therefore there is no censored data
    in this analysis where individuals survived (did not cancel their membership)
    beyond their observed duration. This is key when selecting the modelling technique
    as I will explain next.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 数据预处理后的最终数据集（即处理空值、归一化以处理异常值、聚合以去除重复数据并按合理级别分组）包含44,197条唯一标识符级别的记录。总共有5列输入到模型中，分别是：1）年龄，2）访问次数，3）首次访问，4）会员期间的最后访问，以及5）任期。后者代表持有会员资格的天数，因此是事件发生的时间目标变量。基于访问的变量是为本研究生成的特征工程产品，由原始的现有变量通过对每个标识符在分析期间的数据进行一些计算和聚合得到。最后且非常重要的是，数据集仅包含未删失记录。也就是说，所有唯一标识符在分析时都已经经历了事件，即会员取消。因此，在本分析中没有删失数据，即没有个体在观察期之后生存（未取消会员）。这一点在选择建模技术时非常关键，正如我接下来将解释的。
- en: 'Among all different techniques used in survival analysis, three stand out as
    most commonly used:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有用于生存分析的不同技术中，有三种技术最为常见：
- en: Kaplan-Meier Estimator.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Kaplan-Meier 估计量。
- en: This is a non-parametric model hence no assumptions on the distribution of the
    data is made.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是一种非参数模型，因此不对数据的分布做出任何假设。
- en: KM is not interested on how individual features affect churn thus it does not
    offer feature-based insights.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: KM 并不关注单个特征如何影响流失，因此它不会提供基于特征的洞察。
- en: It is widely used for exploratory analysis to assess what the survival curve
    looks like.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它广泛用于探索性分析，以评估生存曲线的形态。
- en: Very importantly, it does not provide personalized predictions.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 非常重要的是，它不提供个性化的预测。
- en: Cox Proportional Hazard (PH) Model
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Cox 比例风险（PH）模型
- en: The Cox PH Model is a semi-parametric model so it does not assume any specific
    distribution of the survival time, making it more flexible for a wider range of
    data.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cox PH 模型是一种半参数模型，因此它不假设生存时间的具体分布，使其在更广泛的数据范围内更加灵活。
- en: It estimates the hazard function.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它估计风险函数。
- en: It relies heavily on uncensored as well as censored data to be able to differentiate
    between individuals “at risk” of experiencing the event versus those who already
    had the event. Thus, if only uncensored data is analyzed the model assumes all
    individuals experienced the event yielding bias results thus leading the Cox PH
    to perform poorly.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在很大程度上依赖于未删失以及删失数据，以区分那些“处于风险中”的个体（即可能经历事件的个体）和那些已经经历事件的个体。因此，如果仅分析未删失数据，模型会假设所有个体都经历了事件，从而得出偏差的结果，导致
    Cox PH 模型表现不佳。
- en: AFT Model
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: AFT 模型
- en: It does not require censor data. Thus, can be used where everyone has experienced
    the event.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它不需要删失数据。因此，可以用于所有个体都已经经历事件的情况。
- en: It directly models the relationship between covariates.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它直接建模协变量之间的关系。
- en: Used when time-to-event outcomes are of primary interest.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当事件发生的时间是主要关注点时使用。
- en: The model estimate the time-to-event explicitly. Thus, provide direct predictions
    on the duration until cancellation.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该模型显式地估计事件时间。因此，提供了直接的取消持续时间预测。
- en: 'Given the characteristics of the dataset used in this study, I have selected
    the Accelerated Failure Time (AFT) Model as the most suitable technique. This
    choice is driven by two key factors: (1) the dataset contains only uncensored
    data, and (2) the analysis focuses on generating individual-level predictions
    for each unique identifier.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 基于本研究中使用的数据集特点，我选择了加速失败时间（AFT）模型作为最合适的技术。这个选择是基于两个关键因素：（1）数据集仅包含未删失数据，且（2）分析侧重于为每个唯一标识符生成个体级别的预测。
- en: 'Now before diving any deeper into the methodology and model output, I will
    cover some key concepts:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入探讨方法和模型输出之前，我将介绍一些关键概念：
- en: '**Survival Function:** It provides insight into the likelihood of survival
    over time'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**生存函数（Survival Function）：** 它提供了生存概率随时间变化的洞察。'
- en: '**Hazard Function:** Rate at which the event is taking place at point in time
    t. It captures how the event is changing over time.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**危险函数（Hazard Function）：** 在时间 t 时事件发生的速率。它捕捉事件随时间的变化。'
- en: '**Time-to-event:** Refers to the (target) variable capturing the time until
    an event occurs.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**事件时间（Time-to-event）：** 指捕捉事件发生前的时间（目标变量）。'
- en: '**Censoring:** Flag referring to those event that have not occurred yet for
    some of the subjects within the timeframe of the analysis. NOTE: In this piece
    of work only uncensored data is analyzed, this is the survival time for all the
    subjects under the study is known.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**删失（Censoring）：** 标记指的是在分析时间框架内某些受试者尚未发生的事件。注意：在本研究中只分析未删失数据，这意味着所有受试者的生存时间都已知。'
- en: '**Concordance Index:** A measure of how well the model predicts the relative
    ordering of survival time. It is a measure of ranking accuracy rather than absolute
    accuracy that assess the proportion of all pairs of subjects whose predicted survival
    time align with the actual outcome.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**一致性指数（Concordance Index）：** 衡量模型预测生存时间相对排序的准确性。这是衡量排名准确度而非绝对准确度的指标，用于评估所有受试者配对中预测的生存时间与实际结果一致的比例。'
- en: '**Akaike Information Criterion (AIC):** A measure that evaluates the quality
    of a model penalizing against the number of irrelevant variables used. When comparing
    several models, the one with the lowest AIC is considered the best.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**赤池信息准则（AIC）：** 用于评估模型质量的度量标准，且对使用的无关变量数量进行惩罚。在比较多个模型时，AIC 最小的模型被认为是最优的。'
- en: Next, I will expand on the first two concepts.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我将详细阐述前两个概念。
- en: 'In mathematical terms:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在数学上：
- en: 'The survival function is given by:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 生存函数为：
- en: '![](../Images/86fa0d860ddb72b7549869463c8839d5.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/86fa0d860ddb72b7549869463c8839d5.png)'
- en: (1)
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: (1)
- en: where,
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，
- en: T is a random variable representing the time to event — duration until the event
    occurs.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: T 是一个随机变量，表示事件发生的时间——即直到事件发生的持续时间。
- en: S(t) is the probability that the event has not yet occurred by time t.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: S(t) 是事件在时间 t 时尚未发生的概率。
- en: 'The Hazard function on the other hand is given by:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，危险函数为：
- en: '![](../Images/6782e544a82224a359488c174081db7c.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6782e544a82224a359488c174081db7c.png)'
- en: (2)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: (2)
- en: where,
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，
- en: f(t) is the probability density function (PDF), which describes the rate at
    which the event occurs at time t.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: f(t) 是概率密度函数（PDF），描述了事件在时间 t 发生的速率。
- en: S(t) is the survival function that describes the probability of surviving beyond
    time t
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: S(t) 是描述在时间 t 之后生存的概率的生存函数。
- en: 'As the PDF f(t) can be expressed in terms of the survival function by taking
    the derivative of S(t) with respect to t:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 PDF f(t) 可以通过对 S(t) 关于 t 求导来表示，因此：
- en: '![](../Images/d894a374f4490a3ce2b92c7dd061455e.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d894a374f4490a3ce2b92c7dd061455e.png)'
- en: (3)
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: (3)
- en: 'substituting the derivative of S(t) in the hazard function:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 将 S(t) 的导数代入危险函数：
- en: '![](../Images/03bd1434d9a7d12a566bdea06e33509a.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/03bd1434d9a7d12a566bdea06e33509a.png)'
- en: (4)
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: (4)
- en: 'taking the derivative of the Log Survival Function:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 对对数生存函数求导：
- en: '![](../Images/2cb22e9767596c0eb74cb233276ccd5a.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2cb22e9767596c0eb74cb233276ccd5a.png)'
- en: (5)
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: (5)
- en: 'from the chain rule of differentiation it follows:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 根据链式法则，可以得出：
- en: '![](../Images/919a38ca3d30e2476a4dcbe5c1cc870a.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/919a38ca3d30e2476a4dcbe5c1cc870a.png)'
- en: (6)
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: (6)
- en: 'thus, the relationship between the Hazard and Survival function is defined
    as follow:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，危险函数和生存函数之间的关系定义如下：
- en: '![](../Images/4eb449fbf84d15e190398edb3c98be5d.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4eb449fbf84d15e190398edb3c98be5d.png)'
- en: (7)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: (7)
- en: the hazard rate captures how quickly the survival probability changes at a specific
    point in time.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 危险率捕捉了在特定时间点生存概率变化的速度。
- en: The Hazard function is always non-negative, it can never go below zero. The
    shape can increase, decrease, stay constant or vary in more complex forms.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 危险函数始终是非负的，永远不会低于零。其形态可以增加、减少、保持恒定或呈现更复杂的变化。
- en: Simply put, the hazard function is a measure of the instantaneous risk of experiencing
    the event at a point in time t. It tells us how likely is the subject to experience
    the event right then. The survival (rate) function, on the other hand, measures
    the probability of surviving beyond a given point in time. This is the overall
    probability of no experiencing the event up to point in time t.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，危险函数是衡量在某个时刻 t 发生事件的即时风险。它告诉我们，个体在该时刻经历事件的可能性有多大。而生存（率）函数则衡量的是在某个特定时刻之后生存的概率。这是指在时间点
    t 之前没有经历事件的总体概率。
- en: 'The survival function is always decreasing over time as more and more individuals
    experience the event. This is illustrated in the below histogram plotting the
    time-to-event variable: Tenure.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 随着时间的推移，生存函数始终是递减的，因为越来越多的个体经历了事件。这在下面的直方图中有所展示，图示了事件发生时间变量：任期。
- en: '![](../Images/c7d24fb6f10c2a71bad53a37b09df879.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c7d24fb6f10c2a71bad53a37b09df879.png)'
- en: Generated by the author by plotting the time-to-event target variable from the
    dataset under study.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者通过绘制所研究数据集中的事件发生时间目标变量生成。
- en: At t=0, no individual has experienced the event (no individual have cancel their
    membership yet), thus
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在 t=0 时，没有个体经历事件（没有个体取消其会员资格），因此
- en: '![](../Images/e20dc3d8f49bb43d1071131df6975171.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e20dc3d8f49bb43d1071131df6975171.png)'
- en: (8)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: (8)
- en: Eventually all individuals experience the event so the survival function tends
    to zero (0).
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，所有个体都会经历事件，因此生存函数趋向于零（0）。
- en: '![](../Images/b9d04c487389accaad2c45c0695e725a.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b9d04c487389accaad2c45c0695e725a.png)'
- en: (9)
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: (9)
- en: MODEL
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 模型
- en: 'For the purposes of this article, I will be focusing on a Multivariate parametric-based
    model: The Accelerated Failure Time (AFT) model, which explicitly estimate the
    continuous time-to-event target variable.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 就本文的目的而言，我将重点讨论一种基于多变量参数化的模型：加速失效时间（AFT）模型，该模型明确估计连续的事件发生时间目标变量。
- en: 'Given the AFT Model:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 给定 AFT 模型：
- en: '![](../Images/7cd840195dcc7186ebaa940c22d6897b.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7cd840195dcc7186ebaa940c22d6897b.png)'
- en: (10)
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: (10)
- en: 'Taking the natural logarithm on both sides of the equation results in:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 对方程两边取自然对数，得到：
- en: '![](../Images/b636100b6700f7f6e72dbb5280eedf48.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b636100b6700f7f6e72dbb5280eedf48.png)'
- en: (11)
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: (11)
- en: where,
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，
- en: '**log(T)** is the logarithm of the survival time, namely time-to-event (duration),
    which as shown by equation (11) is a linear function of the covariates.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**log(T)** 是生存时间的对数，即事件发生时间（持续时间），如公式（11）所示，它是协变量的线性函数。'
- en: '**X** is the vector of covariates'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**X** 是协变量的向量'
- en: '**β** is the vector of regression coefficients.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**β** 是回归系数的向量。'
- en: '*and this is very important:*'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '*这非常重要：*'
- en: 'The coefficients β in the model describe how the covariates accelerate or decelerate
    the event time, namely the survival time. In an AFT Model (the focus of this piece),
    the coefficients affect directly the survival time (not the hazard function),
    specifically:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 模型中的系数 **β** 描述了协变量如何加速或减缓事件时间，即生存时间。在 AFT 模型（本文的重点）中，系数直接影响生存时间（而不是危险函数），具体如下：
- en: if **β > 1 survival time is longer hence leading to a deceleration of the time
    to event. This is, the member will take longer to terminate his(her) membership
    (experiencing the event later).**
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 **β > 1**，生存时间较长，因此导致事件发生时间减缓。这意味着，成员将需要更长时间来终止其会员资格（较晚经历事件）。
- en: if **β < 1 survival time is shorter hence leading to an acceleration of the
    time to event. This is, the member will terminate his(her) membership earlier
    (experiencing the event sooner).**
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 **β < 1**，生存时间较短，因此导致事件发生时间加速。这意味着，成员将较早终止其会员资格（更早经历事件）。
- en: finally,
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，
- en: '**ϵ** is the random error term that represents unobserved factors that affect
    the survival time.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**ϵ** 是随机误差项，表示影响生存时间的未观察因素。'
- en: 'Now, a few explicit points based on the above:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，基于上述几点，列出一些明确的要点：
- en: this is a Multivariate approach, where the time-to-event (duration) target variable
    is fit on multiple covariates.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这是一个多变量方法，其中事件发生时间（持续时间）目标变量在多个协变量上进行拟合。
- en: a Parametric approach as the model holds an assumption regarding a particular
    shape of the survival rate distribution.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这是一种参数化方法，因为该模型对生存率分布的特定形状做出了假设。
- en: 'three algorithms sitting under the AFT model umbrella have been implemented.
    These are:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 AFT 模型框架下已经实现了三种算法，分别是：
- en: 3.1) Weibull AFT Model
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 3.1) 威布尔 AFT 模型
- en: 'The model is flexible and can capture different patterns of survival. Supports
    consistently monotonic increasing/decreasing function. This is: at any two points
    as defined by the function, the later point is at least as high as the earliest
    point.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该模型具有灵活性，可以捕捉不同的生存模式。支持一致的单调递增/递减函数。这意味着：在函数定义的任意两个点之间，后一个点至少与前一个点一样高。
- en: 'One does not need to explicitly model the hazard function. The model has two
    parameters from which the survival function is derived: *shape,* which determines
    the shape of the distribution hence helps to determine the skewness of the data
    and *scale* which determines the spread of the distribution. This PLUS a regression
    coefficient related to each covariate. The shape parameter dictates the monotonic
    behaviors of the hazard function, which in turns affects the behavior of the survival
    function.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无需显式建模风险函数。该模型有两个参数，通过这两个参数推导出生存函数：*形状*，它决定了分布的形状，因此有助于确定数据的偏斜程度；*尺度*，它决定了分布的扩展性。再加上与每个协变量相关的回归系数。形状参数决定了风险函数的单调行为，进而影响生存函数的行为。
- en: Right-skewed, left-skewed distributions of the time-to-event target variable
    are example of these.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 右偏、左偏分布的事件时间目标变量是其中的例子。
- en: 3.2) LogNormal AFT Model
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 3.2) 对数正态 AFT 模型
- en: Focuses on modelling the log-transformed of survival time. Logarithm of a random
    variable whose continuous probability distribution is approximately normally distributed.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主要集中于建模生存时间的对数转换。是一个近似呈正态分布的连续概率分布的随机变量的对数。
- en: Supports right-skewed distributions of the time-to-event target variable. Allows
    for non-monotonic hazard functions. Useful when the risk of the event does not
    follow a simple pattern.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持右偏分布的事件时间目标变量。当事件风险不遵循简单模式时，允许非单调的风险函数。这在风险随时间变化复杂时很有用。
- en: It does not require to explicitly model the hazard function.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它不需要显式建模风险函数。
- en: 'Two main parameters (plus any regression coefficients): *scale* and *location*,
    the former representing the standard deviation of the log-transformed survival
    time, the later representing the mean of the log-transformed survival time. This
    represent the intercept when no covariates are included, otherwise representing
    the linear combination of these.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个主要参数（加上任何回归系数）：*尺度*和*位置*，前者表示对数转换的生存时间的标准差，后者表示对数转换的生存时间的均值。这表示在没有包含协变量时的截距，否则表示这些变量的线性组合。
- en: 3.3) Generalized Gamma AFT Model.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 3.3) 广义伽马 AFT 模型。
- en: Good fit for a wide range of survival data patterns. Highly adaptable parametric
    model that accommodates for the above mentioned shapes as well as more complicated
    mathematical forms on the survival function.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适用于广泛的生存数据模式。高度适应的参数化模型，能够适应上述提到的形状以及生存函数中的更复杂数学形式。
- en: It can be used to test if simpler models (i.e. Weibull, logNormal) can be used
    instead as it encompasses these as special cases.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以用来测试是否可以使用更简单的模型（如威布尔分布、对数正态分布），因为它涵盖了这些模型作为特殊情况。
- en: It does not require to specify the hazard function.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它不需要显式指定风险函数。
- en: 'It has three parameters apart from the regression coefficient ones: *shape,
    scale* and *location,* the later corresponding to the log of the median of survival
    time when covariates are not included thus the intercept in the model.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了回归系数外，它有三个参数：*形状、尺度*和*位置*，后者对应在没有包含协变量时的生存时间中位数的对数，因此是模型中的截距。
- en: 'TIP: There is a significant amount of literature on these algorithms that specifically
    focus on each of these algorithms and their features which I strongly suggest
    the reader to get an understanding on.'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 提示：关于这些算法的文献数量非常庞大，专门聚焦于每个算法及其特性的文献，我强烈建议读者去深入了解。
- en: 'Lastly, the performance of the above algorithms is analyzed focusing on the
    Concordance Index (yes, the C-Index, our metric of interest) and The Akaike Information
    Criterion (AIC). These are shown next with the models’ output:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，分析了上述算法的性能，重点关注一致性指数（是的，C-指数，我们关注的度量标准）和赤池信息准则（AIC）。这些将在下文中展示，并附带模型输出：
- en: REGRESSION OUTPUTS
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 回归输出
- en: Weibull AFT Model
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 威布尔 AFT 模型
- en: '![](../Images/b826812d6f495fc89349172107c99663.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b826812d6f495fc89349172107c99663.png)'
- en: Generated by the author employing lifelines library
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者使用 lifelines 库生成
- en: Log Normal AFT Model
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 对数正态 AFT 模型
- en: '![](../Images/a9b2b5cff9497a0db7bf942f74ca65f0.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a9b2b5cff9497a0db7bf942f74ca65f0.png)'
- en: Generated by the author employing lifelines library
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者使用 lifelines 库生成
- en: Generalized Gamma AFT Model
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 广义伽马 AFT 模型
- en: '![](../Images/cc8fde650b323f037f62f4b9eeb1b428.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cc8fde650b323f037f62f4b9eeb1b428.png)'
- en: Generated by the author employing flexsurv library
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者使用 flexsurv 库生成
- en: 'On the right hand side, the graphs for each predictor are shown: plotting the
    log accelerated failure rate on the x axis hence their positive/negative (accelerate/decelerate
    respectively) impact on the survival time. As shown, all models concur across
    predictors on the direction of the effect on the survival time providing a consistent
    conclusion about the predictors positive or negative impact. Now, in terms of
    The Concordance Index and AIC, the LogNormal and Weibull are both shown with the
    highest C-Index value BUT specifically the LogNormal Model dominating due to a
    lower AIC. Thus, the LogNormal is selected as the model with the best fit.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在右侧，显示了每个预测变量的图表：以对数加速故障率为 x 轴，展示其对生存时间的正向或负向（加速/减速）影响。如图所示，所有模型在预测变量的影响方向上都一致，得出了一致的结论，表明预测变量对生存时间的影响是正向还是负向的。现在，在一致性指数和
    AIC 方面，对数正态模型和威布尔模型的 C-index 值都显示为最高，但特别是对数正态模型由于 AIC 较低而占据主导地位。因此，对数正态模型被选为最适合的模型。
- en: 'Focusing on the LogNormal AFT Model and interpretation of the estimated coefficient
    for each covariate (coef), in general predictors are all shown with a p-value
    lower than the conventional threshold 5% significance level hence rejecting the
    Null Hypothesis and proving to have a statistical significant impact on the survival
    time. Age is shown with a negative coefficient -0.06 indicating that as age increases,
    the member is more likely to experience the event sooner hence terminating his(her)
    membership earlier. This is: each additional year of age represents a 6% decrease
    in survival time when the later is multiplied by a factor of 0.94 (exp(coef))
    hence accelerating the survival time. In contrast, number of visits, first visit
    since joined and last visit are all shown with a strong positive effect on survival
    indicating a strong association between, more visits, early engagement and recent
    engagement increasing survival time.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 聚焦于对数正态 AFT 模型以及每个协变量（coef）估计系数的解释，通常预测变量的 p 值都低于常规的 5% 显著性水平，从而拒绝了原假设，证明它们对生存时间具有统计学显著的影响。年龄的系数为负值
    -0.06，意味着随着年龄的增长，成员更有可能更早经历事件，从而更早终止其会员身份。即：每增加一岁，生存时间减少 6%，这时生存时间会乘以一个 0.94 的因子（exp(coef)），从而加速生存时间。相比之下，访问次数、加入后的首次访问和最近一次访问都显示出对生存时间的强正向影响，表明更多的访问、早期参与和最近的参与都能显著增加生存时间。
- en: 'Now, in terms of The Concordance Index across models (the focus of this analysis),
    the Generalized Gamma AFT Model is the one with the lowest C-index value hence
    the model with the weakest predictive accuracy. This is the model with the weakest
    ability to correctly rank survival times based on the predicted risk scores. This
    highlights an important aspect about model performance: regardless of the model
    ability to capture the correct direction of the effect across predictors, this
    does not necessarily guarantee predictive accuracy, specifically the ability to
    discriminate across subjects who experience the event sooner versus later as measured
    by the concordance index. The C-index explicitly evaluates ranking accuracy of
    the model as opposed to absolute accuracy. This is a fundamental distinction lying
    at the heart of this analysis, which I will expand next.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，从模型间的一致性指数（Concordance Index，C-index）来看（这是本分析的重点），广义伽马 AFT 模型的 C-index 值最低，因此是预测准确性最弱的模型。这个模型在根据预测的风险得分正确排序生存时间方面能力最弱。这个结果强调了模型表现的一个重要方面：无论模型是否能够正确捕捉各预测变量影响方向的准确性，这并不一定保证预测的准确性，特别是在区分提前发生事件与较晚发生事件的受试者时，依据一致性指数来衡量。C-index
    明确评估的是模型的排名准确性，而非绝对准确性。这是本分析的核心区分，我将在接下来的部分详细阐述。
- en: CONCORDANCE INDEX (C-INDEX)
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一致性指数（C-INDEX）
- en: 'A “ranked survival time” refers to the predicted risk scores produced by the
    model for each individual and used to rank hence discriminate individuals who
    experience the event earlier when compared to those who experience the event later.
    Concordance Index is a measure of ranking accuracy rather than absolute accuracy,
    specifically: the C-index assesses the proportion of all pairs of individuals
    whose predicted survival time align with the actual outcome. In absolute terms,
    there is no concern on how precise the model is on predicting the exact number
    of days it took for the member to cancel its membership, instead how accurate
    the model ranks individuals when the actual and predicted time it took for a member
    to cancel its membership align. The below illustrate this:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: “排名生存时间”是指模型为每个个体生成的预测风险评分，用于排名，从而区分那些比其他人早经历事件的个体。协调指数是排名准确性的度量，而非绝对准确性，具体来说：C指数评估所有个体对的比例，这些个体的预测生存时间与实际结果一致。从绝对角度来看，模型在预测成员取消会员所需的具体天数的精确度并不重要，重要的是模型在实际和预测时间一致的情况下，如何准确地对个体进行排名。下面对此做出说明：
- en: '![](../Images/82c94a64cf82f0d302f1eecdce0ef3bf.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/82c94a64cf82f0d302f1eecdce0ef3bf.png)'
- en: 'Drawn by the author based on instances: actual and estimate values from the
    validation dataset.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者根据实例绘制：来自验证数据集的实际值和估计值。
- en: The two instances above are taken from the validation set after the model was
    trained on the training set and predictions were generated for unseen data. These
    examples illustrate cases where the predicted survival time (as estimated by the
    model) exceeds the actual survival time. The horizontal parallel lines represent
    time.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 上述两个实例来自验证集，在模型经过训练集训练后，针对未见数据生成了预测结果。这些例子展示了预测生存时间（由模型估计）超过实际生存时间的情况。水平平行线表示时间。
- en: For Member 1, the actual membership duration was 390 days, whereas the model
    predicted a duration of 486 days — an overestimation of 96 days. Similarly, Member
    2’s actual membership duration was 1,003 days, but the model predicted the membership
    cancellation to occur 242 days later than it actually did, this is 1,245 days
    membership duration.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 对于会员1，实际的会员时长是390天，而模型预测的时长是486天——高估了96天。同样，会员2的实际会员时长为1,003天，但模型预测会员取消的时间比实际发生的时间晚了242天，即1,245天的会员时长。
- en: 'Despite these discrepancies in absolute predictions (and this is important):
    the model correctly ranked the two members in terms of risk, accurately predicting
    that Member 1 would cancel their membership before Member 2\. This distinction
    between absolute error and relative ranking is a critical aspect of model evaluation.
    Consider the following hypothetical scenario:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在绝对预测值上存在这些差异（这点非常重要）：模型在风险排名方面正确地对两名会员进行了排序，准确预测了会员1会在会员2之前取消会员资格。绝对误差和相对排名之间的区别是模型评估的一个关键方面。考虑以下假设情境：
- en: '![](../Images/d128dc056d21d1e8ea2183a79466a05e.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d128dc056d21d1e8ea2183a79466a05e.png)'
- en: 'Drawn by the author based on instances: actual and estimate values from the
    validation dataset.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者根据实例绘制：来自验证数据集的实际值和估计值。
- en: if the model had predicted a membership duration of 1,200 days for Member 1
    instead of 486 days, this would not affect the ranking. The model would still
    predict that Member 1 terminates their membership earlier than Member 2, regardless
    of the magnitude of the error in the prediction (i.e., the number of days). In
    survival analysis, any prediction for Member 1 that falls before the dotted line
    in the graph would maintain the same ranking, classifying this as a *concordant
    pair*. This concept is central to calculating the **C-index**, which measures
    the proportion of all pairs that are concordant in the dataset.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 如果模型预测会员1的会员时长是1,200天，而不是486天，这不会影响排名。模型仍然会预测会员1会比会员2早终止会员资格，无论预测误差（即天数）有多大。在生存分析中，任何对于会员1的预测，若落在图中的虚线之前，都会保持相同的排名，并且被分类为*一致对*。这个概念对计算**C指数**至关重要，它衡量数据集中所有一致对的比例。
- en: A couple of hypothetical scenarios are shown below. In each of them, the magnitude
    of the error increases/decreases, namely the difference between the actual event
    time and the predicted event time, this is the absolute error. However, the ranking
    accuracy remains unchanged.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 以下展示了几个假设场景。在每个场景中，误差的大小增加/减少，即实际事件时间与预测事件时间之间的差异，这是绝对误差。然而，排名准确性保持不变。
- en: '![](../Images/720d6f5ad2973eeaff3d1f2bc7cb33d5.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/720d6f5ad2973eeaff3d1f2bc7cb33d5.png)'
- en: 'Drawn by the author based on instances: actual and estimate values from the
    validation dataset.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 作者根据实例绘制，来自验证数据集的实际和预测值。
- en: The below are also taken from the validation set BUT for these instances the
    model predicts the termination of the membership before the actual event occurs.
    For Member 3, the actual membership duration is 528 days, but the model predicted
    termination 130 days earlier, namely 398 membership duration. Similarly, for Member
    4, the model anticipates the termination of membership before the actual event.
    In both cases, the model correctly ranks Member 4 to terminate their membership
    before Member 3.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 以下内容同样来自验证集，但在这些实例中，模型预测的成员资格终止时间早于实际事件发生时间。对于成员 3，实际的成员资格持续时间为 528 天，但模型预测的终止时间早了
    130 天，即 398 天的成员资格持续时间。同样，对于成员 4，模型预测在实际事件发生之前终止会员资格。在这两种情况下，模型正确地将成员 4 排名为早于成员
    3 终止会员资格。
- en: '![](../Images/1cc01ce88e8b9b4eaa36c5ca855ccdb4.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1cc01ce88e8b9b4eaa36c5ca855ccdb4.png)'
- en: 'Drawn by the author based on instances: actual and estimate values from the
    validation dataset.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 作者根据实例绘制，来自验证数据集的实际和预测值。
- en: 'In the hypothetical scenario below, even if the model had predicted the termination
    180 days earlier for Member 3, the ranking would remain unchanged. This would
    still be classified as a *concordant pair*. We can repeat this analysis multiple
    times and in 88% of cases, the LogNormal Model will produce this result, as indicated
    by the concordance index. This is: where the model correctly predicts the relative
    ordering of the individuals’ survival times.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的假设场景中，即使模型为成员 3 提前 180 天预测了终止，排名仍然不变。这仍然被分类为*一致对*。我们可以多次重复此分析，在 88% 的情况下，LogNormal
    模型将产生这个结果，如一致性指数所示。这意味着：模型正确预测了个体生存时间的相对顺序。
- en: '![](../Images/9f519daebd45135cdad614e63f3b991e.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9f519daebd45135cdad614e63f3b991e.png)'
- en: 'Drawn by the author based on instances: actual and estimate values from the
    validation dataset.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 作者根据实例绘制，来自验证数据集的实际和预测值。
- en: 'As everything, the key is to identify when strategically to use survival analysis
    based on the task at hand. Use cases focusing on ranking individuals employing
    survival analysis as the most efficient strategy as opposed to focus on reducing
    the absolute error are:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 和一切一样，关键在于根据手头的任务战略性地使用生存分析。关注排名个体的使用案例，采用生存分析作为最有效的策略，而不是专注于减少绝对误差的案例包括：
- en: '*Customer retention — Businesses* rank customers by their likelihood of churning.
    Survival Analysis would allow to identify the most at risk customers to target
    retention efforts.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '*客户保持 — 企业* 按客户流失的可能性对客户进行排名。生存分析可以帮助识别最有流失风险的客户，从而有针对性地进行保持工作。'
- en: '*Employee attrition — HR analysis* Organizations use survival analysis to predict
    and rank employees by their likelihood of leaving the company. Similar to the
    above, allowing to identify most at risk employees. This aiming to improve retention
    rates and reducing turnover costs.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '*员工流失 — 人力资源分析* 组织使用生存分析来预测和排名员工的离职可能性。类似于上述方法，可以识别出流失风险最高的员工，从而提高保持率，减少员工流动成本。'
- en: '*Healthcare — resource allocation* survival models might be used to rank patients
    based on their risk of adverse outcomes (i.e. disease progression). In here, correctly
    identifying which patients are at the highest risk and need urgent intervention,
    allowing to allocate limited resources more effectively is more critical hence
    more relevant than the exact survival time.'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '*医疗保健 — 资源分配* 生存模型可能用于根据患者发生不良结果（即疾病进展）的风险对患者进行排名。在这里，正确识别哪些患者处于最高风险并需要紧急干预，从而更有效地分配有限资源，比准确预测生存时间更为关键，因此更为相关。'
- en: '*Credit risk — finance* Financial institutions employ survival models to rank
    borrowers based on their risk of default. Thus, they are more concerned on identifying
    the riskiest customers to make more informed lending decisions rather than focusing
    on the exact month of default. This would positively guide loan approvals (among
    others).'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '*信用风险 — 金融* 金融机构利用生存模型根据借款人的违约风险对其进行排序。因此，他们更关心识别最具风险的客户，以便做出更明智的贷款决策，而不是专注于违约的具体月份。这将积极指导贷款审批（等）。'
- en: On the above, the **relative ranking** of subjects (e.g., who is at higher or
    lower risk) directly drives actionable decisions and resource allocation. Absolute
    error in survival time predictions may not significantly affect the outcomes,
    as long as the ranking accuracy (C-index) remains high. This demonstrates why
    models with high C-index can be highly effective, even when their absolute predictions
    are less precise.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述情况下，受试者的**相对排名**（例如，谁处于更高或更低的风险）直接驱动可操作的决策和资源分配。生存时间预测中的绝对误差可能不会显著影响结果，只要排名准确性（C指数）保持较高。这表明，即使模型的绝对预测不够精确，具有高C指数的模型仍然能非常有效。
- en: IN SUMMARY
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 总结
- en: In survival analysis, it is crucial to distinguish between **absolute error**
    and **ranking accuracy**. Absolute error refers to the difference between the
    predicted and actual event times, in this analysis measured in days. Metrics such
    as Mean Absolute Error (MAE) or Root Mean Squared Error (RMSE) are used to quantify
    the magnitude of these discrepancies hence measuring the overall predictive accuracy
    of the model. However, these metrics do not capture the model’s ability to correctly
    rank subjects by their likelihood of experiencing the event sooner or later.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在生存分析中，区分**绝对误差**和**排名准确性**至关重要。绝对误差是指预测与实际事件时间之间的差异，在本分析中通常以天数衡量。诸如平均绝对误差（MAE）或均方根误差（RMSE）等指标用于量化这些差异的大小，从而衡量模型的整体预测准确性。然而，这些指标无法捕捉模型正确根据受试者发生事件的早晚排序的能力。
- en: '**Ranking accuracy,** on the other hand evaluates how well the model orders
    subjects based on their predicted risk, regardless of the exact time prediction
    as illustrated above. This is where the **concordance index (C-index)** plays
    a key role. The C-index measures the model’s ability to correctly rank pairs of
    individuals, with higher values indicating better ranking accuracy. A C-index
    of 0.88 suggests that the model successfully ranks the risk of membership termination
    correctly 88% of the time.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '**排名准确性**，另一方面，评估模型如何根据预测的风险对受试者进行排序，而不考虑如上所示的确切时间预测。这就是**一致性指数（C指数）**发挥关键作用的地方。C指数衡量模型正确排序个体对的能力，值越高表示排名准确性越好。C指数为0.88表明模型成功地以88%的准确率正确排序会员终止风险。'
- en: Thus, while absolute error provides valuable insights into the precision of
    time predictions, the C-index focuses on the model’s ability to rank subjects
    correctly, which is often more important in survival analysis. A model with a
    high C-index can be highly effective in ranking individuals, even if it has some
    degree of absolute error, making it a powerful tool for predicting relative risks
    over time.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，虽然绝对误差提供了有关时间预测精度的宝贵见解，但C指数更关注模型正确排序受试者的能力，这在生存分析中通常更为重要。具有高C指数的模型，即使存在一定程度的绝对误差，也能在排序个体时非常有效，使其成为预测相对风险随时间变化的强大工具。
