- en: How to Read and Analyze GDAT Files Using Python
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿ç”¨ Python é˜…è¯»å’Œåˆ†æ GDAT æ–‡ä»¶
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-read-and-analyze-gdat-files-using-python-5c8dece157d4?source=collection_archive---------10-----------------------#2024-04-18](https://towardsdatascience.com/how-to-read-and-analyze-gdat-files-using-python-5c8dece157d4?source=collection_archive---------10-----------------------#2024-04-18)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-read-and-analyze-gdat-files-using-python-5c8dece157d4?source=collection_archive---------10-----------------------#2024-04-18](https://towardsdatascience.com/how-to-read-and-analyze-gdat-files-using-python-5c8dece157d4?source=collection_archive---------10-----------------------#2024-04-18)
- en: A quick tutorial on how to work with these computer-modelled binary files.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä»½å…³äºå¦‚ä½•å¤„ç†è¿™äº›è®¡ç®—æœºå»ºæ¨¡çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„å¿«é€Ÿæ•™ç¨‹ã€‚
- en: '[](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)[![Madison
    Hunter](../Images/fa84176a13175e75944b49e110b92e14.png)](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)
    [Madison Hunter](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)[![Madison
    Hunter](../Images/fa84176a13175e75944b49e110b92e14.png)](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)
    [Madison Hunter](https://madison13.medium.com/?source=post_page---byline--5c8dece157d4--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)
    Â·9 min readÂ·Apr 18, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--5c8dece157d4--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 9 åˆ†é’ŸÂ·2024å¹´4æœˆ18æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/58606c4133be520f96406ac6d15f979c.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/58606c4133be520f96406ac6d15f979c.png)'
- en: Photo by [Werclive ğŸ‘¹](https://unsplash.com/@werclive?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºï¼š[Werclive ğŸ‘¹](https://unsplash.com/@werclive?utm_source=medium&utm_medium=referral)
    äº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Data comes in all shapes and sizes.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æœ‰å„ç§å½¢å¼å’Œå¤§å°ã€‚
- en: While many of us spend most of our data education and careers working with data
    in relatively â€œfriendlyâ€ formats, such as spreadsheets and CSV files, there may
    come a time when youâ€™re confronted with data that isnâ€™t so friendly. You might
    not even be able to visualize it straight out of the box.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡æˆ‘ä»¬ä¸­çš„è®¸å¤šäººåœ¨æ•°æ®æ•™è‚²å’ŒèŒä¸šç”Ÿæ¶¯ä¸­å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨å¤„ç†ç›¸å¯¹â€œå‹å¥½â€çš„æ•°æ®æ ¼å¼ï¼Œå¦‚ç”µå­è¡¨æ ¼å’Œ CSV æ–‡ä»¶ï¼Œä½†æ€»æœ‰ä¸€å¤©ä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›ä¸å¤ªå‹å¥½çš„æ•°æ®ã€‚ä½ ç”šè‡³å¯èƒ½æ— æ³•ç›´æ¥ä»è¿™äº›æ•°æ®ä¸­è¿›è¡Œå¯è§†åŒ–ã€‚
- en: This happened to me recently, when a computer model I was running was outputting
    data in a gridded binary format. The tricky thing about binary files is figuring
    out how to read them to access and analyze their contained data. After scouring
    the edges of the internet for a solution, I cobbled together a simple Python function
    that allows you to read gridded binary data so that it can later be analyzed using
    your favorite Python libraries, such as matplotlib, or NumPy.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ€è¿‘å‘ç”Ÿåœ¨æˆ‘èº«ä¸Šï¼Œå½“æ—¶æˆ‘è¿è¡Œçš„ä¸€ä¸ªè®¡ç®—æœºæ¨¡å‹è¾“å‡ºäº†ä¸€ä¸ªç½‘æ ¼åŒ–çš„äºŒè¿›åˆ¶æ ¼å¼æ•°æ®ã€‚äºŒè¿›åˆ¶æ–‡ä»¶çš„éš¾ç‚¹åœ¨äºå¼„æ¸…æ¥šå¦‚ä½•è¯»å–å®ƒä»¬ï¼Œä»¥ä¾¿è®¿é—®å’Œåˆ†æå…¶ä¸­çš„æ•°æ®ã€‚åœ¨æµè§ˆäº’è”ç½‘å¯»æ‰¾è§£å†³æ–¹æ¡ˆåï¼Œæˆ‘æ‹¼å‡‘å‡ºäº†ä¸€ä¸ªç®€å•çš„
    Python å‡½æ•°ï¼Œå…è®¸ä½ è¯»å–ç½‘æ ¼åŒ–çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå¯ä»¥ä½¿ç”¨ä½ å–œæ¬¢çš„ Python åº“ï¼ˆå¦‚ matplotlib æˆ– NumPyï¼‰å¯¹å…¶è¿›è¡Œåˆ†æã€‚
- en: 'This niche solution will allow you to read gridded binary data files with GDAT
    file endings produced from computer models, particularly those modeling natural
    processes, such as environmental or meteorological phenomena. As such, the code
    below makes these assumptions:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªä¸“ä¸šè§£å†³æ–¹æ¡ˆå°†å¸®åŠ©ä½ è¯»å–ç”±è®¡ç®—æœºæ¨¡å‹ç”Ÿæˆçš„ã€å…·æœ‰ GDAT æ–‡ä»¶æ‰©å±•åçš„ç½‘æ ¼åŒ–äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å»ºæ¨¡è‡ªç„¶è¿‡ç¨‹çš„æ–‡ä»¶ï¼Œå¦‚ç¯å¢ƒæˆ–æ°”è±¡ç°è±¡ã€‚å› æ­¤ï¼Œä¸‹é¢çš„ä»£ç å‡è®¾ä»¥ä¸‹å‡ ç‚¹ï¼š
- en: Your GDAT file follows [GrADS](http://cola.gmu.edu/grads/) conventions (though
    this will likely work for various other binary files).
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½ çš„ GDAT æ–‡ä»¶éµå¾ª [GrADS](http://cola.gmu.edu/grads/) è§„èŒƒï¼ˆå°½ç®¡è¿™ä¹Ÿå¯èƒ½é€‚ç”¨äºå…¶ä»–å„ç§äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ã€‚
- en: Your GDAT file represents a gridded study area over a specified study period.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½ çš„ GDAT æ–‡ä»¶è¡¨ç¤ºåœ¨æŒ‡å®šç ”ç©¶æœŸé—´å†…ä¸€ä¸ªç½‘æ ¼åŒ–çš„ç ”ç©¶åŒºåŸŸã€‚
- en: In the GDAT file, there is a grid of data values for each day in the specified
    study period.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ GDAT æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€å¤©çš„æ•°æ®å€¼éƒ½ç»„æˆä¸€ä¸ªç½‘æ ¼ï¼Œè¦†ç›–æŒ‡å®šçš„ç ”ç©¶æœŸé—´ã€‚
- en: Each cell in the grid of data values contains a tuple of values.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæ•°æ®å€¼ç½‘æ ¼ä¸­çš„å•å…ƒæ ¼åŒ…å«ä¸€ä¸ªå€¼çš„å…ƒç»„ã€‚
- en: The grid of data values has a set number of rows and columns that can be used
    to index cells.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°æ®å€¼çš„ç½‘æ ¼æœ‰å›ºå®šçš„è¡Œåˆ—æ•°ï¼Œå¯ç”¨äºç´¢å¼•å•å…ƒæ ¼ã€‚
- en: '![](../Images/1d2bd1f4334c609319a16f93f7d4f316.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1d2bd1f4334c609319a16f93f7d4f316.png)'
- en: Visual representation of the gridded binary data, with each grid of values representing
    a study area organized into days (for each day of the study period). The cells
    in each grid can be indexed using row and column indices. Figure by the author
    using [Canva](https://www.canva.com/).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®çš„ç½‘æ ¼åŒ–äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œæ¯ä¸ªå€¼çš„ç½‘æ ¼è¡¨ç¤ºä¸€ä¸ªæŒ‰å¤©ç»„ç»‡çš„ç ”ç©¶åŒºåŸŸï¼ˆå¯¹åº”ç ”ç©¶æœŸå†…çš„æ¯ä¸€å¤©ï¼‰ã€‚æ¯ä¸ªç½‘æ ¼ä¸­çš„å•å…ƒæ ¼å¯ä»¥é€šè¿‡è¡Œåˆ—ç´¢å¼•æ¥è®¿é—®ã€‚å›¾ç¤ºç”±ä½œè€…ä½¿ç”¨ [Canva](https://www.canva.com/)
    åˆ›å»ºã€‚
- en: Reading the binary GDAT file
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯»å–äºŒè¿›åˆ¶ GDAT æ–‡ä»¶
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The above code reads a binary GDAT file and structures its data to resemble
    the grid of your study area for easier interpretation and analysis.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°ä»£ç è¯»å–ä¸€ä¸ªäºŒè¿›åˆ¶ GDAT æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ•°æ®ç»“æ„åŒ–ä¸ºç±»ä¼¼äºç ”ç©¶åŒºåŸŸç½‘æ ¼çš„å½¢å¼ï¼Œä¾¿äºåç»­çš„è§£é‡Šå’Œåˆ†æã€‚
- en: '**import struct**: [struct](https://docs.python.org/3/library/struct.html)
    is a Python module that allows you to work with binary data. This module contains
    functions that allow you to convert binary data into Python objects and vice versa.'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**import struct**ï¼š[struct](https://docs.python.org/3/library/struct.html) æ˜¯ä¸€ä¸ª
    Python æ¨¡å—ï¼Œå…è®¸ä½ å¤„ç†äºŒè¿›åˆ¶æ•°æ®ã€‚è¯¥æ¨¡å—åŒ…å«å…è®¸ä½ å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸º Python å¯¹è±¡ä»¥åŠåå‘è½¬æ¢çš„å‡½æ•°ã€‚'
- en: '**def read_gdat_file(file_path, format_string, number_rows, number_columns,
    number_days):** This line begins the function that will allow us to read a binary
    file. For it to work, we will need to pass in arguments that detail the path to
    the correct GDAT file, the format type of the GDAT file, the number of rows and
    columns representing the study area, and finally the number of days the GDAT data
    covers. Knowing the number of days represented in the GDAT file allows the function
    to correctly partition the binary data into the rows and columns necessary to
    represent the study area for each day. This facilitates accurate analysis of the
    data later on. You should be able to find the number of days, as well as the number
    of rows and columns needed to represent the study area within whatever computer
    model parameters youâ€™re using to generate the GDAT data.'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**def read_gdat_file(file_path, format_string, number_rows, number_columns,
    number_days):** è¿™ä¸€è¡Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä¸ºäº†ä½¿å…¶æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€äº›å‚æ•°ï¼Œè¯¦ç»†æè¿°æ­£ç¡® GDAT æ–‡ä»¶çš„è·¯å¾„ã€GDAT
    æ–‡ä»¶çš„æ ¼å¼ç±»å‹ã€è¡¨ç¤ºç ”ç©¶åŒºåŸŸçš„è¡Œå’Œåˆ—çš„æ•°é‡ï¼Œä»¥åŠ GDAT æ•°æ®æ‰€è¦†ç›–çš„å¤©æ•°ã€‚çŸ¥é“ GDAT æ–‡ä»¶ä¸­è¡¨ç¤ºçš„å¤©æ•°ï¼Œèƒ½å¤Ÿå¸®åŠ©è¯¥å‡½æ•°å°†äºŒè¿›åˆ¶æ•°æ®æ­£ç¡®åœ°åˆ’åˆ†ä¸ºè¡¨ç¤ºæ¯ä¸€å¤©ç ”ç©¶åŒºåŸŸæ‰€éœ€çš„è¡Œå’Œåˆ—ï¼Œè¿™æœ‰åŠ©äºä¹‹åçš„æ•°æ®åˆ†æã€‚ä½ åº”è¯¥èƒ½å¤Ÿåœ¨ç”¨äºç”Ÿæˆ
    GDAT æ•°æ®çš„è®¡ç®—æœºæ¨¡å‹å‚æ•°ä¸­æ‰¾åˆ°å¤©æ•°ã€ä»¥åŠè¡¨ç¤ºç ”ç©¶åŒºåŸŸæ‰€éœ€çš„è¡Œåˆ—æ•°ã€‚'
- en: '**data = []**: This line initializes an empty Python list that will be used
    to contain the GDAT data in its final grid format.'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**data = []**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Python åˆ—è¡¨ï¼Œå°†ç”¨äºå­˜å‚¨æœ€ç»ˆç½‘æ ¼æ ¼å¼çš„ GDAT æ•°æ®ã€‚'
- en: '**with open(file_path, â€˜rbâ€™) as f:** This line opens the binary file in read
    mode (designated by the **â€˜rbâ€™** argument), allowing the function to access its
    data. Opening the binary file using the **â€˜withâ€™** statement ensures that the
    file is closed after you have accessed the data.'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**with open(file_path, â€˜rbâ€™) as f:** è¿™ä¸€è¡Œä»¥è¯»å–æ¨¡å¼ï¼ˆç”±**â€˜rbâ€™** å‚æ•°æŒ‡å®šï¼‰æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…è®¸å‡½æ•°è®¿é—®å…¶ä¸­çš„æ•°æ®ã€‚ä½¿ç”¨
    **â€˜withâ€™** è¯­å¥æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç¡®ä¿åœ¨è®¿é—®å®Œæ•°æ®åè‡ªåŠ¨å…³é—­æ–‡ä»¶ã€‚'
- en: '**for _ in range(number_days):** This for loop iterates through the binary
    data and reads the data for each specified day. Iâ€™ve opted to use an underscore
    in this for loop (as well as the following for loops) because the variable doesnâ€™t
    need to have a name as I will not be using it later. You can use typical iteration
    counter variables, such as **i**, or **j** if it better suits your programming
    style.'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**for _ in range(number_days):** è¿™ä¸ª for å¾ªç¯éå†äºŒè¿›åˆ¶æ•°æ®ï¼Œè¯»å–æ¯ä¸€å¤©çš„æ•°æ®ã€‚åœ¨è¿™ä¸ª for å¾ªç¯ï¼ˆä»¥åŠæ¥ä¸‹æ¥çš„
    for å¾ªç¯ï¼‰ä¸­ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œå› ä¸ºè¿™ä¸ªå˜é‡ä¸éœ€è¦å‘½åï¼Œå› ä¸ºæˆ‘åç»­ä¸ä¼šä½¿ç”¨å®ƒã€‚å¦‚æœä½ çš„ç¼–ç¨‹é£æ ¼æ›´å–œæ¬¢ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¸å‹çš„è¿­ä»£è®¡æ•°å™¨å˜é‡ï¼Œä¾‹å¦‚ **i**
    æˆ– **j**ã€‚'
- en: '**day_data = []**: This line initializes an empty Python list that will be
    used to contain the binary data for each day. It will contain all of the rows
    of binary data relating to that specific day.'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**day_data = []**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Python åˆ—è¡¨ï¼Œå°†ç”¨äºå­˜å‚¨æ¯ä¸€å¤©çš„äºŒè¿›åˆ¶æ•°æ®ã€‚å®ƒå°†åŒ…å«ä¸ç‰¹å®šæ—¥æœŸç›¸å…³çš„æ‰€æœ‰è¡Œçš„äºŒè¿›åˆ¶æ•°æ®ã€‚'
- en: '**for _ in range(number_rows):** This for loop iterates through the specified
    number of rows within the specified day.'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**for _ in range(number_rows):** è¿™ä¸ª for å¾ªç¯åœ¨æŒ‡å®šæ—¥æœŸå†…éå†æŒ‡å®šæ•°é‡çš„è¡Œã€‚'
- en: '**row_data = []**: This line initializes an empty Python list that will be
    used to contain the binary data for the current row within the specified day.'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**row_data = []**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Python åˆ—è¡¨ï¼Œå°†ç”¨äºå­˜å‚¨æŒ‡å®šæ—¥æœŸå†…å½“å‰è¡Œçš„äºŒè¿›åˆ¶æ•°æ®ã€‚'
- en: '**for _ in range(number_columns):** This for loop iterates through the data
    found in the specified number of columns within the specified row.'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**for _ in range(number_columns):** è¿™ä¸ªforå¾ªç¯ä¼šéå†æŒ‡å®šè¡Œä¸­æŒ‡å®šåˆ—æ•°çš„æ•°æ®ã€‚'
- en: '**value = struct.unpack(format_string, f.read(4))[0]**: This line initializes
    a variable called **value** and, using the **unpack** function from the **struct**
    module, reads however many bytes of binary data from the GDAT file at a time and
    interprets it according to the **format_string** specified (read section [â€œFormat
    Charactersâ€](https://docs.python.org/3/library/struct.html) to understand which
    format string you need to specify). The **unpack** function returns a tuple. In
    the code line, **[0]** is placed at the end to indicate that the function should
    only return the first (and in some instances, the only) value of the tuple. If
    each cell in your modeled study area contains a tuple with multiple values, it
    is unnecessary to include **[0]** at the end of the line unless youâ€™re only interested
    in one of the cell values. For example, a scenario where you may have cells containing
    tuples with multiple values arises when the value measured in the cell has x and
    y components (i.e., wind).'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**value = struct.unpack(format_string, f.read(4))[0]**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–äº†ä¸€ä¸ªåä¸º**value**çš„å˜é‡ï¼Œå¹¶ä½¿ç”¨**struct**æ¨¡å—ä¸­çš„**unpack**å‡½æ•°ï¼Œæ¯æ¬¡ä»GDATæ–‡ä»¶ä¸­è¯»å–ä¸€å®šæ•°é‡çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶æ ¹æ®æŒ‡å®šçš„**format_string**è¿›è¡Œè§£æï¼ˆé˜…è¯»[â€œæ ¼å¼å­—ç¬¦â€](https://docs.python.org/3/library/struct.html)éƒ¨åˆ†ä»¥äº†è§£éœ€è¦æŒ‡å®šçš„æ ¼å¼å­—ç¬¦ä¸²ï¼‰ã€‚**unpack**å‡½æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ã€‚åœ¨è¿™ä¸€è¡Œä»£ç ä¸­ï¼Œ**[0]**æ”¾åœ¨æœ«å°¾ï¼Œè¡¨ç¤ºå‡½æ•°åº”è¯¥åªè¿”å›å…ƒç»„ä¸­çš„ç¬¬ä¸€ä¸ªï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹æ˜¯å”¯ä¸€çš„ï¼‰å€¼ã€‚å¦‚æœæ¯ä¸ªå•å…ƒæ ¼ä¸­åŒ…å«ä¸€ä¸ªæœ‰å¤šä¸ªå€¼çš„å…ƒç»„ï¼Œåˆ™é™¤éä½ åªå¯¹å…¶ä¸­ä¸€ä¸ªå•å…ƒæ ¼çš„å€¼æ„Ÿå…´è¶£ï¼Œå¦åˆ™æœ«å°¾æ— éœ€åŠ ä¸Š**[0]**ã€‚ä¾‹å¦‚ï¼Œå½“å•å…ƒæ ¼ä¸­çš„å€¼åŒ…å«xå’Œyåˆ†é‡ï¼ˆä¾‹å¦‚é£é€Ÿï¼‰æ—¶ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªå€¼çš„å…ƒç»„ã€‚'
- en: '**row_data.append(value):** This line appends the unpacked float value to **row_data,**
    which represents the current row.'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**row_data.append(value):** è¿™ä¸€è¡Œå°†è§£åŒ…åçš„æµ®åŠ¨å€¼é™„åŠ åˆ°**row_data**ä¸­ï¼Œ**row_data**ä»£è¡¨å½“å‰è¡Œã€‚'
- en: '**day_data.append(row_data):** This line appends the current row to **day_data**,
    which represents the current day.'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**day_data.append(row_data):** è¿™ä¸€è¡Œå°†å½“å‰è¡Œé™„åŠ åˆ°**day_data**ä¸­ï¼Œ**day_data**ä»£è¡¨å½“å‰çš„ä¸€å¤©ã€‚'
- en: '**data.append(day_data):** This line appends the data for the current day to
    **data**, which represents the overall dataset.'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**data.append(day_data):** è¿™ä¸€è¡Œå°†å½“å‰ä¸€å¤©çš„æ•°æ®é™„åŠ åˆ°**data**ä¸­ï¼Œ**data**ä»£è¡¨æ•´ä¸ªæ•°æ®é›†ã€‚'
- en: '**return data**: This function will continue iterating through the binary data
    file until it has read the grid data for each day into the overall dataset, designated
    as **data**. This line returns the overall dataset, converted from the binary
    file into a Python list. **data** returns gridded data separated into each day
    of the study period. This dataset can now be analyzed.'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**return data**ï¼šè¿™ä¸ªå‡½æ•°å°†ç»§ç»­éå†äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼Œç›´åˆ°å®ƒå°†æ¯ä¸€å¤©çš„ç½‘æ ¼æ•°æ®è¯»å–åˆ°æ•´ä½“æ•°æ®é›†**data**ä¸­ã€‚è¿™ä¸€è¡Œè¿”å›æ•´ä½“æ•°æ®é›†ï¼Œå°†äºŒè¿›åˆ¶æ–‡ä»¶è½¬æ¢ä¸ºPythonåˆ—è¡¨ã€‚**data**è¿”å›çš„æ˜¯æŒ‰å¤©åˆ’åˆ†çš„ç½‘æ ¼æ•°æ®ã€‚ç°åœ¨å¯ä»¥å¯¹è¿™ä¸ªæ•°æ®é›†è¿›è¡Œåˆ†æäº†ã€‚'
- en: Returning the data for a particular cell in the study area grid for the entire
    study period
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¿”å›ç ”ç©¶åŒºåŸŸç½‘æ ¼ä¸­ç‰¹å®šå•å…ƒæ ¼çš„æ•´ä¸ªç ”ç©¶æœŸé—´çš„æ•°æ®ã€‚
- en: While your computer model likely produces data for a large study area, you may
    only be interested in analyzing the data for a particular cell within the grid
    across the entire study period.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ä½ çš„è®¡ç®—æœºæ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªå¤§èŒƒå›´ç ”ç©¶åŒºåŸŸçš„æ•°æ®ï¼Œä½†ä½ å¯èƒ½åªå¯¹åˆ†æç ”ç©¶æœŸé—´å†…ç½‘æ ¼ä¸­ç‰¹å®šå•å…ƒæ ¼çš„æ•°æ®æ„Ÿå…´è¶£ã€‚
- en: Say, for example, you want to see how closely the computer model produced wind
    speed values compared to observed wind speed values. There exists a meteorological
    station with wind speed observations in a particular cell. We will extract the
    data for the cell containing the meteorological station for the entire study period,
    after which you will be able to plot the observed versus the modeled data to determine
    how accurate the model is.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”å¦‚è¯´ï¼Œä½ æƒ³çœ‹çœ‹è®¡ç®—æœºæ¨¡å‹ç”Ÿæˆçš„é£é€Ÿå€¼ä¸è§‚æµ‹çš„é£é€Ÿå€¼ä¹‹é—´çš„åŒ¹é…åº¦ã€‚å­˜åœ¨ä¸€ä¸ªæ°”è±¡ç«™ï¼Œå®ƒåœ¨æŸä¸ªç‰¹å®šå•å…ƒæ ¼ä¸­æä¾›é£é€Ÿè§‚æµ‹æ•°æ®ã€‚æˆ‘ä»¬å°†æå–è¯¥åŒ…å«æ°”è±¡ç«™çš„å•å…ƒæ ¼æ•°æ®ï¼Œè¦†ç›–æ•´ä¸ªç ”ç©¶å‘¨æœŸï¼Œä¹‹åä½ å¯ä»¥ç»˜åˆ¶è§‚æµ‹æ•°æ®ä¸æ¨¡å‹æ•°æ®çš„å¯¹æ¯”å›¾ï¼Œä»¥ç¡®å®šæ¨¡å‹çš„å‡†ç¡®åº¦ã€‚
- en: The Python function below uses the Python list data returned from the previous
    function.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„Pythonå‡½æ•°ä½¿ç”¨äº†ä»ä¹‹å‰çš„å‡½æ•°è¿”å›çš„Pythonåˆ—è¡¨æ•°æ®ã€‚
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The above code extracts the specified cell data for the entire study period.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°ä»£ç æå–äº†æ•´ä¸ªç ”ç©¶æœŸé—´å†…æŒ‡å®šå•å…ƒæ ¼çš„æ•°æ®ã€‚
- en: '**def read_cell_data_for_study_period(data, row_index, column_index)**: This
    line begins the function that will extract the cell data for a specified cell
    using a row index and a column index to specify the cellâ€™s location. The **data**
    argument takes the variable containing the list holding the GDAT data in its final
    grid format (this was created using the previous function). The **row_index**
    and **column_index** arguments take the integers specifying the row and column
    where the cell of interest is located.'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**def read_cell_data_for_study_period(data, row_index, column_index)**ï¼šè¿™ä¸€è¡Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†ä½¿ç”¨è¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•æå–æŒ‡å®šå•å…ƒæ ¼çš„æ•°æ®ã€‚**data**å‚æ•°æ¥æ”¶åŒ…å«ä»¥æœ€ç»ˆç½‘æ ¼æ ¼å¼å­˜å‚¨çš„GDATæ•°æ®çš„åˆ—è¡¨ï¼ˆè¿™æ˜¯é€šè¿‡å‰é¢çš„å‡½æ•°åˆ›å»ºçš„ï¼‰ã€‚**row_index**å’Œ**column_index**å‚æ•°æ¥æ”¶æŒ‡å®šå•å…ƒæ ¼æ‰€åœ¨è¡Œå’Œåˆ—çš„æ•´æ•°å€¼ã€‚'
- en: '**cell_data = []**: This line initializes an empty Python list that will contain
    the cell data for the entire study period.'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**cell_data = []**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–äº†ä¸€ä¸ªç©ºçš„Pythonåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨æ•´ä¸ªç ”ç©¶æœŸé—´çš„å•å…ƒæ ¼æ•°æ®ã€‚'
- en: '**for day_data in data:** This for loop iterates through the gridded data for
    each day of the study period.'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**for day_data in data:** è¿™ä¸ªforå¾ªç¯éå†ç ”ç©¶æœŸé—´æ¯ä¸€å¤©çš„ç½‘æ ¼æ•°æ®ã€‚'
- en: '**reversed_day_data = day_data[::-1]**: This optional line of code is used
    if, upon printing out the cell data for the specified study period, you find that
    the gridded data is not being read from the correct starting point. In most scenarios,
    gridded data will be read from the upper left corner and will therefore be â€œ0
    indexedâ€. However, in some scenarios, the gridded data is read from the lower
    left corner. This phenomenon causes the grid indexing to be wrong, resulting in
    the wrong cell being read using your specified **row_index** and **column_index**.
    Therefore, this optional line of code flips the gridded data vertically so it
    is read beginning from the upper left corner. **Note: This line should only be
    used if it is determined that the grid of data is being read from the lower left
    corner. Omit this line if your data grid is being read correctly to avoid erroneous
    data readings.**'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**reversed_day_data = day_data[::-1]**ï¼šè¿™ä¸€è¡Œæ˜¯å¯é€‰çš„ï¼Œå¦‚æœåœ¨æ‰“å°æŒ‡å®šç ”ç©¶æœŸé—´çš„å•å…ƒæ ¼æ•°æ®æ—¶å‘ç°ç½‘æ ¼æ•°æ®æ²¡æœ‰ä»æ­£ç¡®çš„èµ·å§‹ç‚¹è¯»å–ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸€è¡Œã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç½‘æ ¼æ•°æ®æ˜¯ä»å·¦ä¸Šè§’è¯»å–çš„ï¼Œå› æ­¤æ˜¯â€œ0ç´¢å¼•â€ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç½‘æ ¼æ•°æ®æ˜¯ä»å·¦ä¸‹è§’è¯»å–çš„ã€‚è¿™ç§ç°è±¡ä¼šå¯¼è‡´ç½‘æ ¼ç´¢å¼•é”™è¯¯ï¼Œä»è€Œå¯¼è‡´ä½¿ç”¨æŒ‡å®šçš„**row_index**å’Œ**column_index**è®¿é—®åˆ°é”™è¯¯çš„å•å…ƒæ ¼ã€‚å› æ­¤ï¼Œè¿™ä¸€è¡Œä»£ç å°†ç½‘æ ¼æ•°æ®å‚ç›´ç¿»è½¬ï¼Œä½¿å…¶ä»å·¦ä¸Šè§’å¼€å§‹è¯»å–ã€‚**æ³¨æ„ï¼šæ­¤è¡Œä»£ç åªåº”åœ¨ç¡®å®šæ•°æ®ç½‘æ ¼æ˜¯ä»å·¦ä¸‹è§’è¯»å–æ—¶ä½¿ç”¨ã€‚å¦‚æœä½ çš„æ•°æ®ç½‘æ ¼è¢«æ­£ç¡®è¯»å–ï¼Œé¿å…ä½¿ç”¨æ­¤è¡Œä»¥é˜²æ­¢é”™è¯¯çš„æ•°æ®è¯»å–ã€‚**'
- en: '**cell_value = reversed_day_data[row_index][column_index]**: This line initializes
    a variable called **cell_value** which will contain the cell data at the specified
    row and column index for each day of the study period. As you can see, your specified
    **row_index** and **column_index** arguments are used to access the correct cell
    in the gridded data.'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**cell_value = reversed_day_data[row_index][column_index]**ï¼šè¿™ä¸€è¡Œåˆå§‹åŒ–äº†ä¸€ä¸ªåä¸º**cell_value**çš„å˜é‡ï¼Œå®ƒå°†å­˜å‚¨æ¯ä¸€å¤©ç ”ç©¶æœŸé—´æŒ‡å®šè¡Œå’Œåˆ—ç´¢å¼•ä½ç½®çš„å•å…ƒæ ¼æ•°æ®ã€‚å¦‚ä½ æ‰€è§ï¼ŒæŒ‡å®šçš„**row_index**å’Œ**column_index**å‚æ•°ç”¨äºè®¿é—®ç½‘æ ¼æ•°æ®ä¸­çš„æ­£ç¡®å•å…ƒæ ¼ã€‚'
- en: '**cell_data.append(cell_value)**: This line appends the cell data for the current
    day to **cell_data**, which represents the overall list containing all of the
    cell values for the entire study period.'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**cell_data.append(cell_value)**ï¼šè¿™ä¸€è¡Œå°†å½“å‰ä¸€å¤©çš„å•å…ƒæ ¼æ•°æ®æ·»åŠ åˆ°**cell_data**ä¸­ï¼Œåè€…è¡¨ç¤ºåŒ…å«æ•´ä¸ªç ”ç©¶æœŸé—´æ‰€æœ‰å•å…ƒæ ¼å€¼çš„æ•´ä½“åˆ—è¡¨ã€‚'
- en: '**return cell_data**: This function will continue iterating through each day
    of data and appending the value at a specific cell to the list designated as **cell_data**.
    This line returns the list, after which you will be able to print out and analyze
    the cell values for each day of the study period.'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**return cell_data**ï¼šè¿™ä¸ªå‡½æ•°å°†ç»§ç»­éå†æ¯ä¸€å¤©çš„æ•°æ®ï¼Œå¹¶å°†æŒ‡å®šå•å…ƒæ ¼çš„å€¼æ·»åŠ åˆ°åä¸º**cell_data**çš„åˆ—è¡¨ä¸­ã€‚è¿™ä¸€è¡Œè¿”å›è¯¥åˆ—è¡¨ï¼Œä¹‹åä½ å°†èƒ½å¤Ÿæ‰“å°å¹¶åˆ†æç ”ç©¶æœŸé—´æ¯ä¸€å¤©çš„å•å…ƒæ ¼å€¼ã€‚'
- en: Example of how you can analyze cell data
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•åˆ†æå•å…ƒæ ¼æ•°æ®çš„ç¤ºä¾‹
- en: '[PRE2]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Troubleshooting
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ•…éšœæ’é™¤
- en: Read your computer model documentation to understand how its output is formatted.
    This will help you determine which values you want to extract from the tuple of
    data representing each cell, as well as what format the cell values are in (i.e.,
    floating point, etc.).
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é˜…è¯»ä½ çš„è®¡ç®—æœºæ¨¡å‹æ–‡æ¡£ï¼Œä»¥äº†è§£å…¶è¾“å‡ºæ ¼å¼ã€‚è¿™å°†å¸®åŠ©ä½ ç¡®å®šä»è¡¨ç¤ºæ¯ä¸ªå•å…ƒæ ¼çš„æ•°æ®å…ƒç»„ä¸­æå–å“ªäº›å€¼ï¼Œä»¥åŠå•å…ƒæ ¼æ•°æ®çš„æ ¼å¼ï¼ˆä¾‹å¦‚æµ®ç‚¹æ•°ç­‰ï¼‰ã€‚
- en: If possible, create TIF files from your GDAT files and open them in a GIS program.
    This will allow you to visualize your gridded data, as well as to check that your
    gridded data is being read from the upper left corner by the function used to
    read cell data for each day of your study period.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœå¯èƒ½ï¼Œä»æ‚¨çš„ GDAT æ–‡ä»¶åˆ›å»º TIF æ–‡ä»¶ï¼Œå¹¶åœ¨ GIS ç¨‹åºä¸­æ‰“å¼€å®ƒä»¬ã€‚è¿™å°†ä½¿æ‚¨èƒ½å¤Ÿå¯è§†åŒ–æ‚¨çš„ç½‘æ ¼æ•°æ®ï¼Œå¹¶æ£€æŸ¥ç”¨äºè¯»å–æ¯ä¸€å¤©ç ”ç©¶æœŸé—´å•å…ƒæ ¼æ•°æ®çš„å‡½æ•°æ˜¯å¦ä»å·¦ä¸Šè§’å¼€å§‹è¯»å–ç½‘æ ¼æ•°æ®ã€‚
- en: 'Subscribe to get my stories sent directly to your inbox: [Story Subscription](https://madison13.medium.com/subscribe)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: è®¢é˜…ä»¥ç›´æ¥å°†æˆ‘çš„æ•…äº‹å‘é€åˆ°æ‚¨çš„æ”¶ä»¶ç®±ï¼š[æ•…äº‹è®¢é˜…](https://madison13.medium.com/subscribe)
- en: 'Please become a member to get unlimited access to Medium using my referral
    link (I will receive a small commission at no extra cost to you): [Medium Membership](https://madison13.medium.com/membership)'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æˆä¸ºä¼šå‘˜ï¼Œé€šè¿‡æˆ‘çš„æ¨èé“¾æ¥è·å¾—æ— é™è®¿é—® Medium çš„æƒé™ï¼ˆæ‚¨æ— éœ€æ”¯ä»˜é¢å¤–è´¹ç”¨ï¼Œæˆ‘ä¼šæ”¶åˆ°å°‘é‡ä½£é‡‘ï¼‰ï¼š[Medium ä¼šå‘˜](https://madison13.medium.com/membership)
- en: 'Subscribe to my newsletter to get more exclusive data-driven content with an
    environmentalist spin: [DataDrivenEnvironmentalist](https://datadrivenenvironmentalist.substack.com/?r=1kyrup&utm_campaign=pub-share-checklist)'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: è®¢é˜…æˆ‘çš„æ–°é—»é€šè®¯ï¼Œè·å–æ›´å¤šå¸¦æœ‰ç¯ä¿ä¸»ä¹‰è§†è§’çš„æ•°æ®é©±åŠ¨å†…å®¹ï¼š[DataDrivenEnvironmentalist](https://datadrivenenvironmentalist.substack.com/?r=1kyrup&utm_campaign=pub-share-checklist)
