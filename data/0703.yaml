- en: Visualize a Business Process Through Data Serialization
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过数据序列化可视化业务流程
- en: 原文：[https://towardsdatascience.com/visualize-a-business-process-through-data-serialization-772cd9510c31?source=collection_archive---------4-----------------------#2024-03-15](https://towardsdatascience.com/visualize-a-business-process-through-data-serialization-772cd9510c31?source=collection_archive---------4-----------------------#2024-03-15)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/visualize-a-business-process-through-data-serialization-772cd9510c31?source=collection_archive---------4-----------------------#2024-03-15](https://towardsdatascience.com/visualize-a-business-process-through-data-serialization-772cd9510c31?source=collection_archive---------4-----------------------#2024-03-15)
- en: '*Sometimes, we want to visualize a business process in Power BI. This is challenging,
    depending on the visualization needed and when we model our data in the usual
    way. Let’s see how we can make it happen by changing the modeling.*'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*有时，我们希望在 Power BI 中可视化一个业务流程。根据所需的可视化效果以及我们通常方式建模数据时，这可能是一个挑战。让我们通过改变建模方式来看如何实现这一目标。*'
- en: '[](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)[![Salvatore
    Cagliari](../Images/a24b0cefab6e707cfee06cde9e857559.png)](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)
    [Salvatore Cagliari](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)[![Salvatore
    Cagliari](../Images/a24b0cefab6e707cfee06cde9e857559.png)](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)[](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)
    [Salvatore Cagliari](https://medium.com/@salvatorecagliari?source=post_page---byline--772cd9510c31--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)
    ·11 min read·Mar 15, 2024
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于 [Towards Data Science](https://towardsdatascience.com/?source=post_page---byline--772cd9510c31--------------------------------)
    ·阅读时长 11 分钟·2024年3月15日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/22db2a16d53f8700de706c762587112a.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/22db2a16d53f8700de706c762587112a.png)'
- en: Photo by [Lukas Blazek](https://unsplash.com/@goumbik?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由 [Lukas Blazek](https://unsplash.com/@goumbik?utm_source=medium&utm_medium=referral)
    提供，来自 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Our Business is made up of processes. Some are obvious, like a production process,
    and others are more virtual.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的业务由多个流程组成。有些流程很明显，比如生产流程，而有些则更具虚拟性。
- en: For example, when I want to calculate the Margin, there is a “process” to do
    it.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当我想计算利润时，实际上是有一个“过程”来实现的。
- en: In a very simplistic way, when I take my income and subtract my expenses, what’s
    remaining is my margin.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 以非常简单的方式来说，当我把收入减去开支时，剩下的就是我的利润。
- en: My current target is to visualize this process in a chart.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我目前的目标是通过图表可视化这一过程。
- en: The chart should display the composition of the Margin as a Process. For this,
    I like to show the values from the Sales Amount to the Margin as a Waterfall.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 该图表应该显示利润的构成过程。为此，我喜欢将销售金额到利润的值显示为瀑布图。
- en: 'Something like this Mockup, which I created in Excel:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我在 Excel 中创建的一个类似的模型：
- en: '![](../Images/5aa82746a44574f63a1beb6b8595cb1a.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5aa82746a44574f63a1beb6b8595cb1a.png)'
- en: Figure 1 — Target Visualization of the composition of my Margin (Figure by the
    Author)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图1 — 我的利润构成的目标可视化（图由作者提供）
- en: I start with the Sales Amount, and all expenses will be deducted until I get
    the Margin.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我从销售金额开始，逐步扣除所有费用，直到得到利润。
- en: There are some challenges to realizing this in Power BI.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Power BI 中实现这一点有一些挑战。
- en: First, I must change my data model. Then, I can write a few Measures. Finally,
    I can create the visualization.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我必须更改我的数据模型。然后，我可以编写一些度量值。最后，我可以创建可视化图表。
- en: Ultimately, I will collect information about the data model and its performance
    to assess the quality of my approach.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，我将收集有关数据模型及其性能的信息，以评估我的方法的质量。
- en: Let’s go through these steps.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐步了解这些步骤。
- en: Data Challenge
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据挑战
- en: Firstly, the Standard Waterfall chart doesn’t allow for the addition of multiple
    measures to build this chart.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，标准的瀑布图不允许添加多个度量来构建这个图表。
- en: At least one custom visual can do this, but it’s a paid visual, and I want to
    go with the standard waterfall visual. The majority of my clients are reluctant
    to buy custom visuals.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 至少有一个自定义可视化可以做到这一点，但它是收费的可视化，我想使用标准的瀑布图。我的大多数客户不愿意购买自定义可视化。
- en: So, I need to change how the data is stored to complete the job.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我需要改变数据存储方式以完成这项工作。
- en: Usually, we store our data with one Value per column.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，我们将数据按每列一个数值的方式存储。
- en: 'Something like this:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 类似这样的：
- en: '![](../Images/57fd4a92340a2c92cabb0101c1ebcf3b.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/57fd4a92340a2c92cabb0101c1ebcf3b.png)'
- en: Figure 2 — Standard way of modeling facts (Transactions) (Figure by the Author)
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2 — 标准的事实建模方式（交易）（图由作者提供）
- en: I create different DAX measures to aggregate the columns to get the result.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我创建了不同的 DAX 度量来聚合列，以获得所需结果。
- en: Ultimately, I can calculate the Margin by deducing the expenditures from the
    Sales Amount to calculate the Margin.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，我可以通过从销售额中扣除支出来计算利润率。
- en: However, this approach doesn’t solve my problem. Therefore I need to use a different
    data modeling approach for the waterfall chart.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这种方法并没有解决我的问题。因此，我需要使用不同的数据建模方法来绘制瀑布图。
- en: I can add only one Measure to the visual. For the segments in the Waterfall
    chart, I must add a column for the categorization/segmentation of the data.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我只能将一个度量添加到可视化中。对于瀑布图中的各个部分，我必须添加一列用于数据的分类/分段。
- en: To achieve this, I must Unpivot the data to store the single Measure values
    vertically in one Value column. The Measure Name is stored in a separate column
    to contain the categorization information.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一点，我必须取消透视数据，将单个度量值垂直存储在一个数值列中。度量名称存储在一个单独的列中，用来包含分类信息。
- en: 'Something like this:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 类似这样的：
- en: '![](../Images/373edf1d6fe7a7c7e39cb45c9ccd8cec.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/373edf1d6fe7a7c7e39cb45c9ccd8cec.png)'
- en: Figure 3 — Unpivoted (Serialized) data (Figure by the Author)
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3 — 取消透视后的（序列化的）数据（图由作者提供）
- en: This modeling technique is called “Serialization”, as the data is serialized
    vertically instead of horizontally.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 这种建模技术被称为“序列化”，因为数据是垂直序列化的，而不是水平序列化的。
- en: 'There is still one catch: All the values are positive. However, I must turn
    some of them into negative values when displaying them in the waterfall chart
    to deduce them from the sales amount.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 仍然有一个问题：所有的值都是正数。然而，我必须将其中一些值转换为负数，在瀑布图中显示时，用来从销售额中扣除它们。
- en: Moreover, the order of the Measures must be in the correct order to make sure
    they are not displayed in alphabetical order.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，度量的顺序必须正确，以确保它们不会按字母顺序显示。
- en: 'To achieve this, I create a table with my Measures like this:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一点，我创建一个包含度量的表，如下所示：
- en: '![](../Images/60b983f71c8eac1f07c1b29b00ad4ee2.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/60b983f71c8eac1f07c1b29b00ad4ee2.png)'
- en: Figure 4 — Measure-List table (Figure by the Author)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4 — 度量列表表（图由作者提供）
- en: If your source is a relational database, I recommend creating this table and
    transforming your data there.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的数据源是关系型数据库，我建议在数据库中创建这个表并进行数据转换。
- en: As the exact way of doing it in a database can vary from one platform to another
    and from the type of data modeling to another, I will not show this here. Contact
    your database developer for this.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 由于在不同平台和数据建模类型之间，数据库中的具体操作方式可能不同，我将在这里不展示这一部分。请联系你的数据库开发人员来处理这个问题。
- en: I will show you how to do it in Power Query and DAX in this piece.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在这篇文章中，我将向你展示如何在 Power Query 和 DAX 中做到这一点。
- en: Data re-modeling in Power Query
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Power Query 中的数据重新建模
- en: 'The first steps are straightforward in Power Query:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Power Query 中，第一步是直接的：
- en: I use the Unpivot transformation to switch from column- to row-oriented and
    get the result, as shown in my example above.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用取消透视转换将数据从列导向转为行导向，并得到如上所示的结果。
- en: 'I select all columns with values (Measure-columns) and click the Unpivot button.
    There, I choose “Unpivot only selected columns”:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我选择所有包含值的列（度量列），然后点击“取消透视”按钮。在这里，我选择“仅取消透视选定的列”：
- en: '![](../Images/20e5bbb179fb569f21ee5fd3ca82ab76.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/20e5bbb179fb569f21ee5fd3ca82ab76.png)'
- en: Figure 5 — Unpivot all Measure-columns (Figure by the Author)
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5 — 取消透视所有度量列（图由作者提供）
- en: 'After some time (Depending on the amount of data and the source), the Measure
    columns are replaced by two new columns: Attribute and Value.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一段时间后（取决于数据量和来源），度量列会被替换为两个新列：属性和数值。
- en: 'I change the M-Code to rename the “Attribute” column to “Measure”:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我修改了 M 代码，将“属性”列重命名为“度量”：
- en: '![](../Images/d2fbbab919a66ac0134f55c4f3fb99d2.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d2fbbab919a66ac0134f55c4f3fb99d2.png)'
- en: Figure 6 — Change the name of the Attribute columns (Figure by the Author)
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6 — 更改属性列的名称（图由作者提供）
- en: 'To see the formula bar in Power Query, you must enable the following option:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 Power Query 中查看公式栏，必须启用以下选项：
- en: '![](../Images/db9f265141cd40547006cbd8e10ad46b.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/db9f265141cd40547006cbd8e10ad46b.png)'
- en: Figure 7 — Enable the formula bar in Power Query (Figure by the Author)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7 — 在 Power Query 中启用公式栏（图由作者提供）
- en: As my model with the Contoso demo data contains two fact tables (Online and
    Retail Sales), I repeat these steps with the other table.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我的模型包含了 Contoso 演示数据，其中有两个事实表（在线销售和零售销售），我对另一个表执行相同的步骤。
- en: Next, I create the table with the list of all Measures.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我创建包含所有 Measure 的列表的表格。
- en: I right-click on the Online Sales table and click on “Reference”. I create a
    reference, as it reuses the data already read from the source. “Duplicate” would
    re-read the complete table from the source, which is unnecessary.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我右键点击在线销售表格，点击“引用”。我创建了一个引用，因为它重用了已经从数据源读取的数据。“重复”操作会重新从源读取完整的表格，这是不必要的。
- en: A new table is added to Power Query.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一个新表已添加到 Power Query。
- en: I rename this table to “MeasureList”.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我将此表重命名为“MeasureList”。
- en: 'I need only the Measure column. Therefore, I right-click on the Measure column
    and click on “Remove other columns”:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我只需要 Measure 列。因此，我右键点击 Measure 列并点击“删除其他列”：
- en: '![](../Images/d6eca80e4a3fd6a073c36880a0ba7a61.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d6eca80e4a3fd6a073c36880a0ba7a61.png)'
- en: Figure 8 — Remove all columns from the referenced table (Figure by the Author)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8 — 从引用表中删除所有列（图由作者提供）
- en: I repeat the same steps for the Retail Sales table. But this time, I rename
    the table to “Retail Measures”.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我对零售销售表执行相同的步骤。不过这次，我将表格重命名为“零售度量”。
- en: 'This table will be appended to the MeasureList table. So, I turn off the Load
    of this table:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这个表将被附加到 MeasureList 表格。所以，我关闭了该表的加载功能：
- en: '![](../Images/ca5651a25d3e8260e630d2efae94feab.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ca5651a25d3e8260e630d2efae94feab.png)'
- en: Figure 9 — Disable the load into Power BI for the second referenced table (Figure
    by the Author)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9 — 禁用第二个引用表的 Power BI 加载（图由作者提供）
- en: 'Now I append the second referenced table to the table “MeasureList”:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我将第二个引用表附加到“MeasureList”表：
- en: '![](../Images/9960dd5ec93cb9cfe140382f6bd1fb06.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9960dd5ec93cb9cfe140382f6bd1fb06.png)'
- en: Figure 10 — Append the second table to the “MeasureList” table (Figure by the
    Author)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10 — 将第二张表附加到“MeasureList”表（图由作者提供）
- en: I select the second table, “Retail Measures”, in the following dialog box.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我在以下对话框中选择了第二个表，“零售度量”。
- en: 'The last step here is to remove the Duplicates from the resulting table:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的最后一步是从结果表中删除重复项：
- en: '![](../Images/d22cedb4e0653cf63e2e57f66e629585.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d22cedb4e0653cf63e2e57f66e629585.png)'
- en: Figure 11 — Remove the duplicates from the “MeasureList” table (Figure by the
    Author)
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11 — 从“MeasureList”表中删除重复项（图由作者提供）
- en: 'The result is the combined list of all Measures from both tables:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是两个表中的所有 Measure 的组合列表：
- en: '![](../Images/ad7f0ddba2cec1724bb02f395b1480b4.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ad7f0ddba2cec1724bb02f395b1480b4.png)'
- en: Figure 12 — Resulting “MeasureList” table (Figure by the Author)
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12 — 结果的“MeasureList”表格（图由作者提供）
- en: 'Now, I must add a conditional column to add the MeasureSort column:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我必须添加一个条件列来添加 MeasureSort 列：
- en: '![](../Images/6462d5afd47cd09cd9c387bee35cfe4d.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6462d5afd47cd09cd9c387bee35cfe4d.png)'
- en: Figure 13 — Add a Conditional column to create the MeasureOrder (Figure by the
    Author)
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13 — 添加条件列以创建 MeasureOrder（图由作者提供）
- en: 'The order for all Measures is the following:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 所有 Measure 的顺序如下：
- en: '“SalesAmount”: 1'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“SalesAmount”: 1'
- en: '“SalesQuantity”: 2'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“SalesQuantity”: 2'
- en: '“ReturnAmount”: 3'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“ReturnAmount”: 3'
- en: '“ReturnQuantity”: 4'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“ReturnQuantity”: 4'
- en: '“UnitPrice”: 5'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“UnitPrice”: 5'
- en: '“TotalCost”: 6'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“TotalCost”: 6'
- en: '“UnitCost”: 7'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“UnitCost”: 7'
- en: '“DiscountAmount”: 8'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“DiscountAmount”: 8'
- en: '“DiscountQuantity”: 9'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '“DiscountQuantity”: 9'
- en: In my case, Power Query needs a lot of time to get all the data.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的案例中，Power Query 需要大量时间来获取所有数据。
- en: The reason is that I get two huge tables from the operations done.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 原因是，我从操作中得到了两个巨大的表格。
- en: 'Let’s do some math:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们做一些数学计算：
- en: The Online Sales table has 12 million rows multiplied by nine Measure columns,
    and I get over 108 million rows.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在线销售表格有 1200 万行，再乘以九个 Measure 列，结果是超过 1.08 亿行。
- en: The Retail Sales table has almost 3.5 million rows. Multiplied by nine, I get
    31.5 million rows.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 零售销售表有将近 350 万行，再乘以九，我得到了 3150 万行。
- en: I will return to these numbers later when we look at this model’s statistics
    and performance.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们查看该模型的统计信息和性能时，我稍后会回到这些数字。
- en: Therefore, I calculate the column Factor in DAX to save time.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我使用 DAX 计算 Factor 列来节省时间。
- en: I would have added a further Conditional column with the logic to set the correct
    values in Power Query, but I did not do it to save time.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我本来会在 Power Query 中添加一个带有逻辑的条件列来设置正确的值，但为了节省时间，我没有这样做。
- en: Add the calculated column in DAX
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 DAX 中添加计算列
- en: I add the Factor column to the new MeasaureList table as a calculated column
    in Power BI.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我将 Factor 列作为计算列添加到新的 MeasureList 表中，使用 Power BI 进行计算。
- en: 'As I have only two possible values, I use [IF()](https://dax.guide/if/) to
    calculate the result:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我只有两个可能的值，所以我使用 [IF()](https://dax.guide/if/) 来计算结果：
- en: '[PRE0]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'After hiding the MeasureOrder column, the MeasureList table looks like this
    now:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 隐藏 MeasureOrder 列后，MeasureList 表现在看起来是这样的：
- en: '![](../Images/c570ea3275ca1f52ab18ce0d9404bf59.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c570ea3275ca1f52ab18ce0d9404bf59.png)'
- en: Figure 14 — Completed “MeasureList” table (Figure by the Author)
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14 — 完成的“MeasureList”表（图表由作者提供）
- en: 'Now, I must set the “Sort by Column” for the Measure column to the MeasureOrder
    column:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我必须将 Measure 列的“Sort by Column”设置为 MeasureOrder 列：
- en: '![](../Images/0708876c223a9f73bd51f0eab31bbe42.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0708876c223a9f73bd51f0eab31bbe42.png)'
- en: Figure 15 — Set the Order by the MeasureOrder column (Figure by the Author)
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15 — 通过 MeasureOrder 列设置顺序（图表由作者提供）
- en: Next, I add Relationships from the “MeasureList” table to the table Online Sales
    and Retail Sales.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我从“MeasureList”表添加关系到“Online Sales”和“Retail Sales”表。
- en: I Hide the Measure columns from both Fact tables.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 我从两个事实表中隐藏了 Measure 列。
- en: 'I add two Base Measures to summarize the Value columns from both Fact tables:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 我添加了两个基础 Measure 来汇总两个事实表中的值列：
- en: '[PRE1]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: I must change all Measures, which accessed the separate Measure columns, to
    a Measure, which filters the Measure.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我必须将所有访问单独 Measure 列的 Measure 更改为过滤 Measure 的 Measure。
- en: 'Something like this:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 类似这样的：
- en: '[PRE2]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'But, to calculate the correct value for the Waterfall chart, I need to include
    the Factor by Measure in my final Measure:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，要计算瀑布图的正确值，我需要在最终的 Measure 中包含按 Measure 计算的因子：
- en: '[PRE3]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Now we can create the Waterfall Visualization.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以创建瀑布图可视化。
- en: Visualization
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化
- en: I add the Waterfall Visual to a new Report page.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 我将瀑布图添加到一个新的报告页面。
- en: 'I set the Measure [Value with Factor] for the Y-Axis and the Measure column
    from the MeasureList table as Category:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我为 Y 轴设置了 Measure [Value with Factor]，并将 MeasureList 表中的 Measure 列设置为分类：
- en: '![](../Images/96a1b28d8d49179195c425babb3bd8e1.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/96a1b28d8d49179195c425babb3bd8e1.png)'
- en: Figure 16 — Set up the Waterfall chart (Figure by the Author)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图 16 — 设置瀑布图（图表由作者提供）
- en: But now, we see all the Measures in the “MeasureList” table.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 但现在，我们看到了“MeasureList”表中的所有 Measure。
- en: 'As I want to see only a subset of them, I use the Filter pane to narrow down
    to the needed Measures:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我只想查看它们的子集，所以我使用筛选面板来缩小到所需的 Measure：
- en: '![](../Images/59aa555be8abea65a2d014360f5193f9.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/59aa555be8abea65a2d014360f5193f9.png)'
- en: Figure 17 — Set the Filters for the Waterfall Visual (Figure by the Author)
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 17 — 为瀑布图设置筛选器（图表由作者提供）
- en: 'After adding a Slicer for the Calendar year to filter for the year 2008 and
    sorting the chart by the Measure name, I got the result I wanted (After enabling
    the Data labels and removing the axis legends, etc.):'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加了一个筛选器（Slicer），用于筛选2008年的日历年，并按 Measure 名称对图表进行排序后，我得到了我想要的结果（启用了数据标签并移除了轴标签等）：
- en: '![](../Images/d651ca9f774e5d283a2882f7ae6ce579.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d651ca9f774e5d283a2882f7ae6ce579.png)'
- en: Figure 18 — Completed Waterfall chart (Figure by the Author)
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18 — 完成的瀑布图（图表由作者提供）
- en: This is almost what I expected.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这几乎是我预期的结果。
- en: Unfortunately, renaming the Total column to, for example, “Margin” is impossible.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，无法将 Total 列重命名为“Margin”（例如）。
- en: I tried adding a Text box with the word “Margin” on top of the word “Total”.
    But first, it is a tedious task (I must match the font, the font size, and the
    color, and I have to put it in the correct position). Second, when a User clicks
    on the waterfall visual, it automatically switches to the front, hiding the Text
    box.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我试图在“Total”字样上方添加一个文本框，里面写着“Margin”。但首先，这是一个繁琐的任务（我必须匹配字体、字体大小和颜色，并且还得将其放置在正确的位置）。其次，当用户点击瀑布图时，它会自动切换到前面，遮住文本框。
- en: Alternatively, I write a good title to ensure the users understand what they
    see.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，我写了一个好的标题，确保用户能理解他们看到的内容。
- en: Let’s talk about statistics
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 让我们来谈谈统计数据
- en: Before we shout, “Yes, this solves all my problems. I will do it only in this
    way from now on!” Let’s look at some statistics and performance numbers.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们大声喊出“是的，这解决了我所有的问题，从今以后我只会这样做！”之前，让我们看看一些统计数据和性能指标。
- en: I use Vertipaq Analyzer to analyze the statistics on the original and modified
    data models.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用 Vertipaq Analyzer 分析原始和修改后的数据模型中的统计数据。
- en: 'First, the difference in the size of the saved pbix files is not that much:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，保存的 pbix 文件大小差异并不大：
- en: 290 MB for the Original
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 原始模型为 290 MB
- en: 340 MB for the modified model
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改后的模型为 340 MB
- en: 'But, when I look at the In-memory size from Vertipaq Analyzes, I get different
    numbers:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，当我查看来自 Vertipaq 分析的内存大小时，我得到不同的数字：
- en: 350 MB for the Original
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 原始模型为 350 MB
- en: 950 MB for the modified model
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改后的模型为 950 MB
- en: Memory usage has almost tripled.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 内存使用量几乎增加了三倍。
- en: This indicates that the data cannot be compressed as well as before.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明数据无法像之前那样很好地压缩。
- en: 'And, when we look at the table statistics, we see what happens:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，当我们查看表格统计信息时，我们看到发生了什么：
- en: '![](../Images/6aa6e7295fdf8b967a0861ccb31956de.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6aa6e7295fdf8b967a0861ccb31956de.png)'
- en: Figure 19 — Table statistics from both models (Figure by the Author)
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图 19 — 两个模型的表格统计信息（图由作者提供）
- en: On top of the picture, you see the statistics of the original model, and below,
    you see the modified model.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在图片的顶部，你看到的是原始模型的统计数据，而下面是修改后的模型。
- en: As shown before, the row number is multiplied by the number of Measure columns.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示，行数是乘以度量列数的结果。
- en: But the size of the tables is almost four times larger.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 但是表格的大小几乎大了四倍。
- en: When I dig deeper into the data, I can see that the Value columns use a lot
    more memory, but the Sales Order Number, Sales Order Number, and the ProductKey
    columns of the Online Sales table use 42.5 % of the entire database. This percentage
    was much lower before changing the data modeling.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 当我更深入地分析数据时，我发现值列使用了更多的内存，但在线销售表的销售订单号、销售订单号和产品键列占用了整个数据库的 42.5%。在更改数据建模之前，这一比例要低得多。
- en: I can try to change the table’s order. However, Power BI usually makes a good
    decision after analyzing the data and deciding which column to sort the data by
    to achieve the best compression.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以尝试更改表的顺序。然而，Power BI 通常会在分析数据并决定按照哪个列对数据进行排序以实现最佳压缩后做出较好的决策。
- en: It takes almost an hour to reload these two tables, so I will not do it now.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载这两张表几乎需要一个小时，所以我现在不做了。
- en: I will possibly do it in the future and publish the results here.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我可能会在未来做，并将结果发布在这里。
- en: But first, let’s do some performance measurements.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 但是首先，让我们做一些性能测量。
- en: 'I use [DAX Studio](https://www.sqlbi.com/tools/dax-studio/) and the method
    described here to get performance data:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用 [DAX Studio](https://www.sqlbi.com/tools/dax-studio/) 和这里描述的方法来获取性能数据：
- en: '[](/how-to-get-performance-data-from-power-bi-with-dax-studio-b7f11b9dd9f9?source=post_page-----772cd9510c31--------------------------------)
    [## How to get performance data from Power BI with DAX Studio'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/how-to-get-performance-data-from-power-bi-with-dax-studio-b7f11b9dd9f9?source=post_page-----772cd9510c31--------------------------------)
    [## 如何使用 DAX Studio 获取 Power BI 的性能数据'
- en: Sometimes we have a slow Report, and we need to figure out why. We will see
    how to collect performance data and the…
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 有时我们会遇到报告变慢的情况，我们需要找出原因。我们将看到如何收集性能数据以及……
- en: towardsdatascience.com](/how-to-get-performance-data-from-power-bi-with-dax-studio-b7f11b9dd9f9?source=post_page-----772cd9510c31--------------------------------)
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/how-to-get-performance-data-from-power-bi-with-dax-studio-b7f11b9dd9f9?source=post_page-----772cd9510c31--------------------------------)
- en: 'The first test is to compare the Online Sales amount:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个测试是比较在线销售金额：
- en: I get the query from a Visual showing the Sales Amount by Year and month.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 我从一个显示按年份和月份销售金额的可视化中获取查询。
- en: 'The execution statistics for the original data model are:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 原始数据模型的执行统计信息如下：
- en: '![](../Images/b7ae03ef74a0b612c3e79102fe38124f.png)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b7ae03ef74a0b612c3e79102fe38124f.png)'
- en: Figure 20 — Simple Sales Amount calculation (Original) (Figure by the Author)
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 图 20 — 简单的销售金额计算（原始）（图由作者提供）
- en: 'Here are the execution statistics for the modified data model:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是修改后的数据模型的执行统计信息：
- en: '![](../Images/1822523eb2f7a46275c3ced4e36b7f68.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1822523eb2f7a46275c3ced4e36b7f68.png)'
- en: Figure 21 — Simple Sales Amount calculation (Modified data model) (Figure by
    the Author)
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图 21 — 简单的销售金额计算（修改后的数据模型）（图由作者提供）
- en: As you can see, the Total time is considerably higher. When we look at the SE
    numbers, we see that the parallelism is much lower than before, which indicates
    that the model is less efficient.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，总时间明显更高。当我们查看 SE 数字时，我们发现并行性比之前低得多，这表明该模型效率较低。
- en: 'Now, I add more Measures. For example, the Margin, PY, YoY change, and some
    more:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我添加更多的度量。例如，利润率、去年、同比变化等等：
- en: '![](../Images/79b07fd95c24f15f12898965f2585e20.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/79b07fd95c24f15f12898965f2585e20.png)'
- en: Figure 22 — Multiple Measure calculation (Original) (Figure by the Author)
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 22 — 多度量计算（原始）（图由作者提供）
- en: 'Here for the modified data model:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 这是修改后的数据模型：
- en: '![](../Images/12fd3a68cd5c425f209abe5986e53337.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/12fd3a68cd5c425f209abe5986e53337.png)'
- en: Figure 23 — Multiple Measure calculation (Modified data model) (Figure by the
    Author)
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图23 — 多度量计算（修改后的数据模型）（作者提供的图示）
- en: As you can see, the performance difference between the two data models is again
    huge.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，两个数据模型之间的性能差异再次非常大。
- en: And these are very simple calculations.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 而且这些只是非常简单的计算。
- en: The difference is much higher when I look at more complex calculations. I observed
    3–4 times worse performance.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当我查看更复杂的计算时，差异会更大。我观察到性能差异为原来的3到4倍。
- en: Conclusion
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: While this approach opens several possibilities, I would only recommend using
    it for some specific scenarios.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种方法打开了多种可能性，但我只推荐在某些特定场景下使用它。
- en: I suggest using it only when fulfilling a requirement is impossible with a standard
    model.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议仅在标准模型无法满足需求时使用这种方法。
- en: The risk for performance degradation is tangible and cannot be ignored.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 性能下降的风险是显而易见的，不能忽视。
- en: 'Don’t be fooled by the thinking: “I have only a few thousand rows of data.”'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 不要被这种思维误导：“我只有几千行数据。”
- en: In my experience, the amount of data is irrelevant in Power BI.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我的经验，Power BI中的数据量并不重要。
- en: More important is the number of distinct values in the data. Otherwise called
    “Cardinality”.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 更重要的是数据中的不同值的数量，也就是所谓的“基数”。
- en: Let’s look at the column Order number.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 我们来看一下“订单编号”这一列。
- en: Each order has a different Order number. So, the cardinality is very high, and
    this column cannot be compressed efficiently.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 每个订单都有不同的订单编号。因此，这一列的基数非常高，无法有效压缩。
- en: Then, a complex calculation can lead to poor performance even with a few thousand
    rows.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，即便是几千行数据，复杂的计算也可能导致性能差。
- en: Consequently, each situation is different and must be tested accordingly.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，每种情况都不同，必须根据情况进行相应的测试。
- en: Anyway, this route is sometimes necessary to allow charts like the one requested
    in my case.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，这条路径在某些时候是必须的，以允许像我案例中请求的图表。
- en: One of my clients has data over which he wants to create two Waterfall charts
    like the one shown above.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我的一个客户有一份数据，他希望根据这些数据创建两个类似上面展示的瀑布图。
- en: However, the two tables involved in his business case have 25 Measure columns,
    which would mean a 25fold increase in data rows.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，他的业务案例中涉及的两张表有25个度量列，这意味着数据行数将增加25倍。
- en: In that case, he needs two waterfall charts for eight Measures. I will leave
    the original table and duplicate only the required data to create the requested
    charts.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，他需要为八个度量创建两个瀑布图。我将保留原始表，并仅复制所需的数据来创建请求的图表。
- en: Therefore, all “normal” calculations will perform as usual while being able
    to fulfill his requirements.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，所有“正常”的计算将在能够满足其要求的同时，保持正常的性能。
- en: Another positive reason to do it this way is that I can combine (Append in Power
    Query) the fact tables into one table. In such a case, I would add a column with
    the source, for example, “Online Sales” and “Retail Sales”, before combining them
    into one table. This can lead to a simpler data model.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 另外一个采用这种方式的积极原因是，我可以将事实表（在Power Query中追加）合并成一张表。在这种情况下，我会在合并之前添加一个包含来源的列，例如“在线销售”和“零售销售”。这样可以简化数据模型。
- en: But as we know now, we need to test, repeat, and test again with other scenarios,
    etc., until we know the consequences of this modeling approach.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 但正如我们现在所知道的，我们需要进行测试，重复测试，并进行其他场景的测试，直到我们了解这种建模方法的后果。
- en: '![](../Images/9de8d0e476c140781b8400f034dfb6f8.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9de8d0e476c140781b8400f034dfb6f8.png)'
- en: Photo by [Jan Kopřiva](https://unsplash.com/@jxk?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 由[Jan Kopřiva](https://unsplash.com/@jxk?utm_source=medium&utm_medium=referral)拍摄，图片来源于[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: References
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: I use the Contoso sample dataset, as I did in my previous articles. You can
    download the ContosoRetailDW Dataset for free from Microsoft [here](https://www.microsoft.com/en-us/download/details.aspx?id=18279).
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用的是Contoso示例数据集，正如我在之前的文章中所做的那样。你可以从微软[这里](https://www.microsoft.com/en-us/download/details.aspx?id=18279)免费下载ContosoRetailDW数据集。
- en: The Contoso Data can be freely used under the MIT License, as described [here](https://github.com/microsoft/Power-BI-Embedded-Contoso-Sales-Demo).
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: Contoso数据可以在MIT许可证下自由使用，具体描述请见[这里](https://github.com/microsoft/Power-BI-Embedded-Contoso-Sales-Demo)。
- en: '[](https://medium.com/subscribe/@salvatorecagliari?source=post_page-----772cd9510c31--------------------------------)
    [## Get an email whenever Salvatore Cagliari publishes.'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/subscribe/@salvatorecagliari?source=post_page-----772cd9510c31--------------------------------)
    [## 每当Salvatore Cagliari发布文章时，获取电子邮件通知。'
- en: Get an email whenever Salvatore Cagliari publishes. By signing up, you will
    create a Medium account if you don't…
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 每当Salvatore Cagliari发布文章时，都会收到电子邮件通知。通过注册，如果你还没有Medium账户，你将会创建一个账户…
- en: medium.com](https://medium.com/subscribe/@salvatorecagliari?source=post_page-----772cd9510c31--------------------------------)
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: medium.com](https://medium.com/subscribe/@salvatorecagliari?source=post_page-----772cd9510c31--------------------------------)
- en: I make my articles accessible to everyone, even though Medium has a paywall.
    This allows me to earn a little for each reader, but I turn it off so you can
    read my pieces without cost.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管Medium有付费墙，我还是让我的文章对每个人都可访问。这让我可以从每个读者那里赚取一些收入，但我将其关闭，以便你可以免费阅读我的文章。
- en: You can support my work, which I do during my free time, through
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过以下方式支持我的工作，这是我在空闲时间进行的工作，
- en: '[https://buymeacoffee.com/salvatorecagliari](https://buymeacoffee.com/salvatorecagliari)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://buymeacoffee.com/salvatorecagliari](https://buymeacoffee.com/salvatorecagliari)'
- en: 'Or scan this QR Code:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 或者扫描这个二维码：
- en: '![](../Images/e7ac062070dcd7a00dcf995ad7e95434.png)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e7ac062070dcd7a00dcf995ad7e95434.png)'
- en: Any support is greatly appreciated and helps me find more time to create more
    content for you.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 任何支持都将不胜感激，并帮助我找到更多时间为你创造更多内容。
- en: Thank you a lot.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 非常感谢。
